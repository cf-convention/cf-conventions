<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="author" content="Brian&#160;Eaton, Jonathan&#160;Gregory, Bob&#160;Drach, Karl&#160;Taylor, Steve&#160;Hankin, Jon&#160;Blower, John&#160;Caron, Rich&#160;Signell, Phil&#160;Bentley, Greg&#160;Rappa, Heinke&#160;Höck, Alison&#160;Pamment, Martin&#160;Juckes, Martin&#160;Raspaud, Randy&#160;Horne, Timothy&#160;Whiteaker, David&#160;Blodgett, Charlie&#160;Zender, Daniel&#160;Lee, David&#160;Hassell, Alan&#160;D.&#160;Snow, Tobias&#160;Kölling, Dave&#160;Allured, Aleksandar&#160;Jelenak, Anders&#160;Meier&#160;Soerensen, Lucile&#160;Gaultier, Sylvain&#160;Herlédan, Fernando&#160;Manzano, Lars&#160;Bärring, Christopher&#160;Barker, Sadie&#160;Bartholomew">
<title>NetCDF Climate and Forecast (CF) Metadata Conventions</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
<h1>NetCDF Climate and Forecast (CF) Metadata Conventions</h1>
<div class="details">
<span id="author" class="author">Brian&#160;Eaton</span><br>
<span id="author2" class="author">Jonathan&#160;Gregory</span><br>
<span id="author3" class="author">Bob&#160;Drach</span><br>
<span id="author4" class="author">Karl&#160;Taylor</span><br>
<span id="author5" class="author">Steve&#160;Hankin</span><br>
<span id="author6" class="author">Jon&#160;Blower</span><br>
<span id="author7" class="author">John&#160;Caron</span><br>
<span id="author8" class="author">Rich&#160;Signell</span><br>
<span id="author9" class="author">Phil&#160;Bentley</span><br>
<span id="author10" class="author">Greg&#160;Rappa</span><br>
<span id="author11" class="author">Heinke&#160;Höck</span><br>
<span id="author12" class="author">Alison&#160;Pamment</span><br>
<span id="author13" class="author">Martin&#160;Juckes</span><br>
<span id="author14" class="author">Martin&#160;Raspaud</span><br>
<span id="author15" class="author">Randy&#160;Horne</span><br>
<span id="author16" class="author">Timothy&#160;Whiteaker</span><br>
<span id="author17" class="author">David&#160;Blodgett</span><br>
<span id="author18" class="author">Charlie&#160;Zender</span><br>
<span id="author19" class="author">Daniel&#160;Lee</span><br>
<span id="author20" class="author">David&#160;Hassell</span><br>
<span id="author21" class="author">Alan&#160;D.&#160;Snow</span><br>
<span id="author22" class="author">Tobias&#160;Kölling</span><br>
<span id="author23" class="author">Dave&#160;Allured</span><br>
<span id="author24" class="author">Aleksandar&#160;Jelenak</span><br>
<span id="author25" class="author">Anders&#160;Meier&#160;Soerensen</span><br>
<span id="author26" class="author">Lucile&#160;Gaultier</span><br>
<span id="author27" class="author">Sylvain&#160;Herlédan</span><br>
<span id="author28" class="author">Fernando&#160;Manzano</span><br>
<span id="author29" class="author">Lars&#160;Bärring</span><br>
<span id="author30" class="author">Christopher&#160;Barker</span><br>
<span id="author31" class="author">Sadie&#160;Bartholomew</span><br>
<span id="revnumber">version &#160;1.11,</span>
<span id="revdate">&#160;&#160;05&#160;December,&#160;2023</span>
<br><span id="revremark">See&#160;<a href="https://cfconventions.org" target="_blank">https://cfconventions.org</a>&#160;for&#160;further&#160;information.</span>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_about_the_authors">About the authors</a></li>
<li><a href="#_abstract">Abstract</a></li>
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_goals">1.1. Goals</a></li>
<li><a href="#design">1.2. Principles for design</a></li>
<li><a href="#terminology">1.3. Terminology</a></li>
<li><a href="#_overview">1.4. Overview</a></li>
<li><a href="#coards-relationship">1.5. Relationship to the COARDS Conventions</a></li>
<li><a href="#ugrid-conventions">1.6. UGRID Conventions</a></li>
</ul>
</li>
<li><a href="#_netcdf_files_and_components">2. NetCDF Files and Components</a>
<ul class="sectlevel2">
<li><a href="#_filename">2.1. Filename</a></li>
<li><a href="#_data_types">2.2. Data Types</a></li>
<li><a href="#_naming_conventions">2.3. Naming Conventions</a></li>
<li><a href="#dimensions">2.4. Dimensions</a></li>
<li><a href="#variables">2.5. Variables</a>
<ul class="sectlevel3">
<li><a href="#missing-data">2.5.1. Missing data, valid and actual range of data</a></li>
</ul>
</li>
<li><a href="#_attributes">2.6. Attributes</a>
<ul class="sectlevel3">
<li><a href="#identification-of-conventions">2.6.1. Identification of Conventions</a></li>
<li><a href="#description-of-file-contents">2.6.2. Description of file contents</a></li>
<li><a href="#external-variables">2.6.3. External Variables</a></li>
</ul>
</li>
<li><a href="#groups">2.7. Groups</a>
<ul class="sectlevel3">
<li><a href="#_scope">2.7.1. Scope</a></li>
<li><a href="#_application_of_attributes">2.7.2. Application of attributes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_description_of_the_data">3. Description of the Data</a>
<ul class="sectlevel2">
<li><a href="#units">3.1. Units</a>
<ul class="sectlevel3">
<li><a href="#dimensionless-units">3.1.1. Dimensionless units</a></li>
<li><a href="#temperature-units">3.1.2. Temperature units</a></li>
<li><a href="#units-multiples">3.1.3. Scale factors and offsets</a></li>
</ul>
</li>
<li><a href="#long-name">3.2. Long Name</a></li>
<li><a href="#standard-name">3.3. Standard Name</a></li>
<li><a href="#ancillary-data">3.4. Ancillary Data</a></li>
<li><a href="#flags">3.5. Flags</a></li>
</ul>
</li>
<li><a href="#coordinate-types">4. Coordinate Types</a>
<ul class="sectlevel2">
<li><a href="#latitude-coordinate">4.1. Latitude Coordinate</a></li>
<li><a href="#longitude-coordinate">4.2. Longitude Coordinate</a></li>
<li><a href="#vertical-coordinate">4.3. Vertical (Height or Depth) Coordinate</a>
<ul class="sectlevel3">
<li><a href="#_dimensional_vertical_coordinate">4.3.1. Dimensional Vertical Coordinate</a></li>
<li><a href="#dimensionless-vertical-coordinate">4.3.2. Dimensionless Vertical Coordinate</a></li>
<li><a href="#parametric-vertical-coordinate">4.3.3. Parametric Vertical Coordinate</a></li>
</ul>
</li>
<li><a href="#time-coordinate">4.4. Time Coordinate</a>
<ul class="sectlevel3">
<li><a href="#calendar">4.4.1. Calendar</a></li>
</ul>
</li>
<li><a href="#discrete-axis">4.5. Discrete Axis</a></li>
</ul>
</li>
<li><a href="#coordinate-system">5. Coordinate Systems and Domain</a>
<ul class="sectlevel2">
<li><a href="#_independent_latitude_longitude_vertical_and_time_axes">5.1. Independent Latitude, Longitude, Vertical, and Time Axes</a></li>
<li><a href="#_two_dimensional_latitude_longitude_coordinate_variables">5.2. Two-Dimensional Latitude, Longitude, Coordinate Variables</a></li>
<li><a href="#reduced-horizontal-grid">5.3. Reduced Horizontal Grid</a></li>
<li><a href="#_timeseries_of_station_data">5.4. Timeseries of Station Data</a></li>
<li><a href="#_trajectories">5.5. Trajectories</a></li>
<li><a href="#grid-mappings-and-projections">5.6. Horizontal Coordinate Reference Systems, Grid Mappings, and Projections</a>
<ul class="sectlevel3">
<li><a href="#use-of-the-crs-well-known-text-format">5.6.1. Use of the CRS Well-known Text Format</a></li>
</ul>
</li>
<li><a href="#scalar-coordinate-variables">5.7. Scalar Coordinate Variables</a></li>
<li><a href="#domain-variables">5.8. Domain Variables</a></li>
<li><a href="#mesh-topology-variables">5.9. Mesh Topology Variables</a></li>
</ul>
</li>
<li><a href="#_labels_and_alternative_coordinates">6. Labels and Alternative Coordinates</a>
<ul class="sectlevel2">
<li><a href="#labels">6.1. Labels</a>
<ul class="sectlevel3">
<li><a href="#geographic-regions">6.1.1. Geographic Regions</a></li>
<li><a href="#taxon-names-and-identifiers">6.1.2. Taxon Names and Identifiers</a></li>
</ul>
</li>
<li><a href="#alternative-coordinates">6.2. Alternative Coordinates</a></li>
</ul>
</li>
<li><a href="#_data_representative_of_cells">7. Data Representative of Cells</a>
<ul class="sectlevel2">
<li><a href="#cell-boundaries">7.1. Cell Boundaries</a></li>
<li><a href="#cell-measures">7.2. Cell Measures</a></li>
<li><a href="#cell-methods">7.3. Cell Methods</a>
<ul class="sectlevel3">
<li><a href="#statistics-more-than-one-axis">7.3.1. Statistics for more than one axis</a></li>
<li><a href="#recording-spacing-original-data">7.3.2. Recording the spacing of the original data and other information</a></li>
<li><a href="#statistics-applying-portions">7.3.3. Statistics applying to portions of cells</a></li>
<li><a href="#cell-methods-no-coordinates">7.3.4. Cell methods when there are no coordinates</a></li>
</ul>
</li>
<li><a href="#climatological-statistics">7.4. Climatological Statistics</a></li>
<li><a href="#geometries">7.5. Geometries</a></li>
</ul>
</li>
<li><a href="#_reduction_of_dataset_size">8. Reduction of Dataset Size</a>
<ul class="sectlevel2">
<li><a href="#packed-data">8.1. Packed Data</a></li>
<li><a href="#compression-by-gathering">8.2. Lossless Compression by Gathering</a></li>
<li><a href="#compression-by-coordinate-subsampling">8.3. Lossy Compression by Coordinate Subsampling</a>
<ul class="sectlevel3">
<li><a href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas">8.3.1. Tie Points and Interpolation Subareas</a></li>
<li><a href="#compression-by-coordinate-subsampling-coordinate-interpolation-attribute">8.3.2. Coordinate Interpolation Attribute</a></li>
<li><a href="#compression-by-coordinate-subsampling-interpolation-variable">8.3.3. Interpolation Variable</a></li>
<li><a href="#compression-by-coordinate-subsampling-dimensions">8.3.4. Subsampled, Interpolated and Non-Interpolated Dimensions</a></li>
<li><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">8.3.5. Tie Point Mapping Attribute</a></li>
<li><a href="#compression-by-coordinate-subsampling-tie-point-dimension-mapping">8.3.6. Tie Point Dimension Mapping</a></li>
<li><a href="#compression-by-coordinate-subsampling-tie-point-index-mapping">8.3.7. Tie Point Index Mapping</a></li>
<li><a href="#compression-by-coordinate-subsampling-interpolation-parameters">8.3.8. Interpolation Parameters</a></li>
<li><a href="#compression-by-coordinate-subsampling-interpolation-of-cell-boundaries">8.3.9. Interpolation of Cell Boundaries</a></li>
<li><a href="#compression-by-coordinate-subsampling-interpolation-method-implementation">8.3.10. Interpolation Method Implementation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#discrete-sampling-geometries">9. Discrete Sampling Geometries</a>
<ul class="sectlevel2">
<li><a href="#_features_and_feature_types">9.1. Features and feature types</a></li>
<li><a href="#collections-instances-elements">9.2. Collections, instances and elements</a></li>
<li><a href="#representations-features">9.3. Representations of collections of features in data variables</a>
<ul class="sectlevel3">
<li><a href="#_orthogonal_multidimensional_array_representation">9.3.1. Orthogonal multidimensional array representation</a></li>
<li><a href="#_incomplete_multidimensional_array_representation">9.3.2.  Incomplete multidimensional array representation</a></li>
<li><a href="#_contiguous_ragged_array_representation">9.3.3.  Contiguous ragged array representation</a></li>
<li><a href="#_indexed_ragged_array_representation">9.3.4. Indexed ragged array representation</a></li>
</ul>
</li>
<li><a href="#featureType">9.4. The featureType  attribute</a></li>
<li><a href="#coordinates-metadata">9.5. Coordinates and metadata</a></li>
<li><a href="#ch9-missing-data">9.6. Missing Data</a></li>
</ul>
</li>
<li><a href="#attribute-appendix">Appendix A: Attributes</a></li>
<li><a href="#standard-name-table-format">Appendix B: Standard Name Table Format</a></li>
<li><a href="#standard-name-modifiers">Appendix C: Standard Name Modifiers</a></li>
<li><a href="#parametric-v-coord">Appendix D: Parametric Vertical Coordinates</a>
<ul class="sectlevel2">
<li><a href="#atmosphere-natural-log-pressure-coordinate">Atmosphere natural log pressure coordinate</a></li>
<li><a href="#_atmosphere_sigma_coordinate">Atmosphere sigma coordinate</a></li>
<li><a href="#_atmosphere_hybrid_sigma_pressure_coordinate">Atmosphere hybrid sigma pressure coordinate</a></li>
<li><a href="#atmosphere-hybrid-height-coordinate">Atmosphere hybrid height coordinate</a></li>
<li><a href="#_atmosphere_smooth_level_vertical_sleve_coordinate">Atmosphere smooth level vertical (SLEVE) coordinate</a></li>
<li><a href="#_ocean_sigma_coordinate">Ocean sigma coordinate</a></li>
<li><a href="#_ocean_s_coordinate">Ocean s-coordinate</a></li>
<li><a href="#_ocean_s_coordinate_generic_form_1">Ocean s-coordinate, generic form 1</a></li>
<li><a href="#_ocean_s_coordinate_generic_form_2">Ocean s-coordinate, generic form 2</a></li>
<li><a href="#_ocean_sigma_over_z_coordinate">Ocean sigma over z coordinate</a></li>
<li><a href="#_ocean_double_sigma_coordinate">Ocean double sigma coordinate</a></li>
</ul>
</li>
<li><a href="#appendix-cell-methods">Appendix E: Cell Methods</a></li>
<li><a href="#appendix-grid-mappings">Appendix F: Grid Mappings</a>
<ul class="sectlevel2">
<li><a href="#_albers_equal_area">Albers Equal Area</a></li>
<li><a href="#azimuthal-equidistant">Azimuthal equidistant</a></li>
<li><a href="#_geostationary_projection">Geostationary projection</a></li>
<li><a href="#lambert-azimuthal-equal-area">Lambert azimuthal equal area</a></li>
<li><a href="#_lambert_conformal">Lambert conformal</a></li>
<li><a href="#_lambert_cylindrical_equal_area">Lambert Cylindrical Equal Area</a></li>
<li><a href="#_latitude_longitude">Latitude-Longitude</a></li>
<li><a href="#_mercator">Mercator</a></li>
<li><a href="#_oblique_mercator">Oblique Mercator</a></li>
<li><a href="#_orthographic">Orthographic</a></li>
<li><a href="#polar-stereographic">Polar stereographic</a></li>
<li><a href="#_rotated_pole">Rotated pole</a></li>
<li><a href="#_sinusoidal">Sinusoidal</a></li>
<li><a href="#_stereographic">Stereographic</a></li>
<li><a href="#_transverse_mercator">Transverse Mercator</a></li>
<li><a href="#vertical-perspective">Vertical perspective</a></li>
</ul>
</li>
<li><a href="#_revision_history">Appendix G: Revision History</a></li>
<li><a href="#appendix-examples-discrete-geometries">Appendix H: Annotated Examples of Discrete Geometries</a>
<ul class="sectlevel2">
<li><a href="#point-data">H.1. Point Data</a></li>
<li><a href="#time-series-data">H.2. Time Series Data</a>
<ul class="sectlevel3">
<li><a href="#_orthogonal_multidimensional_array_representation_of_time_series">H.2.1. Orthogonal multidimensional array representation of time series</a></li>
<li><a href="#_incomplete_multidimensional_array_representation_of_time_series">H.2.2. Incomplete multidimensional array representation of time series</a></li>
<li><a href="#_single_time_series_including_deviations_from_a_nominal_fixed_spatial_location">H.2.3. Single time series, including deviations from a nominal fixed spatial location</a></li>
<li><a href="#_contiguous_ragged_array_representation_of_time_series">H.2.4. Contiguous ragged array representation of time series</a></li>
<li><a href="#_indexed_ragged_array_representation_of_time_series">H.2.5. Indexed ragged array representation of time series</a></li>
</ul>
</li>
<li><a href="#profile-data">H.3. Profile Data</a>
<ul class="sectlevel3">
<li><a href="#_orthogonal_multidimensional_array_representation_of_profiles">H.3.1. Orthogonal multidimensional array representation of profiles</a></li>
<li><a href="#_incomplete_multidimensional_array_representation_of_profiles">H.3.2. Incomplete multidimensional array representation of profiles</a></li>
<li><a href="#_single_profile">H.3.3. Single profile</a></li>
<li><a href="#_contiguous_ragged_array_representation_of_profiles">H.3.4. Contiguous ragged array representation of profiles</a></li>
<li><a href="#_indexed_ragged_array_representation_of_profiles">H.3.5. Indexed ragged array representation of profiles</a></li>
</ul>
</li>
<li><a href="#trajectory-data">H.4. Trajectory Data</a>
<ul class="sectlevel3">
<li><a href="#_multidimensional_array_representation_of_trajectories">H.4.1. Multidimensional array representation of trajectories</a></li>
<li><a href="#_single_trajectory">H.4.2. Single trajectory</a></li>
<li><a href="#_contiguous_ragged_array_representation_of_trajectories">H.4.3. Contiguous ragged array representation of trajectories</a></li>
<li><a href="#_indexed_ragged_array_representation_of_trajectories">H.4.4. Indexed ragged array representation of trajectories</a></li>
</ul>
</li>
<li><a href="#time-series-profiles">H.5. Time Series of Profiles</a>
<ul class="sectlevel3">
<li><a href="#_multidimensional_array_representations_of_time_series_profiles">H.5.1. Multidimensional array representations of time series profiles</a></li>
<li><a href="#_time_series_of_profiles_at_a_single_station">H.5.2. Time series of profiles at a single station</a></li>
<li><a href="#_ragged_array_representation_of_time_series_profiles">H.5.3. Ragged array representation of time series profiles</a></li>
</ul>
</li>
<li><a href="#trajectory-profiles">H.6. Trajectory of Profiles</a>
<ul class="sectlevel3">
<li><a href="#_multidimensional_array_representation_of_trajectory_profiles">H.6.1. Multidimensional array representation of trajectory profiles</a></li>
<li><a href="#_profiles_along_a_single_trajectory">H.6.2. Profiles along a single trajectory</a></li>
<li><a href="#_ragged_array_representation_of_trajectory_profiles">H.6.3. Ragged array representation of trajectory profiles</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#appendix-CF-data-model">Appendix I: The CF data model</a>
<ul class="sectlevel2">
<li><a href="#data-model-introduction">Introduction</a></li>
<li><a href="#data-model-design-criteria">Design criteria of the CF data model</a></li>
<li><a href="#data-model-elements-of-cf-netcdf">Elements of CF-netCDF</a></li>
<li><a href="#data-model-the-cf-data-model">The CF data model</a>
<ul class="sectlevel3">
<li><a href="#data-model-field-construct">Field construct</a></li>
<li><a href="#data-model-domain-construct">Domain construct</a></li>
<li><a href="#data-model-domain-axis-construct-and-the-data-array">Domain axis construct and the data array</a></li>
<li><a href="#data-model-coordinates">Coordinates: dimension coordinate and auxiliary constructs</a></li>
<li><a href="#data-model-coordinate-reference">Coordinate reference construct</a></li>
<li><a href="#data-model-domain-ancillary">Domain ancillary construct</a></li>
<li><a href="#data-model-cell-measure">Cell measure construct</a></li>
<li><a href="#data-model-domain-topology">Domain topology construct</a></li>
<li><a href="#data-model-cell-connectivity">Cell connectivity construct</a></li>
<li><a href="#data-model-field-ancillary">Field ancillary constructs</a></li>
<li><a href="#data-model-cell-method">Cell method construct</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#appendix-coordinate-subsampling">Appendix J: Coordinate Interpolation Methods</a>
<ul class="sectlevel2">
<li><a href="#common-definitions-and-notation">Common Definitions and Notation</a>
<ul class="sectlevel3">
<li><a href="#common-conversions-and-formulas">Common Conversions and Formulas</a></li>
</ul>
</li>
<li><a href="#interpolation-methods">Interpolation Methods</a>
<ul class="sectlevel3">
<li><a href="#_linear_interpolation">Linear Interpolation</a></li>
<li><a href="#_bilinear_interpolation">Bilinear Interpolation</a></li>
<li><a href="#quadratic">Quadratic Interpolation</a></li>
<li><a href="#quadratic_geo">Quadratic Interpolation of Geographic Coordinates Latitude and Longitude</a></li>
<li><a href="#bi_quadratic_geo">Biquadratic Interpolation of Geographic Coordinates Latitude and Longitude</a></li>
</ul>
</li>
<li><a href="#coordinate-compression-steps">Coordinate Compression Steps</a></li>
<li><a href="#coordinate-uncompression-steps">Coordinate Uncompression Steps</a></li>
</ul>
</li>
<li><a href="#appendix-mesh-topology-attributes">Appendix K: Mesh Topologies</a></li>
<li><a href="#revhistory">Revision History</a>
<ul class="sectlevel2">
<li><a href="#_working_version_most_recent_first">Working version (most recent first)</a></li>
<li><a href="#_version_1_10_31_august_2022">Version 1.10 (31 August 2022)</a></li>
<li><a href="#_version_1_9_10_september_2021">Version 1.9 (10 September 2021)</a></li>
<li><a href="#_version_1_8_11_february_2020">Version 1.8 (11 February 2020)</a></li>
<li><a href="#_version_1_7_7_august_2017">Version 1.7 (7 August 2017)</a></li>
<li><a href="#_version_1_6_5_december_2011">Version 1.6 (5 December 2011)</a></li>
<li><a href="#_version_1_5_25_october_2010">Version 1.5 (25 October 2010)</a></li>
<li><a href="#_version_1_4_27_february_2009">Version 1.4 (27 February 2009)</a></li>
<li><a href="#_version_1_3_4_may_2008">Version 1.3 (4 May 2008)</a></li>
<li><a href="#_version_1_2_4_may_2008">Version 1.2 (4 May 2008)</a></li>
<li><a href="#_version_1_1_17_january_2008">Version 1.1 (17 January 2008)</a></li>
<li><a href="#_version_1_0_28_october_2003">Version 1.0 (28 October 2003)</a></li>
</ul>
</li>
<li><a href="#_bibliography">Bibliography</a>
<ul class="sectlevel2">
<li><a href="#_references">References</a></li>
</ul>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>List of Tables</strong></p>
</div>
<div class="paragraph">
<p>3.1. <a href="#table-supported-units">Prefixes for decimal multiples and submultiples of units</a><br>
3.2. <a href="#table-flag-variable-bits">Flag Variable Bits (from Example)</a><br>
3.3. <a href="#table-flag-variable-bit-2-and-3">Flag Variable Bit 2 and Bit 3 (from Example)</a><br>
A.1. <a href="#table-attributes">Attributes</a><br>
C.1. <a href="#table-standard-name-modifiers">Standard Name Modifiers</a><br>
D.1. <a href="#table-computed-standard-names">Consistent sets of values for the standard_names of formula terms and the computed_standard_name needed in defining the ocean sigma coordinate, the ocean s-coordinate, the ocean_sigma over z coordinate, and the ocean double sigma coordinate.</a><br>
E.1. <a href="#table-cell-methods">Cell Methods</a><br>
F.1. <a href="#table-grid-mapping-attributes">Grid Mapping Attributes</a><br>
I.1. <a href="#table-cf-concepts">The elements of the CF-netCDF conventions. The relationships to netCDF elements are shown in [figure-cf-concepts].</a><br>
I.2. <a href="#table-cf-constructs">The constructs of the CF data model. The relationships between the constructs and CF-netCDF elements are shown in in [figure-field], [figure-dim-aux] and [figure-coordinate-reference].</a><br>
K.2. <a href="#table-mesh-topology-attributes">Mesh topology attributes</a></p>
</div>
<div class="paragraph">
<p><strong>List of Figures</strong></p>
</div>
<div class="paragraph">
<p>7.1. <a href="#img-bnd_1d_coords">figure 1</a><br>
7.2. <a href="#img-bnd_2d_coords">figure 2</a><br>
8.1. <a href="#interpolation_subarea_generation">Figure 8.1</a><br>
8.2. <a href="#ci_dimensions_overview">Figure 8.2</a><br>
8.3. <a href="#ci_interpolation_parameters">Figure 8.3</a><br>
8.4. <a href="#figure_interpolation_of_cell_boundaries">Figure 8.4</a><br>
I.1. <a href="#figure-cf-concepts">Figure I.1</a><br>
I.2. <a href="#figure-field">Figure I.2</a><br>
I.3. <a href="#figure-dim-aux">Figure I.3</a><br>
I.4. <a href="#figure-coordinate-reference">Figure I.4</a><br>
I.5. <a href="#figure-mesh-example">Figure I.5</a><br>
J.1. <a href="#interpolation_subareas_1d">Figure J.1</a><br>
J.2. <a href="#interpolation_subarea_2d">Figure J.2</a><br>
J.3. <a href="#quadratic1">Figure J.3</a><br>
J.4. <a href="#quadratic2">Figure J.4</a><br>
J.5. <a href="#quadratic3">Figure J.5</a></p>
</div>
<div class="paragraph">
<p><strong>List of Examples</strong></p>
</div>
<div class="paragraph">
<p>2.1. <a href="#char-and-string-variables-ex">String Variable Representations</a><br>
3.1. <a href="#use-of-units-metadata-ex">Use of <strong><code>units_metadata</code></strong> to distinguish temperature quantities</a><br>
3.2. <a href="#use-of-standard-name-ex">Use of <strong><code>standard_name</code></strong></a><br>
3.3. <a href="#instrument-data-ex">Ancillary instrument data</a><br>
3.4. <a href="#quality-flag-ex">Ancillary quality flag data</a><br>
3.5. <a href="#flag-variable-flag-values-ex">A flag variable, using <strong><code>flag_values</code></strong></a><br>
3.6. <a href="#flag-variable-flag-masks-ex">A flag variable, using <strong><code>flag_masks</code></strong></a><br>
3.7. <a href="#region-variable-flag-values-ex">A region variable, using <strong><code>flag_values</code></strong></a><br>
3.8. <a href="#flag-variable-flag-masks-flag-values-ex">A flag variable, using <strong><code>flag_masks</code></strong> and <strong><code>flag_values</code></strong></a><br>
4.1. <a href="#latitude-axis-ex">Latitude axis</a><br>
4.2. <a href="#longitude-axis-ex">Longitude axis</a><br>
4.3. <a href="#atm-sigma-coord-ex">Atmosphere sigma coordinate</a><br>
4.4. <a href="#time-axis-ex">Time axis</a><br>
4.5. <a href="#perpetual-time-axis-ex">Perpetual time axis</a><br>
4.6. <a href="#paleoclimate-time-axis-ex">Paleoclimate time axis</a><br>
5.1. <a href="#independent-coordinate-variables-ex">Independent coordinate variables</a><br>
5.2. <a href="#two-dimensional-coordinate-variables-ex">Two-dimensional coordinate variables</a><br>
5.3. <a href="#reduced-horizontal-grid-ex">Reduced horizontal grid</a><br>
5.6. <a href="#rotated-pole-grid-ex">Rotated pole grid</a><br>
5.7. <a href="#lambert-conformal-projection">"Lambert conformal projection"</a><br>
5.8. <a href="#latitude-and-longitude-on-a-spherical-earth">Latitude and longitude on a spherical Earth</a><br>
5.9. <a href="#latitude-and-longitude-on-the-wgs-1984-datum">Latitude and longitude on the WGS 1984 datum</a><br>
5.10. <a href="#british-national-grid">British National Grid</a><br>
5.11. <a href="#latitude-and-longitude-on-the-wgs-1984-datum-in-crs-wkt-format">Latitude and longitude on the WGS 1984 datum + CRS WKT</a><br>
5.12. <a href="#british-national-grid-newlyn-datum-in-crs-wkt-format">British National Grid + Newlyn Datum in CRS WKT format</a><br>
5.13. <a href="#british-national-grid-newlyn-datum-with-wgs84-in-crs-wkt-format">British National Grid + Newlyn Datum + referenced WGS84 Geodetic in CRS WKT format</a><br>
5.14. <a href="#multiple-forecasts-from-single-analysis">"Multiple forecasts from a single analysis"</a><br>
5.15. <a href="#a-domain-with-independent-coordinate-variables">A domain with independent coordinate variables.</a><br>
5.16. <a href="#a-domain-with-a-rotated-pole-grid-and-a-scalar-coordinate-variable">A domain with a rotated pole grid and a scalar coordinate variable.</a><br>
5.17. <a href="#a-domain-containing-cell-areas-for-a-spherical-geodesic-grid">A domain containing cell areas for a spherical geodesic grid.</a><br>
5.18. <a href="#a-domain-with-no-explicit-dimensions">A domain with no explicit dimensions.</a><br>
5.19. <a href="#a-domain-containing-a-timeseries-geometry">A domain containing a timeseries geometry.</a><br>
5.20. <a href="#a-domain-containing-a-timeseries-of-station-data-in-the-indexed-ragged-array-representation">A domain containing a timeseries of station data in the indexed ragged array representation.</a><br>
5.21. <a href="#example-mesh-topology-variable">A two-dimensional UGRID mesh topology variable</a><br>
6.1. <a href="#northward-heat-transport-in-atlantic-ocean-ex">Northward heat transport in Atlantic Ocean</a><br>
6.1.2. <a href="#taxa-ex">Taxon names and identifiers</a><br>
6.2. <a href="#model-level-numbers-ex">Model level numbers</a><br>
7.1. <a href="#specifying-formula_terms-ex">Specifying <strong><code>formula_terms</code></strong> when a parametric coordinate variable has bounds.</a><br>
7.2. <a href="#cells-on-a-latitude-axis-ex">Cells on a latitude axis</a><br>
7.3. <a href="#cells-in-a-non-rectangular-grid-ex">Cells in a non-rectangular grid</a><br>
7.4. <a href="#cell-areas-for-a-spherical-geodesic-grid">Cell areas for a spherical geodesic grid</a><br>
7.5. <a href="#methods-applied-to-a-timeseries-ex">Methods applied to a timeseries</a><br>
7.6. <a href="#surface-air-temperature-variance-ex">Surface air temperature variance</a><br>
7.7. <a href="#mean-surface-temperature-sensible-heat-flux">Mean surface temperature over land and sensible heat flux averaged separately over land and sea.</a><br>
7.8. <a href="#thickness-over-sea-area-ex">Thickness of sea-ice and snow on sea-ice averaged over sea area.</a><br>
7.9. <a href="#climatological-seasons-ex">Climatological seasons</a><br>
7.10. <a href="#decadal-averages-for-january-ex">Decadal averages for January</a><br>
7.11. <a href="#temperature-each-hour-of-average-day-ex">Temperature for each hour of the average day</a><br>
7.12. <a href="#extreme-statistics-and-spell-lengths-ex">Extreme statistics and spell-lengths</a><br>
7.13. <a href="#temperature-each-hour-of-climatological-day-ex">Temperature for each hour of the typical climatological day</a><br>
7.14. <a href="#monthly-max-daily-precip-totals-ex">Monthly-maximum daily precipitation totals</a><br>
7.15. <a href="#timeseries-with-geometry">Timeseries with geometry.</a><br>
7.16. <a href="#complete-multipolygon-example">Polygons with holes</a><br>
8.1. <a href="#horiz-compression-of-three-d-array-ex">Horizontal compression of a three-dimensional array</a><br>
8.2. <a href="#compression-of-three-d-field-ex">Compression of a three-dimensional field</a><br>
8.3. <a href="#example-Two-dimensional-tie-point-interpolation">Two-dimensional tie point interpolation</a><br>
8.4. <a href="#example-1d-interpolation-of-2d-domain">One-dimensional tie point interpolation of two-dimensional domain.</a><br>
8.5. <a href="#example-VIIRS">Multiple interpolation variables with interpolation parameter attributes.</a><br>
8.6. <a href="#example-grid-mapping-and-interpolation-with-time-not-interpolated">Combining a grid mapping and coordinate interpolation, with time as a non-interpolated dimension.</a><br>
8.7. <a href="#example-interpolation-of-cell-boundaries">Interpolation of 2D Cell Boundaries corresponding to [figure_interpolation_of_cell_boundaries]</a><br>
B.1. <a href="#name-table-three-entries-ex">A name table containing three entries</a><br>
H.1. <a href="#example-h.1">"Point data"</a><br>
H.2. <a href="#example-h.2">Timeseries with common element times in a time coordinate variable using the orthogonal multidimensional array representation.</a><br>
H.3. <a href="#example-h.3">Timeseries of station data in the incomplete multidimensional array representation.    </a><br>
H.4. <a href="#example-h.4">A single timeseries.</a><br>
H.5. <a href="#example-h.5">A single timeseries with time-varying deviations from a nominal point spatial location</a><br>
H.6. <a href="#example-h.6">Timeseries of station data in the contiguous ragged array representation.</a><br>
H.7. <a href="#example-h.7">Timeseries of station data in the indexed ragged array representation.</a><br>
H.8. <a href="#example-h.8">"Atmospheric sounding profiles for a common set of vertical coordinates stored in the orthogonal multidimensional array representation."</a><br>
H.9. <a href="#example-h.9">Data from a single atmospheric sounding profile.</a><br>
H.10. <a href="#example-h.10">Atmospheric sounding profiles for a common set of vertical coordinates stored in the contiguous ragged array representation.</a><br>
H.11. <a href="#example-h.11">Atmospheric sounding profiles for a common set of vertical coordinates stored in the indexed ragged array representation.</a><br>
H.12. <a href="#example-h.12">Trajectories recording atmospheric composition in the incomplete multidimensional array representation.</a><br>
H.13. <a href="#example-h.13">A single trajectory recording atmospheric composition.</a><br>
H.14. <a href="#example-h.14">Trajectories recording atmospheric composition in the contiguous ragged array representation.</a><br>
H.15. <a href="#example-h.15">Trajectories recording atmospheric composition in the indexed ragged array representation.</a><br>
H.16. <a href="#example-h.16">Time series of atmospheric sounding profiles from a set of locations stored in a multidimensional array representation.</a><br>
H.17. <a href="#example-h.17">Time series of atmospheric sounding profiles from a set of locations stored in an orthogonal multidimensional array representation.</a><br>
H.18. <a href="#example-h.18">Time series of atmospheric sounding profiles from a single location stored in a multidimensional array representation.</a><br>
H.19. <a href="#example-h.19">Time series of atmospheric sounding profiles from a set of locations stored in a ragged array representation.</a><br>
H.20. <a href="#example-h.20">Time series of atmospheric sounding profiles along a set of trajectories stored in a multidimensional array representation.</a><br>
H.21. <a href="#example-h.21">Time series of atmospheric sounding profiles along a trajectory stored in a multidimensional array representation.</a><br>
H.22. <a href="#example-h.22">Time series of atmospheric sounding profiles along a set of trajectories stored in a ragged array representation.</a><br>
I.1. <a href="#cdl-domain-anc-coordinate">A single CF-netCDF variable corresponding to two data model constructs.</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_about_the_authors"><a class="anchor" href="#_about_the_authors"></a>About the authors</h2>
<div class="sectionbody">
<div class="ulist">
<div class="title">Original Authors</div>
<ul>
<li>
<p>Brian Eaton, NCAR</p>
</li>
<li>
<p>Jonathan Gregory, University of Reading and UK Met Office Hadley Centre</p>
</li>
<li>
<p>Bob Drach, PCMDI, LLNL</p>
</li>
<li>
<p>Karl Taylor, PCMDI, LLNL</p>
</li>
<li>
<p>Steve Hankin, PMEL, NOAA</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Additional Authors</div>
<ul>
<li>
<p>Jon Blower, University of Reading</p>
</li>
<li>
<p>John Caron, UCAR</p>
</li>
<li>
<p>Rich Signell, USGS</p>
</li>
<li>
<p>Phil Bentley, UK Met Office Hadley Centre</p>
</li>
<li>
<p>Greg Rappa, MIT</p>
</li>
<li>
<p>Heinke Höck, DKRZ</p>
</li>
<li>
<p>Alison Pamment, BADC</p>
</li>
<li>
<p>Martin Juckes, BADC</p>
</li>
<li>
<p>Martin Raspaud, SMHI</p>
</li>
<li>
<p>Randy Horne, Excalibur Laboratories, Inc., Melbourne Beach Florida USA</p>
</li>
<li>
<p>Timothy Whiteaker, University of Texas</p>
</li>
<li>
<p>David Blodgett, USGS</p>
</li>
<li>
<p>Charlie Zender, University of California, Irvine</p>
</li>
<li>
<p>Daniel Lee, EUMETSAT</p>
</li>
<li>
<p>David Hassell, NCAS and University of Reading</p>
</li>
<li>
<p>Alan D. Snow, Corteva Agriscience</p>
</li>
<li>
<p>Tobias Kölling, MPIM</p>
</li>
<li>
<p>Dave Allured, CIRES/University of Colorado/NOAA/PSL</p>
</li>
<li>
<p>Aleksandar Jelenak, HDF Group</p>
</li>
<li>
<p>Anders Meier Soerensen, EUMETSAT</p>
</li>
<li>
<p>Lucile Gaultier, OceanDataLab</p>
</li>
<li>
<p>Sylvain Herlédan, OceanDataLab</p>
</li>
<li>
<p>Fernando Manzano, Puertos del Estado</p>
</li>
<li>
<p>Lars Bärring, SMHI</p>
</li>
<li>
<p>Christopher Barker, NOAA</p>
</li>
<li>
<p>Sadie Bartholomew, NCAS and University of Reading</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Many others have contributed to the development of CF through their participation in discussions about proposed changes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_abstract"><a class="anchor" href="#_abstract"></a>Abstract</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the CF conventions for climate and forecast metadata designed to promote the processing and sharing of files created with the netCDF Application Programmer Interface <a href="#NetCDF">[NetCDF]</a>.
The conventions define metadata that provide a definitive description of what the data in each variable represents, and of the spatial and temporal properties of the data.
This enables users of data from different sources to decide which quantities are comparable, and facilitates building applications with powerful extraction, regridding, and display capabilities.</p>
</div>
<div class="paragraph">
<p>The CF conventions generalize and extend the COARDS conventions <a href="#COARDS">[COARDS]</a>.
The extensions include metadata that provides a precise definition of each variable via specification of a standard name, describes the vertical locations corresponding to dimensionless vertical coordinate values, and provides the spatial coordinates of non-rectilinear gridded data.
Since climate and forecast data are often not simply representative of points in space/time, other extensions provide for the description of coordinate intervals, multidimensional cells and climatological time coordinates, and indicate how a data value is representative of an interval or cell.
This standard also relaxes the COARDS constraints on dimension order and specifies methods for reducing the size of datasets.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_goals"><a class="anchor" href="#_goals"></a>1.1. Goals</h3>
<div class="paragraph">
<p>The NetCDF library <a href="#NetCDF">[NetCDF]</a> is designed to read and write data that has been structured according to well-defined rules and is easily ported across various computer platforms.
The netCDF interface enables but does not require the creation of <em>self-describing</em> datasets.
The purpose of the CF conventions is to require conforming datasets to contain sufficient metadata that they are self-describing in the sense that each variable in the file has an associated description of what it represents, including physical units if appropriate, and that each value can be located in space (relative to earth-based coordinates) and time.</p>
</div>
<div class="paragraph">
<p>An important benefit of a convention is that it enables software tools to display data and perform operations on specified subsets of the data with minimal user intervention.
It is possible to provide the metadata describing how a field is located in time and space in many different ways that a human would immediately recognize as equivalent.
The purpose in restricting how the metadata is represented is to make it practical to write software that allows a machine to parse that metadata and to automatically associate each data value with its location in time and space.
It is equally important that the metadata be easy for human users to write and to understand.</p>
</div>
<div class="paragraph">
<p>This standard is intended for use with climate and forecast data, for atmosphere, surface and ocean, and was designed with model-generated data particularly in mind.
We recognise that there are limits to what a standard can practically cover; we restrict ourselves to issues that we believe to be of common and frequent concern in the design of climate and forecast metadata.
Our main purpose therefore, is to propose a clear, adequate and flexible definition of the metadata needed for climate and forecast data.
Although this is specifically a netCDF standard, we feel that most of the ideas are of wider application.
The metadata objects could be contained in file formats other than netCDF.
Conversion of the metadata between files of different formats will be facilitated if conventions for all formats are based on similar ideas.</p>
</div>
<div class="paragraph">
<p>This convention is designed to be backward compatible with the COARDS conventions <a href="#COARDS">[COARDS]</a>, by which we mean that a conforming COARDS dataset also conforms to the CF standard.
Thus new applications that implement the CF conventions will be able to process COARDS datasets.</p>
</div>
<div class="paragraph">
<p>We have also striven to maximize conformance to the COARDS standard, that is, wherever the COARDS metadata conventions provide an adequate description we require their use.
Extensions to COARDS are implemented in a manner such that the content that doesn&#8217;t depend on the extensions is still accessible to applications that adhere to the COARDS standard.</p>
</div>
</div>
<div class="sect2">
<h3 id="design"><a class="anchor" href="#design"></a>1.2. Principles for design</h3>
<div class="paragraph">
<p>The following principles are followed in the design of these conventions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>CF-netCDF metadata is designed to make datasets self-describing as far as practically possible.
A self-describing dataset is one which can be interpreted without need for reference to resources outside itself, and the CF principle is to minimise that need.
Therefore CF-netCDF does not use codes, but instead relies on controlled vocabularies containing terms that are chosen to be self-explanatory (but more detailed definitions of them are provided in CF documents).</p>
</li>
<li>
<p>The conventions are changed only as actually required by common use-cases, and not for needs which cannot be anticipated with certainty.</p>
</li>
<li>
<p>In order to keep them logical, consistent in approach and as simple as possible, the netCDF conventions are devised with and within the conceptual framework of the CF data model, and new standard names are constructed as far as possible to follow the syntax and vocabulary of existing standard names.</p>
</li>
<li>
<p>The conventions should be practicable for both producers and users of data.</p>
</li>
<li>
<p>The metadata should be both easily readable by humans and easily parsable by programs.</p>
</li>
<li>
<p>To avoid potential inconsistency within the metadata, the conventions should minimise redundancy.</p>
</li>
<li>
<p>The conventions should minimise the possibility for mistakes by data-writers and data-readers.</p>
</li>
<li>
<p>Conventions are provided to allow data-producers to describe the data they wish to produce, rather than attempting to prescribe what data they should produce; consequently most CF conventions are optional.</p>
</li>
<li>
<p>Because many datasets remain in use for a long time after production, it is desirable that metadata written according to previous versions of the convention should also be compliant with and have the same interpretation under later versions.</p>
</li>
<li>
<p>Because all previous versions must generally continue to be supported in software for the sake of archived datasets, and in order to limit the complexity of the conventions, there is a strong preference against introducing any new capability to the conventions when there is already some method that can adequately serve the same purpose (even if a different method would arguably be better than the existing one).</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="terminology"><a class="anchor" href="#terminology"></a>1.3. Terminology</h3>
<div class="paragraph">
<p>The terms in this document that refer to components of a netCDF file are defined in the NetCDF User&#8217;s Guide (NUG) <a href="#NUG">[NUG]</a> NUG.
Some of those definitions are repeated below for convenience.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">ancestor group</dt>
<dd>
<p>A group from which the referring group is descended via direct parent-child relationships</p>
</dd>
<dt class="hdlist1">auxiliary coordinate variable</dt>
<dd>
<p>Any netCDF variable that contains coordinate data, but is not a coordinate variable (in the sense of that term defined by the NUG and used by this standard - see below).
Unlike coordinate variables, there is no relationship between the name of an auxiliary coordinate variable and the name(s) of its dimension(s).</p>
</dd>
<dt class="hdlist1">boundary variable</dt>
<dd>
<p>A boundary variable is associated with a variable that contains coordinate data.
When a data value provides information about conditions in a cell occupying a region of space/time or some other dimension, the boundary variable provides a description of cell extent.</p>
</dd>
<dt class="hdlist1">CDL syntax</dt>
<dd>
<p>The ascii format used to describe the contents of a netCDF file is called CDL (network Common Data form Language).
This format represents arrays using the indexing conventions of the C programming language, i.e., index values start at 0, and in multidimensional arrays, when indexing over the elements of the array, it is the last declared dimension that is the fastest varying in terms of file storage order.
The netCDF utilities ncdump and ncgen use this format (see
<a href="https://docs.unidata.ucar.edu/nug/current/_c_d_l.html">NUG section on CDL syntax</a>).
All examples in this document use CDL syntax.</p>
</dd>
<dt class="hdlist1">cell</dt>
<dd>
<p>A region in one or more dimensions whose boundary can be described by a set of vertices.
The term <em>interval</em> is sometimes used for one-dimensional cells.</p>
</dd>
<dt class="hdlist1">coordinate variable</dt>
<dd>
<p>We use this term precisely as it is defined in the
<a href="https://docs.unidata.ucar.edu/nug/current/best_practices.html#bp_Coordinate-Systems">NUG section on coordinate variables</a>.
It is a one-dimensional variable with the same name as its dimension [e.g., <strong><code>time(time)</code></strong>], and it is defined as a numeric data type with values in strict monotonic order (all values are different, and they are arranged in either consistently increasing or consistently decreasing order).
Missing values are not allowed in coordinate variables.</p>
</dd>
<dt class="hdlist1">grid mapping variable</dt>
<dd>
<p>A variable used as a container for attributes that define a specific grid mapping.
The type of the variable is arbitrary since it contains no data.</p>
</dd>
<dt class="hdlist1">interpolation variable</dt>
<dd>
<p>A variable used as a container for attributes that define a specific interpolation method for uncompressing tie point variables.
The type of the variable is arbitrary since it contains no data.</p>
</dd>
<dt class="hdlist1">latitude dimension</dt>
<dd>
<p>A dimension of a netCDF variable that has an associated latitude coordinate variable.</p>
</dd>
<dt class="hdlist1">local apex group</dt>
<dd>
<p>The nearest (to a referring group) ancestor group in which a dimension of an out-of-group coordinate is defined.
The word "apex" refers to position of this group at the vertex of the tree of groups formed by it, the referring group, and the group where a coordinate is located.</p>
</dd>
<dt class="hdlist1">longitude dimension</dt>
<dd>
<p>A dimension of a netCDF variable that has an associated longitude coordinate variable.</p>
</dd>
<dt class="hdlist1">multidimensional coordinate variable</dt>
<dd>
<p>An auxiliary coordinate variable that is multidimensional.</p>
</dd>
<dt class="hdlist1">nearest item</dt>
<dd>
<p>The item (variable or group) that can be reached via the shortest traversal of the file from the referring group following the rules set forth in the <a href="#groups">Section 2.7, "Groups"</a>.</p>
</dd>
<dt class="hdlist1">out-of-group reference</dt>
<dd>
<p>A reference to a variable or dimension that is not contained in the referring group.</p>
</dd>
<dt class="hdlist1">path</dt>
<dd>
<p>Paths must follow the UNIX style path convention and may begin with either a '/', '..', or a word.</p>
</dd>
<dt class="hdlist1">recommendation</dt>
<dd>
<p>Recommendations in this convention are meant to provide advice that may be helpful for reducing common mistakes.
In some cases we have recommended rather than required particular attributes in order to maintain backwards compatibility with COARDS.
An application must not depend on a dataset&#8217;s adherence to recommendations.</p>
</dd>
<dt class="hdlist1">referring group</dt>
<dd>
<p>The group in which a reference to a variable or dimension occurs.</p>
</dd>
<dt class="hdlist1">scalar coordinate variable</dt>
<dd>
<p>A scalar variable (i.e. one with no dimensions) that contains coordinate data.
Depending on context, it may be functionally equivalent either to a size-one coordinate variable (<a href="#scalar-coordinate-variables">Section 5.7, "Scalar Coordinate Variables"</a>) or to a size-one auxiliary coordinate variable (<a href="#labels">Section 6.1, "Labels"</a> and <a href="#collections-instances-elements">Section 9.2, "Collections, instances, and elements"</a>).</p>
</dd>
<dt class="hdlist1">sibling group</dt>
<dd>
<p>Any group with the same parent group as the referring group</p>
</dd>
<dt class="hdlist1">spatiotemporal dimension</dt>
<dd>
<p>A dimension of a netCDF variable that is used to identify a location in time and/or space.</p>
</dd>
<dt class="hdlist1">tie point variable</dt>
<dd>
<p>A netCDF variable that contains coordinates that have been compressed by sampling.
There is no relationship between the name of a tie point variable and the name(s) of its dimension(s).</p>
</dd>
<dt class="hdlist1">time dimension</dt>
<dd>
<p>A dimension of a netCDF variable that has an associated time coordinate variable.</p>
</dd>
<dt class="hdlist1">vertical dimension</dt>
<dd>
<p>A dimension of a netCDF variable that has an associated vertical coordinate variable.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_overview"><a class="anchor" href="#_overview"></a>1.4. Overview</h3>
<div class="paragraph">
<p>No variable or dimension names are standardized by this convention.
Instead we follow the lead of the NUG and standardize only the names of attributes and some of the values taken by those attributes.
Variable or dimension names can either be a single variable name or a path to a variable.
The overview provided in this section will be followed with more complete descriptions in following sections.
<a href="#attribute-appendix">Appendix A, Attributes</a> contains a summary of all the attributes used in this convention.</p>
</div>
<div class="paragraph">
<p>Files using this version of the CF Conventions must set the NUG defined attribute <strong><code>Conventions</code></strong> to contain the string value "<strong><code>CF-1.11</code></strong>" to identify datasets that conform to these conventions.</p>
</div>
<div class="paragraph">
<p>The general description of a file&#8217;s contents should be contained in the following attributes: <strong><code>title</code></strong>, <strong><code>history</code></strong>, <strong><code>institution</code></strong>, <strong><code>source</code></strong>, <strong><code>comment</code></strong> and <strong><code>references</code></strong> (<a href="#description-of-file-contents">Section 2.6.2, "Description of file contents"</a>).
For backwards compatibility with COARDS none of these attributes is required, but their use is recommended to provide human readable documentation of the file contents.</p>
</div>
<div class="paragraph">
<p>Each variable in a netCDF file has an associated description which is provided by the attributes <strong><code>units</code></strong>, <strong><code>long_name</code></strong>, and <strong><code>standard_name</code></strong>.
The <strong><code>units</code></strong>, and <strong><code>long_name</code></strong> attributes are defined in the NUG and the <strong><code>standard_name</code></strong> attribute is defined in this document.</p>
</div>
<div class="paragraph">
<p>The <strong><code>units</code></strong> attribute is required for all variables that represent dimensional quantities (except for boundary variables defined in <a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a>.
The values of the <strong><code>units</code></strong> attributes are character strings that are recognized by UNIDATA&#8217;s UDUNITS package <a href="#UDUNITS">[UDUNITS]</a>, (with exceptions allowed as discussed in <a href="#units">Section 3.1, "Units"</a>).</p>
</div>
<div class="paragraph">
<p>The <strong><code>long_name</code></strong> and <strong><code>standard_name</code></strong> attributes are used to describe the content of each variable.
For backwards compatibility with COARDS neither is required, but use of at least one of them is strongly recommended.
The use of standard names will facilitate the exchange of climate and forecast data by providing unambiguous identification of variables most commonly analyzed.</p>
</div>
<div class="paragraph">
<p>Four types of coordinates receive special treatment by these conventions: latitude, longitude, vertical, and time.
Every variable must have associated metadata that allows identification of each such coordinate that is relevant.
Two independent parts of the convention allow this to be done.
There are conventions that identify the variables that contain the coordinate data, and there are conventions that identify the type of coordinate represented by that data.</p>
</div>
<div class="paragraph">
<p>There are two methods used to identify variables that contain coordinate data.
The first is to use the NUG-defined "coordinate variables."
<em>The use of coordinate variables is required for all dimensions that correspond to one dimensional space or time coordinates</em>.
In cases where coordinate variables are not applicable, the variables containing coordinate data are identified by the <strong><code>coordinates</code></strong> attribute.</p>
</div>
<div class="paragraph">
<p>Once the variables containing coordinate data are identified, further conventions are required to determine the type of coordinate represented by each of these variables.
Latitude, longitude, and time coordinates are identified solely by the value of their <strong><code>units</code></strong> attribute.
Vertical coordinates with units of pressure may also be identified by the <strong><code>units</code></strong> attribute.
Other vertical coordinates must use the attribute <strong><code>positive</code></strong> which determines whether the direction of increasing coordinate value is up or down.
Because identification of a coordinate type by its units involves the use of an external package <a href="#UDUNITS">[UDUNITS]</a>, we provide the optional attribute <strong><code>axis</code></strong> for a direct identification of coordinates that correspond to latitude, longitude, vertical, or time axes.</p>
</div>
<div class="paragraph">
<p>Latitude, longitude, and time are defined by internationally recognized standards, and hence, identifying the coordinates of these types is sufficient to locate data values uniquely with respect to time and a point on the earth&#8217;s surface.
On the other hand identifying the vertical coordinate is not necessarily sufficient to locate a data value vertically with respect to the earth&#8217;s surface.
In particular a model may output data on the dimensionless vertical coordinate used in its mathematical formulation.
To achieve the goal of being able to spatially locate all data values, this convention includes the definitions of common dimensionless vertical coordinates in <a href="#parametric-v-coord">Appendix D, Parametric Vertical Coordinates</a>.
These definitions provide a mapping between the dimensionless coordinate values and dimensional values that can be uniquely located with respect to a point on the earth&#8217;s surface.
The definitions are associated with a coordinate variable via the <strong><code>standard_name</code></strong> and <strong><code>formula_terms</code></strong> attributes.
For backwards compatibility with COARDS use of these attributes is not required, but is strongly recommended.</p>
</div>
<div class="paragraph">
<p>It is often the case that data values are not representative of single points in time and/or space, but rather of intervals or multidimensional cells.
This convention defines a <strong><code>bounds</code></strong> attribute to specify the extent of intervals or cells.
When data that is representative of cells can be described by simple statistical methods, those methods can be indicated using the <strong><code>cell_methods</code></strong> attribute.
An important application of this attribute is to describe climatological and diurnal statistics.</p>
</div>
<div class="paragraph">
<p>Methods for reducing the total volume of data include both packing and compression.
Packing reduces the data volume by reducing the precision of the stored numbers.
It is implemented using the attributes <strong><code>add_offset</code></strong> and <strong><code>scale_factor</code></strong> which are defined in the NUG.
Compression on the other hand loses no precision, but reduces the volume by not storing missing data.
The attribute <strong><code>compress</code></strong> is defined for this purpose.</p>
</div>
</div>
<div class="sect2">
<h3 id="coards-relationship"><a class="anchor" href="#coards-relationship"></a>1.5. Relationship to the COARDS Conventions</h3>
<div class="paragraph">
<p>These conventions generalize and extend the COARDS conventions <a href="#COARDS">[COARDS]</a>.
A major design goal has been to maintain <em>backward compatibility</em> with COARDS.
Hence applications written to process datasets that conform to these conventions will also be able to process COARDS conforming datasets.
We have also striven to maximize <em>conformance</em> to the COARDS standard so that datasets that only require the metadata that was available under COARDS will still be able to be processed by COARDS conforming applications.
But because of the extensions that provide new metadata content, and the relaxation of some COARDS requirements, datasets that conform to these conventions will not necessarily be recognized by applications that adhere to the COARDS conventions.
The features of these conventions that allow writing netCDF files that are not COARDS conforming are summarized below.</p>
</div>
<div class="paragraph">
<p>COARDS standardizes the description of grids composed of independent latitude, longitude, vertical, and time axes.
In addition to standardizing the metadata required to identify each of these axis types COARDS restricts the axis (equivalently dimension) ordering to be longitude, latitude, vertical, and time (with longitude being the most rapidly varying dimension).
Because of I/O performance considerations it may not be possible for models to output their data in conformance with the COARDS requirement.
The CF convention places no rigid restrictions on the order of dimensions, however we encourage data producers to make the extra effort to stay within the COARDS standard order.
The use of non-COARDS axis ordering will render files inaccessible to some applications and limit interoperability.
Often a buffering operation can be used to miminize performance penalties when axis ordering in model code does not match the axis ordering of a COARDS file.</p>
</div>
<div class="paragraph">
<p>COARDS addresses the issue of identifying dimensionless vertical coordinates, but does not provide any mechanism for mapping the dimensionless values to dimensional ones that can be located with respect to the earth&#8217;s surface.
For backwards compatibility we continue to allow (but do not require) the <strong><code>units</code></strong> attribute of dimensionless vertical coordinates to take the values "level", "layer", or "sigma_level."
But we recommend that the <strong><code>standard_name</code></strong> and <strong><code>formula_terms</code></strong> attributes be used to identify the appropriate definition of the dimensionless vertical coordinate (see <a href="#dimensionless-vertical-coordinate">Section 4.3.2, "Dimensionless Vertical Coordinate"</a>).</p>
</div>
<div class="paragraph">
<p>The CF conventions define attributes which enable the description of data properties that are outside the scope of the COARDS conventions.
These new attributes do not violate the COARDS conventions, but applications that only recognize COARDS conforming datasets will not have the capabilities that the new attributes are meant to enable.
Briefly the new attributes allow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Identification of quantities using standard names.</p>
</li>
<li>
<p>Description of dimensionless vertical coordinates.</p>
</li>
<li>
<p>Associating dimensions with auxiliary coordinate variables.</p>
</li>
<li>
<p>Linking data variables to scalar coordinate variables.</p>
</li>
<li>
<p>Associating dimensions with labels.</p>
</li>
<li>
<p>Description of intervals and cells.</p>
</li>
<li>
<p>Description of properties of data defined on intervals and cells.</p>
</li>
<li>
<p>Description of climatological statistics.</p>
</li>
<li>
<p>Data compression for variables with missing values.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="ugrid-conventions"><a class="anchor" href="#ugrid-conventions"></a>1.6. UGRID Conventions</h3>
<div class="paragraph">
<p>These conventions implicitly incorporate parts of the UGRID conventions for storing unstructured (or flexible mesh) data in netCDF files using mesh topologies <a href="#UGRID">[UGRID]</a>.
Only version 1.0 of the UGRID conventions is allowed.
The UGRID conventions description is referenced from, rather than rewritten into, this document and the canonical description of how to store mesh topologies is only to be found at <a href="#UGRID">[UGRID]</a>.
A summary indicating how UGRID relates to other parts of the CF conventions, and which features of UGRID are excluded from CF, can be found in <a href="#mesh-topology-variables">Section 5.9, "Mesh Topology Variables"</a>.
To reduce the chance of ambiguities arising from their accidental re-use, all of the UGRID standardized attributes are specified in <a href="#appendix-mesh-topology-attributes">Appendix K, Mesh Topology Attributes</a> and <a href="#attribute-appendix">Appendix A, Attributes</a>.</p>
</div>
<div class="paragraph">
<p>The UGRID conventions have their own conformance document, which should be used in conjunction with the CF conformance document when checking the validity of datasets.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_netcdf_files_and_components"><a class="anchor" href="#_netcdf_files_and_components"></a>2. NetCDF Files and Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The components of a netCDF file are described in section 2 of the NUG <a href="#NUG">[NUG]</a>.
In this section we describe conventions associated with filenames and the basic components of a netCDF file.
We also introduce new attributes for describing the contents of a file.</p>
</div>
<div class="sect2">
<h3 id="_filename"><a class="anchor" href="#_filename"></a>2.1. Filename</h3>
<div class="paragraph">
<p>NetCDF files should have the file name extension "<strong><code>.nc</code></strong>".</p>
</div>
</div>
<div class="sect2">
<h3 id="_data_types"><a class="anchor" href="#_data_types"></a>2.2. Data Types</h3>
<div class="paragraph">
<p>Data variables must be one of the following data types: <strong><code>string</code></strong>, <strong><code>char</code></strong>, <strong><code>byte</code></strong>, <strong><code>unsigned byte</code></strong>, <strong><code>short</code></strong>, <strong><code>unsigned short</code></strong>, <strong><code>int</code></strong>, <strong><code>unsigned int</code></strong>, <strong><code>int64</code></strong>, <strong><code>unsigned int64</code></strong>, <strong><code>float</code></strong> or <strong><code>real</code></strong>, and <strong><code>double</code></strong> (which are all the <a href="https://docs.unidata.ucar.edu/nug/current/md_types.html">netCDF external data types</a> supported by netCDF-4).
The <strong><code>string</code></strong> type is only available in files using the netCDF version 4 (netCDF-4) format.
The <strong><code>char</code></strong> and <strong><code>string</code></strong> types are not intended for numeric data.
One byte numeric data should be stored using the <strong><code>byte</code></strong> or <strong><code>unsigned byte</code></strong> data types.
It is possible to treat the <strong><code>byte</code></strong> and <strong><code>short</code></strong> types as unsigned by using the NUG convention of indicating the unsigned range using the <strong><code>valid_min</code></strong>, <strong><code>valid_max</code></strong>, or <strong><code>valid_range</code></strong> attributes.
In many situations, any integer type may be used.
When the phrase "integer type" is used in this document, it should be understood to mean <strong><code>byte</code></strong>, <strong><code>unsigned byte</code></strong>, <strong><code>short</code></strong>, <strong><code>unsigned short</code></strong>, <strong><code>int</code></strong>, <strong><code>unsigned int</code></strong>, <strong><code>int64</code></strong>, or <strong><code>unsigned int64</code></strong>.</p>
</div>
<div class="paragraph">
<p>Strings in variables may be represented one of two ways - as atomic strings or as character arrays.
An n-dimensional array of strings may be implemented as a variable of type <strong><code>string</code></strong> with n dimensions, or as a variable of type <strong><code>char</code></strong> with n+1 dimensions where the last (most rapidly varying) dimension is large enough to contain the longest string in the variable.
For example, a character array variable of strings containing the names of the months would be dimensioned (12,9) in order to accommodate "September", the month with the longest name.
The other strings, such as "May", should be padded with trailing NULL or space characters so that every array element is filled.
If the atomic string option is chosen, each element of the variable can be assigned a string with a different length.
The CDL example below shows one variable of each type.</p>
</div>
<div id="char-and-string-variables-ex" class="exampleblock">
<div class="title">Example 2.1. String Variable Representations</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  strings = 30 ;
  strlen = 10 ;
variables:
  char char_variable(strings,strlen) ;
    char_variable:long_name = "strings of type char" ;
  string str_variable(strings) ;
    str_variable:long_name = "strings of type string" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The examples in this document that use string-valued variables alternate between these two forms.</p>
</div>
</div>
<div class="sect2">
<h3 id="_naming_conventions"><a class="anchor" href="#_naming_conventions"></a>2.3. Naming Conventions</h3>
<div class="paragraph">
<p>Variable, dimension, attribute and group names should begin with a letter and be composed of letters, digits, and underscores.
By the word <em>letters</em> we mean the standard ASCII letters uppercase <code>A</code> to <code>Z</code> and lowercase <code>a</code> to <code>z</code>.
By the word <em>digits</em> we mean the standard ASCII digits <code>0</code> to <code>9</code>, and similarly <em>underscores</em> means the standard ASCII underscore <code>_</code>.
Note that this is in conformance with the COARDS conventions, but is more restrictive than the netCDF interface which allows almost all Unicode characters encoded as multibyte UTF-8 characters (<a href="https://docs.unidata.ucar.edu/nug/current/file_format_specifications.html">NUG Appendix B</a>).
The netCDF interface also allows leading underscores in names, but the NUG states that this is reserved for system use.</p>
</div>
<div class="paragraph">
<p>Case is significant in netCDF names, but it is recommended that names should not be distinguished purely by case, i.e., if case is disregarded, no two names should be the same.
It is also recommended that names should be obviously meaningful, if possible, as this renders the file more effectively self-describing.</p>
</div>
<div class="paragraph">
<p>This convention does not standardize any variable or dimension names.
Attribute names and their contents, where standardized, are given in English in this document and should appear in English in conforming netCDF files for the sake of portability.
Languages other than English are permitted for variables, dimensions, and non-standardized attributes.
The content of some standardized attributes are string values that are not standardized, and thus are not required to be in English.
For example, a description of what a variable represents may be given in a non-English language using the <strong><code>long_name</code></strong> attribute (see <a href="#long-name">Section 3.2, "Long Name"</a>) whose contents are not standardized, but a description given by the <strong><code>standard_name</code></strong> attribute (see <a href="#standard-name">Section 3.3, "Standard Name"</a>) must be taken from the standard name table which is in English.</p>
</div>
</div>
<div class="sect2">
<h3 id="dimensions"><a class="anchor" href="#dimensions"></a>2.4. Dimensions</h3>
<div class="paragraph">
<p>A variable may have any number of dimensions, including zero, and the dimensions must all have different names.
<em>COARDS strongly recommends limiting the number of dimensions to four, but we wish to allow greater flexibility</em>.
The dimensions of the variable define the axes of the quantity it contains.
Dimensions other than those of space and time may be included.
Several examples can be found in this document.
Under certain circumstances, one may need more than one dimension in a particular quantity.
For instance, a variable containing a two-dimensional probability density function might correlate the temperature at two different vertical levels, and hence would have temperature on both axes.</p>
</div>
<div class="paragraph">
<p>If any or all of the dimensions of a variable have the interpretations of "date or time" (<strong><code>T</code></strong>), "height or depth" (<strong><code>Z</code></strong>), "latitude" (<strong><code>Y</code></strong>), or "longitude" (<strong><code>X</code></strong>) then we recommend, but do not require (see <a href="#coards-relationship">Section 1.5, "Relationship to the COARDS Conventions"</a>), those dimensions to appear in the relative order <strong><code>T</code></strong>, then <strong><code>Z</code></strong>, then <strong><code>Y</code></strong>, then <strong><code>X</code></strong> in the CDL definition corresponding to the file.
All other dimensions should, whenever possible, be placed to the left of the spatiotemporal dimensions.</p>
</div>
<div class="paragraph">
<p>Dimensions may be of any size, including unity.
When a single value of some coordinate applies to all the values in a variable, the recommended means of attaching this information to the variable is by use of a dimension of size unity with a one-element coordinate variable.
It is also acceptable to use a scalar coordinate variable which eliminates the need for an associated size one dimension in the data variable.
The advantage of using either a coordinate variable or an auxiliary coordinate variable is that all its attributes can be used to describe the single-valued quantity, including boundaries.
For example, a variable containing data for temperature at 1.5 m above the ground has a single-valued coordinate supplying a height of 1.5 m, and a time-mean quantity has a single-valued time coordinate with an associated boundary variable to record the start and end of the averaging period.</p>
</div>
</div>
<div class="sect2">
<h3 id="variables"><a class="anchor" href="#variables"></a>2.5. Variables</h3>
<div class="paragraph">
<p>This convention does not standardize variable names.</p>
</div>
<div class="paragraph">
<p>NetCDF variables that contain coordinate data are referred to as <em>coordinate variables</em>, <em>auxiliary coordinate variables</em>, <em>scalar coordinate variables</em>, or <em>multidimensional coordinate variables</em>.</p>
</div>
<div class="sect3">
<h4 id="missing-data"><a class="anchor" href="#missing-data"></a>2.5.1. Missing data, valid and actual range of data</h4>
<div class="paragraph">
<p>The NUG conventions
(<a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, Attribute Conventions</a>)
provide the <strong><code>_FillValue</code></strong>, <strong><code>missing_value</code></strong>, <strong><code>valid_min</code></strong>, <strong><code>valid_max</code></strong>, and <strong><code>valid_range</code></strong> attributes to indicate missing data.
Missing data is allowed in data variables and auxiliary coordinate variables.
Generic applications should treat the data as missing where any auxiliary coordinate variables have missing values; special-purpose applications might be able to make use of the data.
Missing data is not allowed in coordinate variables.</p>
</div>
<div class="paragraph">
<p>The NUG conventions for missing data changed significantly between version 2.3 and version 2.4.
Since version 2.4 the NUG defines missing data as all values outside of the <strong><code>valid_range</code></strong>, and specifies how the <strong><code>valid_range</code></strong> should be defined from the <strong><code>_FillValue</code></strong> (which has library specified default values) if it hasn&#8217;t been explicitly specified.
If only one missing value is needed for a variable then we recommend  that this value be specified using the <strong><code>_FillValue</code></strong> attribute.
Doing this guarantees that the missing value will be recognized by generic applications that follow either the before or after version 2.4 conventions.</p>
</div>
<div class="paragraph">
<p>The scalar attribute with the name <strong><code>_FillValue</code></strong> and of the same type as its variable is recognized by the netCDF library as the value used to pre-fill disk space allocated to the variable.
This value is considered to be a special value that indicates undefined or missing data, and is returned when reading values that were not written.
The <strong><code>_FillValue</code></strong> should be outside the range specified by <strong><code>valid_range</code></strong> (if used) for a variable.
The netCDF library defines a default fill value for each data type (See the "Note on fill values" in <a href="https://www.unidata.ucar.edu/software/netcdf/docs/file_format_specifications.html#classic_format_spec">NUG Appendix B, File Format Specifications</a>).</p>
</div>
<div class="paragraph">
<p>The missing values of a variable with <strong><code>scale_factor</code></strong> and/or <strong><code>add_offset</code></strong> attributes (see <a href="#packed-data">Section 8.1, "Packed Data"</a>) are interpreted relative to the variable&#8217;s external values (a.k.a. the packed values, the raw values, the values stored in the netCDF file), not the values that result after the scale and offset are applied.
Applications that process variables that have attributes to indicate both a transformation (via a scale and/or offset) and missing values should first check that a data value is valid, and then apply the transformation.
Note that values that are identified as missing should not be transformed.
Since the missing value is outside the valid range it is possible that applying a transformation to it could result in an invalid operation.
For example, the default <strong><code>_FillValue</code></strong> is very close to the maximum representable value of IEEE single precision floats, and multiplying it by 100 produces an "Infinity" (using single precision arithmetic).</p>
</div>
<div class="paragraph">
<p>This convention defines a two-element vector attribute <strong><code>actual_range</code></strong> for variables containing numeric data.
If the variable is packed using the <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong> attributes (see <a href="#packed-data">Section 8.1, "Packed Data"</a>), the elements of the <strong><code>actual_range</code></strong> should have the type intended for the unpacked data.
The elements of <strong><code>actual_range</code></strong> must be exactly equal to the minimum and the maximum data values which occur in the variable (when unpacked if packing is used), and both must be within the <strong><code>valid_range</code></strong> if specified.
If the data is all missing or invalid, the <strong><code>actual_range</code></strong> attribute cannot be used.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_attributes"><a class="anchor" href="#_attributes"></a>2.6. Attributes</h3>
<div class="paragraph">
<p>This standard describes many attributes (some mandatory, others optional), but a file may also contain non-standard attributes.
Such attributes do not represent a violation of this standard.
Application programs should ignore attributes that they do not recognise or which are irrelevant for their purposes.
Conventional attribute names should be used wherever applicable.
Non-standard names should be as meaningful as possible.
Before introducing an attribute, consideration should be given to whether the information would be better represented as a variable.
In general, if a proposed attribute requires ancillary data to describe it, is multidimensional, requires any of the defined netCDF dimensions to index its values, or requires a significant amount of storage, a variable should be used instead.
When this standard defines string attributes that may take various prescribed values, the possible values are generally given in lower case.
However, applications programs should not be sensitive to case in these attributes.
Several string attributes are defined by this standard to contain "blank-separated lists".
Consecutive words in such a list are separated by one or more adjacent spaces.
The list may begin and end with any number of spaces.
See <a href="#attribute-appendix">Appendix A, Attributes</a> for a list of attributes described by this standard.</p>
</div>
<div class="sect3">
<h4 id="identification-of-conventions"><a class="anchor" href="#identification-of-conventions"></a>2.6.1. Identification of Conventions</h4>
<div class="paragraph">
<p>Files that follow this version of the CF Conventions must indicate this by setting the NUG defined global attribute <strong><code>Conventions</code></strong> to a string value that contains "<strong><code>CF-1.11</code></strong>".
The Conventions version number contained in that string can be used to find the web based versions of this document are from the <a href="https://cfconventions.org/">netCDF Conventions web page</a>.
Subsequent versions of the CF Conventions will not make invalid a compliant usage of this or earlier versions of the CF terms and forms.</p>
</div>
<div class="paragraph">
<p>It is possible for a netCDF file to adhere to more than one set of conventions, even when there is no inheritance relationship among the conventions.
In this case, the value of the Conventions attribute may be a single text string containing a list of the convention names separated by blank space (recommended) or commas (if a convention name contains blanks).
This is the Unidata recommended syntax from NetCDF Users Guide, Appendix A.
If the string contains any commas, it is assumed to be a comma-separated list.</p>
</div>
<div class="paragraph">
<p>When CF is listed with other conventions, this asserts the same full compliance with CF requirements and interpretations as if CF was the sole convention.
It is the responsibility of the data-writer to ensure that all common metadata is used with consistent meaning between conventions.</p>
</div>
<div class="paragraph">
<p>The UGRID conventions, which are fully incorporated into the CF conventions, do not need to be included in the <strong><code>Conventions</code></strong> attribute.</p>
</div>
</div>
<div class="sect3">
<h4 id="description-of-file-contents"><a class="anchor" href="#description-of-file-contents"></a>2.6.2. Description of file contents</h4>
<div class="paragraph">
<p>The following attributes are intended to provide information about where the data came from and what has been done to it.
This information is mainly for the benefit of human readers.
The attribute values are all character strings.
For readability in ncdump outputs it is recommended to embed newline characters into long strings to break them into lines.
For backwards compatibility with COARDS none of these global attributes is required.</p>
</div>
<div class="paragraph">
<p>The NUG defines <strong><code>title</code></strong> and <strong><code>history</code></strong> to be global attributes.
We wish to allow the newly defined attributes, i.e., <strong><code>institution</code></strong>, <strong><code>source</code></strong>, <strong><code>references</code></strong>, and <strong><code>comment</code></strong>, to be either global or assigned to individual variables.
When an attribute appears both globally and as a variable attribute, the variable&#8217;s version has precedence.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>title</code></strong></dt>
<dd>
<p>A succinct description of what is in the dataset.</p>
</dd>
<dt class="hdlist1"><strong><code>institution</code></strong></dt>
<dd>
<p>Specifies where the original data was produced.</p>
</dd>
<dt class="hdlist1"><strong><code>source</code></strong></dt>
<dd>
<p>The method of production of the original data.
If it was model-generated, <strong><code>source</code></strong> should name the model and its version, as specifically as could be useful.
If it is observational, <strong><code>source</code></strong> should characterize it (e.g., "<strong><code>surface observation</code></strong>" or "<strong><code>radiosonde</code></strong>").</p>
</dd>
<dt class="hdlist1"><strong><code>history</code></strong></dt>
<dd>
<p>Provides an audit trail for modifications to the original data.
Well-behaved generic netCDF filters will automatically append their name and the parameters with which they were invoked to the global history attribute of an input netCDF file.
We recommend that each line begin with a timestamp indicating the date and time of day that the program was executed.</p>
</dd>
<dt class="hdlist1"><strong><code>references</code></strong></dt>
<dd>
<p>Published or web-based references that describe the data or methods used to produce it.</p>
</dd>
<dt class="hdlist1"><strong><code>comment</code></strong></dt>
<dd>
<p>Miscellaneous information about the data or methods used to produce it.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="external-variables"><a class="anchor" href="#external-variables"></a>2.6.3. External Variables</h4>
<div class="paragraph">
<p>The global <strong><code>external_variables</code></strong> attribute is a blank-separated list of the names of variables which are named by attributes in the file but which are not present in the file.
These variables are to be found in other files (called "external files") but CF does not provide conventions for identifying the files concerned.
The only attribute for which CF standardises the use of external variables is <strong><code>cell_measures</code></strong>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="groups"><a class="anchor" href="#groups"></a>2.7. Groups</h3>
<div class="paragraph">
<p>Groups provide a powerful mechanism to structure data hierarchically.
This convention does not standardize group names.
It may be of benefit to name groups in such a way that human readers can interpret them.
However, files that conform to this standard shall not require software to interpret or decode information from group names.
References to out-of-group variable and dimensions shall be found by applying the scoping rules outlined below.</p>
</div>
<div class="sect3">
<h4 id="_scope"><a class="anchor" href="#_scope"></a>2.7.1. Scope</h4>
<div class="paragraph">
<p>The scoping mechanism is in keeping with the following principal:</p>
</div>
<div class="quoteblock">
<blockquote>
"Dimensions are scoped such that they are visible to all child groups.
For example, you can define a dimension in the root group, and use its dimension id when defining a variable in a sub-group."
</blockquote>
<div class="attribution">
&#8212; <a href="https://www.unidata.ucar.edu/software/netcdf/docs/groups.html">The NetCDF Data Model: Groups</a>
</div>
</div>
<div class="paragraph">
<p>Any variable or dimension can be referred to, as long as it can be found with one of the following search strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Search by absolute path</p>
</li>
<li>
<p>Search by relative path</p>
</li>
<li>
<p>Search by proximity</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These strategies are explained in detail in the following sections.</p>
</div>
<div class="paragraph">
<p>If any dimension of an out-of-group variable has the same name as a dimension of the referring variable, the two must be the same dimension (i.e. they must have the same netCDF dimension ID).</p>
</div>
<div class="sect4">
<h5 id="_search_by_absolute_path"><a class="anchor" href="#_search_by_absolute_path"></a>Search by absolute path</h5>
<div class="paragraph">
<p>A variable or dimension specified with an absolute path (i.e., with a leading slash "/") is at the indicated location relative to the root group, as in a UNIX-style file convention.
For example, a <code>coordinates</code> attribute of <code>/g1/lat</code> refers to the <code>lat</code> variable in group <code>/g1</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_search_by_relative_path"><a class="anchor" href="#_search_by_relative_path"></a>Search by relative path</h5>
<div class="paragraph">
<p>As in a UNIX-style file convention, a variable or dimension specified with a relative path (i.e., containing a slash but not with a leading slash, e.g. <code>child/lat</code>) is at the location obtained by affixing the relative path to the absolute path of the referring attribute.
For example, a <code>coordinates</code> attribute of <code>g1/lat</code> refers to the <code>lat</code> variable in subgroup <code>g1</code> of the current (referring) group.
Upward path traversals from the current group are indicated with the UNIX convention.
For example, <code>../g1/lat</code> refers to the <code>lat</code> variable in the sibling group <code>g1</code> of the current (referring) group.</p>
</div>
</div>
<div class="sect4">
<h5 id="_search_by_proximity"><a class="anchor" href="#_search_by_proximity"></a>Search by proximity</h5>
<div class="paragraph">
<p>A variable or dimension specified with no path (for example, <code>lat</code>) refers to the variable or dimension of that name, if there is one, in the referring group.
If not, the ancestors of the referring group are searched for it, starting from the direct ancestor and proceeding toward the root group, until it is found.</p>
</div>
<div class="paragraph">
<p>A special case exists for coordinate variables.
Because coordinate variables must share dimensions with the variables that reference them, the ancestor search is executed only until the local apex group is reached.
For coordinate variables that are not found in the referring group or its ancestors, a further strategy is provided, called lateral search.
The lateral search proceeds downwards from the local apex group width-wise through each level of groups until the sought coordinate is found.
The lateral search algorithm may only be used for NUG coordinate variables; it shall not be used for auxiliary coordinate variables.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This use of the lateral search strategy to find them is discouraged.
They are allowed mainly for backwards-compatibility with existing datasets, and may be deprecated in future versions of the standard.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_application_of_attributes"><a class="anchor" href="#_application_of_attributes"></a>2.7.2. Application of attributes</h4>
<div class="paragraph">
<p>The following attributes are optional for non-root groups.
They are allowed in order to provide additional provenance and description of the subsidiary data.
They do not override attributes from parent groups.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>title</code></p>
</li>
<li>
<p><code>history</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If these attributes are present, they may be applied additively to the parent attributes of the same name.
If a file containing groups is modified, the user or application need only update these attributes in the root group, rather than traversing all groups and updating all attributes that are found with the same name.
In the case of conflicts, the root group attribute takes precedence over per-group instances of these attributes.</p>
</div>
<div class="paragraph">
<p>The following attributes may only be used in the root group and shall not be duplicated or overridden in child groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Conventions</code></p>
</li>
<li>
<p><code>external_variables</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore, per-variable attributes must be attached to the variables to which they refer.
They may not be attached to a group, even if all variables within that group use the same attribute and value.</p>
</div>
<div class="paragraph">
<p>If attributes are present within groups without being attached to a variable, these attributes apply to the group where they are defined, and to that group&#8217;s descendants, but not to ancestor or sibling groups.
If a group attribute is defined in a parent group, and one of the child group redefines the same attribute, the definition within the child group applies for the child and all of its descendants.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_description_of_the_data"><a class="anchor" href="#_description_of_the_data"></a>3. Description of the Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The attributes described in this section are used to provide a description of the content and the units of measurement for each variable.
We continue to support the use of the <strong><code>units</code></strong> and <strong><code>long_name</code></strong> attributes as defined in COARDS.
We extend COARDS by adding the optional <strong><code>standard_name</code></strong> attribute which is used to provide unique identifiers for variables.
This is important for data exchange since one cannot necessarily identify a particular variable based on the name assigned to it by the institution that provided the data.</p>
</div>
<div class="paragraph">
<p>The <strong><code>standard_name</code></strong> attribute can be used to identify variables that contain coordinate data.
But since it is an optional attribute, applications that implement these standards must continue to be able to identify coordinate types based on the COARDS conventions.</p>
</div>
<div class="sect2">
<h3 id="units"><a class="anchor" href="#units"></a>3.1. Units</h3>
<div class="paragraph">
<p>The <strong><code>units</code></strong> attribute is required for all variables that represent dimensional quantities (except for boundary variables defined in <a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a> and climatology variables defined in <a href="#climatological-statistics">Section 7.4, "Climatological Statistics"</a>).
The <strong><code>units</code></strong> attribute is permitted but not required for dimensionless quantities (see <a href="#dimensionless-units">Section 3.1.1, "Dimensionless units"</a>).</p>
</div>
<div class="paragraph">
<p>The value of the <strong><code>units</code></strong> attribute is a string that can be recognized by the UDUNITS package <a href="#UDUNITS">[UDUNITS]</a>, with the exceptions that are given in <a href="#dimensionless-units">Section 3.1.1, "Dimensionless units"</a> and <a href="#units-multiples">Section 3.1.3, "Scale factors and offsets"</a>.
Note that case is significant in the <strong><code>units</code></strong> strings.
Note also that CF depends on UDUNITS only for the definition of legal <strong><code>units</code></strong> strings.
CF does not assume or require that the UDUNITS software will be used for <strong><code>units</code></strong> conversion.
In most <strong><code>units</code></strong> conversions, the sole operation on the data is multiplication by a scale factor.
Special treatment is required in converting the <strong><code>units</code></strong> of variables that involve temperature (<a href="#temperature-units">Section 3.1.2, "Temperature units"</a>) and the <strong><code>units</code></strong> of time coordinate variables (<a href="#time-coordinate">Section 4.4, "Time Coordinate"</a>).</p>
</div>
<div class="paragraph">
<p>The COARDS convention prohibits the unit <code>degrees</code> altogether, but this unit is not forbidden by the CF convention because it may in fact be appropriate for a variable containing, say, solar zenith angle.
The unit <code>degrees</code> is also allowed on coordinate variables such as the latitude and longitude coordinates of a transformed grid.
In this case the coordinate values are not true latitudes and longitudes, which must always be identified using the more specific forms of <code>degrees</code> as described in <a href="#latitude-coordinate">Section 4.1, "Latitude Coordinate"</a> and <a href="#longitude-coordinate">Section 4.2, "Longitude Coordinate"</a>.</p>
</div>
<div class="sect3">
<h4 id="dimensionless-units"><a class="anchor" href="#dimensionless-units"></a>3.1.1. Dimensionless units</h4>
<div class="paragraph">
<p>A variable with no <strong><code>units</code></strong> attribute is assumed to be dimensionless.
However, a <strong><code>units</code></strong> attribute specifying a dimensionless unit may optionally be included.
The canonical unit (see also <a href="#standard-name">Section 3.3, "Standard Name"</a>) for dimensionless quantities that represent fractions, or parts of a whole, is <code>1</code>.
The UDUNITS package defines a few dimensionless units, such as <code>percent</code>, <code>ppm</code> (parts per million, 1e-6), and <code>ppb</code> (parts per billion, 1e-9).
As an alternative to the canonical <strong><code>units</code></strong> of <code>1</code> or some other unitless number, the <strong><code>units</code></strong> for a dimensionless quantity may be given as a ratio of dimensional units, for instance <code>mg kg-1</code> for a mass ratio of 1e-6, or <code>microlitre litre-1</code> for a volume ratio of 1e-6. Data-producers are invited to consider whether this alternative would be more helpful to the users of their data.</p>
</div>
<div class="paragraph">
<p>The CF convention supports dimensionless units that are UDUNITS compatible, with one exception, concerning the dimensionless units defined by UDUNITS for volume ratios, such as <code>ppmv</code> and <code>ppbv</code>.
These units are allowed in the <strong><code>units</code></strong> attribute by CF only if the data variable has no <strong><code>standard_name</code></strong>.
These units are prohibited by CF if there is a <strong><code>standard_name</code></strong>, because the <strong><code>standard_name</code></strong> defines whether the quantity is a volume ratio, so the <strong><code>units</code></strong> are needed only to indicate a dimensionless number.</p>
</div>
<div class="paragraph">
<p>Information describing a dimensionless physical quantity itself (e.g.
"area fraction" or "probability") does not belong in the <strong><code>units</code></strong> attribute, but should be given in the <strong><code>long_name</code></strong> or <strong><code>standard_name</code></strong> attributes (see <a href="#long-name">Section 3.2, "Long Name"</a> and <a href="#standard-name">Section 3.3, "Standard Name"</a>), in the same way as for physical quantities with dimensional units.
As an exception, to maintain backwards compatibility with COARDS, the text strings <code>level</code>, <code>layer</code>, and <code>sigma_level</code> are allowed in the <strong><code>units</code></strong> attribute, in order to indicate dimensionless vertical coordinates.
This use of <strong><code>units</code></strong> is not compatible with UDUNITS, and is deprecated by this standard because conventions for more precisely identifying dimensionless vertical coordinates are available (see <a href="#dimensionless-vertical-coordinate">Section 4.3.2, "Dimensionless Vertical Coordinate"</a>).</p>
</div>
<div class="paragraph">
<p>The UDUNITS syntax that allows scale factors and offsets to be applied to a unit is not supported by this standard, except for case of specifying reference time, see section <a href="#time-coordinate">Section 4.4, "Time Coordinate"</a>.
The application of any scale factors or offsets to data should be indicated by the <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong> attributes.
Use of these attributes for data packing, which is their most important application, is discussed in detail in <a href="#packed-data">Section 8.1, "Packed Data"</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="temperature-units"><a class="anchor" href="#temperature-units"></a>3.1.2. Temperature units</h4>
<div class="paragraph">
<p>The <strong><code>units</code></strong> of temperature imply an origin (i.e. zero point) for the associated measurement scale.
When the temperature value is the degree of warmth with respect to the origin of the measurement scale, we call it an <em>on-scale temperature</em>.
When <strong><code>units</code></strong> of on-scale temperature are converted, the data may require the addition of an offset as well as multiplication by a scale factor, because the physical meaning of a numerical value of zero for an on-scale temperature depends on the unit of measurement.
On-scale temperature is <em>unique</em> among quantities in the respect that the origin and the unit of measurement are both defined by the <strong><code>units</code></strong> and therefore cannot be chosen independently.
For all other quantities, the origin and the unit of measurement are independent.
Converting the unit of measurement alone, without changing the origin, does not change the meaning of zero.
For example (using <strong>bold</strong> to indicate a numerical data value), <strong>0</strong> <code>kilogram</code> is the same mass as <strong>0</strong> <code>pound</code>, and <strong>0</strong> <code>seconds since 1970-1-1</code> means the same as <strong>0</strong> <code>days since 1970-1-1</code>, but <strong>0</strong> <code>degC</code> is not the same temperature as <strong>0</strong> <code>degF</code> (= <strong>-17.8</strong> <code>degC</code>), because these two temperature <strong><code>units</code></strong> implicitly refer to measurement scales which have different origins.</p>
</div>
<div class="paragraph">
<p>On the other hand, when the temperature value is a <em>temperature difference</em>, which compares two on-scale temperatures with the same origin, the value of that origin is irrelevant as it cancels out when taking the difference.
Therefore to convert the <strong><code>units</code></strong> of a temperature difference requires only multiplication by a scale factor, without the addition of an offset.</p>
</div>
<div class="paragraph">
<p>The <strong><code>units</code></strong> attribute does not distinguish between on-scale temperatures and temperature differences.
This ambiguity also affects units of temperature raised to some power e.g. <code>K^2</code> or multiplied by other units e.g. <code>W m-2 K-1</code>, <code>degF/foot</code> or <code>degC m s-1</code>.
A <strong><code>standard_name</code></strong> (<a href="#standard-name">Section 3.3, "Standard Name"</a>) or <strong><code>standard_name</code></strong> modifier (<a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a>) may clarify the intention, but they are optional.
Some statistical operations described by the <strong><code>cell_methods</code></strong> attribute (<a href="#cell-methods">Section 7.3, "Cell Methods"</a>; <a href="#appendix-cell-methods">Appendix E, Cell Methods</a>) imply that temperature must be interpreted as temperature difference, but this attribute is optional too.</p>
</div>
<div class="paragraph">
<p>In order to convert the <strong><code>units</code></strong> correctly, it is essential to know whether a temperature is on-scale or a difference.
Therefore this standard strongly recommends that any variable whose <strong><code>units</code></strong> involve a temperature unit should also have a <strong><code>units_metadata</code></strong> attribute to make the distinction.
This attribute must have one of the following three values: <code>temperature: on_scale</code>, <code>temperature: difference</code>, <code>temperature: unknown</code>.
The <strong><code>units_metadata</code></strong> attribute, <strong><code>standard_name</code></strong> modifier (<a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a>) and <strong><code>cell_methods</code></strong> attribute (<a href="#appendix-cell-methods">Appendix E, Cell Methods</a>) must be consistent if present.
A variable must not have a <strong><code>units_metadata</code></strong> attribute if it has no <strong><code>units</code></strong> attribute or if its <strong><code>units</code></strong> do not involve a temperature unit.</p>
</div>
<div id="use-of-units-metadata-ex" class="exampleblock">
<div class="title">Example 3.1. Use of <strong><code>units_metadata</code></strong> to distinguish temperature quantities</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>variables:
  float Tonscale;
    Tonscale:long_name="global-mean surface temperature";
    Tonscale:standard_name="surface_temperature";
    Tonscale:units="degC";
    Tonscale:units_metadata="temperature: on_scale";
    Tonscale:cell_methods="area: mean";
  float Tdifference;
    Tdifference:long_name="change in global-mean surface temperature relative to pre-industrial";
    Tdifference:standard_name="surface_temperature";
    Tdifference:units="degC";
    Tdifference:units_metadata="temperature: difference";
    Tdifference:cell_methods="area: mean";</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>With <code>temperature: unknown</code>, correct conversion of the <strong><code>units</code></strong> cannot be guaranteed.
This value of <strong><code>units_metadata</code></strong> indicates that the data-writer does not know whether the temperature is on-scale or a difference.
If the <strong><code>units_metadata</code></strong> attribute is not present, the data-reader should assume <code>temperature: unknown</code>.
The <strong><code>units_metadata</code></strong> attribute was introduced in CF 1.11.
In data written according to versions before 1.11, <code>temperature: unknown</code> should be assumed for all <strong><code>units</code></strong> involving temperature, if it cannot be deduced from other metadata.
We note (for guidance <em>only</em> regarding <code>temperature: unknown</code>, <em>not</em> as a CF convention) that the UDUNITS software assumes <code>temperature: on_scale</code> for <strong><code>units</code></strong> strings containing only a unit of temperature, and <code>temperature: difference</code> for <strong><code>units</code></strong> strings in which a unit of temperature is raised to any power other than unity, or multiplied or divided by any other unit.</p>
</div>
<div class="paragraph">
<p>With <code>temperature: on_scale</code>, correct conversion can be guaranteed only for pure temperature <strong><code>units</code></strong>.
If the quantity is an on-scale temperature multiplied by some other quantity, it is not possible to convert the data from the <strong><code>units</code></strong> given to any other <strong><code>units</code></strong> that involve a temperature with a different origin, given only the <strong><code>units</code></strong>.
For instance, when temperature is on-scale, a value in <code>kg degree_C m-2</code> can be converted to a value in <code>kg K m-2</code> only if we know separately the values in <code>degree_C</code> and <code>kg m-2</code> of which it is the product.</p>
</div>
</div>
<div class="sect3">
<h4 id="units-multiples"><a class="anchor" href="#units-multiples"></a>3.1.3. Scale factors and offsets</h4>
<div class="paragraph">
<p>UDUNITS recognises the SI prefixes shown in <a href="#table-supported-units">Prefixes for decimal multiples and submultiples of units</a> for decimal multiples and submultiples of units, and allows them to be applied to non-SI units as well.
UDUNITS offers a syntax for indicating arbitrary scale factors and offsets to be applied to a unit.
(Note that this is different from the scale factors and offsets used for converting between <strong><code>units</code></strong>, as discussed for temperature in <a href="#temperature-units">Section 3.1.2, "Temperature units"</a>.)
This UDUNITS syntax for arbitrary transformation of <strong><code>units</code></strong> is not supported by the CF standard, except for the case of specifying reference time (<a href="#time-coordinate">Section 4.4, "Time Coordinate"</a>).
The application of any scale factors or offsets to data should be indicated by the <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong> attributes.
Use of these attributes for data packing, which is their most important application, is discussed in detail in <a href="#packed-data">Section 8.1, "Packed Data"</a>.</p>
</div>
<table id="table-supported-units" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3.1. Prefixes for decimal multiples and submultiples of units</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Factor</th>
<th class="tableblock halign-left valign-top">Prefix</th>
<th class="tableblock halign-left valign-top">Abbreviation</th>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Factor</th>
<th class="tableblock halign-left valign-top">Prefix</th>
<th class="tableblock halign-left valign-top">Abbreviation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">deca,deka</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">da</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">deci</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">d</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">hecto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">h</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">centi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">c</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kilo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">k</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">milli</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">m</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mega</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">micro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">u</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">giga</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nano</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tera</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">T</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pico</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">p</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">peta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">femto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">f</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">atto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zetta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zepto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">z</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yotta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yocto</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">y</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="long-name"><a class="anchor" href="#long-name"></a>3.2. Long Name</h3>
<div class="paragraph">
<p>The <strong><code>long_name</code></strong> attribute is defined by the NUG to contain a long descriptive name which may, for example, be used for labeling plots.
For backwards compatibility with COARDS this attribute is optional.
But it is highly recommended that either this or the <strong><code>standard_name</code></strong> attribute defined in the next section be provided to make the file self-describing.
If a variable has no <strong><code>long_name</code></strong> attribute then an application may use, as a default, the <strong><code>standard_name</code></strong> if it exists, or the variable name itself.</p>
</div>
</div>
<div class="sect2">
<h3 id="standard-name"><a class="anchor" href="#standard-name"></a>3.3. Standard Name</h3>
<div class="paragraph">
<p>A fundamental requirement for exchange of scientific data is the ability to describe precisely the physical quantities being represented.
To some extent this is the role of the <strong><code>long_name</code></strong> attribute as defined in the NUG.
However, usage of <strong><code>long_name</code></strong> is completely ad-hoc.
For many applications it is desirable to have a more definitive description of the quantity, which allows users of data from different sources (some of which might be models and others observational) to determine whether quantities are in fact comparable.
For this reason each variable may optionally be given a "standard name", whose meaning is defined by this convention.
There may be several variables in a dataset with any given standard name, and these may be distinguished by other metadata, such as coordinates (<a href="#coordinate-types">Chapter 4, Coordinate Types</a>) and <strong><code>cell_methods</code></strong> (<a href="#cell-methods">Section 7.3, "Cell Methods"</a>).</p>
</div>
<div class="paragraph">
<p>A standard name is associated with a variable via the attribute <strong><code>standard_name</code></strong> which takes a string value comprised of a standard name optionally followed by one or more blanks and a standard name modifier (a string value from <a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a>).</p>
</div>
<div class="paragraph">
<p>The set of permissible standard names is contained in the standard name table.
The table entry for each standard name contains the following:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">standard name</dt>
<dd>
<p>The name used to identify the physical quantity.
A standard name contains no whitespace and is case sensitive.</p>
</dd>
<dt class="hdlist1">canonical units</dt>
<dd>
<p>Representative units of the physical quantity.
Unless it is dimensionless, a variable with a <strong><code>standard_name</code></strong> attribute must have units which are physically equivalent (not necessarily identical) to the canonical units, possibly modified by an operation specified by the standard name modifier (see below and <a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a>) or by the <strong><code>cell_methods</code></strong> attribute (see <a href="#cell-methods">Section 7.3, "Cell Methods"</a> and <a href="#appendix-cell-methods">Appendix E, Cell Methods</a>) or both.</p>
</dd>
<dt class="hdlist1">description</dt>
<dd>
<p>The description is meant to clarify the qualifiers of the fundamental quantities such as which surface a quantity is defined on or what the flux sign conventions are.
We don&#8217;t attempt to provide precise definitions of fundumental physical quantities (e.g., temperature) which may be found in the literature.
The description may define rules on the variable type, attributes and coordinates which must be complied with by any variable carrying that standard name (such as in Example 3.5).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>When appropriate, the table entry also contains the corresponding GRIB parameter code(s) (from ECMWF and NCEP) and AMIP identifiers.</p>
</div>
<div class="paragraph">
<p>The standard name table is located at
<a href="https://cfconventions.org/Data/cf-standard-names/current/src/cf-standard-name-table.xml"><a href="https://cfconventions.org/Data/cf-standard-names/current/src/cf-standard-name-table.xml" class="bare">https://cfconventions.org/Data/cf-standard-names/current/src/cf-standard-name-table.xml</a></a>,
written in compliance with the XML format, as described in <a href="#standard-name-table-format">Appendix B, Standard Name Table Format</a>.
Knowledge of the XML format is only necessary for application writers who plan to directly access the table.
A formatted text version of the table is provided at
<a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html"><a href="https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html" class="bare">https://cfconventions.org/Data/cf-standard-names/current/build/cf-standard-name-table.html</a></a>,
and this table may be consulted in order to find the standard name that should be assigned to a variable.
Some standard names (e.g. <strong><code>region</code></strong> and <strong><code>area_type</code></strong>) are used to indicate quantities which are permitted to take only certain standard values.
This is indicated in the definition of the quantity in the standard name table, accompanied by a list or a link to a list of the permitted values.</p>
</div>
<div class="paragraph">
<p>Standard names by themselves are not always sufficient to describe a quantity.
For example, a variable may contain data to which spatial or temporal operations have been applied.
Or the data may represent an uncertainty in the measurement of a quantity.
These quantity attributes are expressed as modifiers of the standard name.
Modifications due to common statistical operations are expressed via the <strong><code>cell_methods</code></strong> attribute (see <a href="#cell-methods">Section 7.3, "Cell Methods"</a> and <a href="#appendix-cell-methods">Appendix E, Cell Methods</a>).
Other types of quantity modifiers are expressed using the optional modifier part of the <strong><code>standard_name</code></strong> attribute.
The permissible values of these modifiers are given in <a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a>.</p>
</div>
<div id="use-of-standard-name-ex" class="exampleblock">
<div class="title">Example 3.2. Use of <strong><code>standard_name</code></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>float psl(lat,lon) ;
  psl:long_name = "mean sea level pressure" ;
  psl:units = "hPa" ;
  psl:standard_name = "air_pressure_at_sea_level" ;</pre>
</div>
</div>
<div class="paragraph">
<p>The description in the standard name table entry for <code>air_pressure_at_sea_level</code> clarifies that "sea level" refers to the mean sea level, which is close to the geoid in sea areas.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="ancillary-data"><a class="anchor" href="#ancillary-data"></a>3.4. Ancillary Data</h3>
<div class="paragraph">
<p>When one data variable provides metadata about the individual values of another data variable it may be desirable to express this association by providing a link between the variables.
For example, instrument data may have associated measures of uncertainty.
The attribute <strong><code>ancillary_variables</code></strong> is used to express these types of relationships.
It is a string attribute whose value is a blank separated list of variable names.
The nature of the relationship between variables associated via <strong><code>ancillary_variables</code></strong> must be determined by other attributes.
The variables listed by the <strong><code>ancillary_variables</code></strong> attribute will often have the standard name of the variable which points to them including a modifier (<a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a>) to indicate the relationship.
The dimensions of an ancillary variable must be the same as or a subset of the dimensions of the variable to which it is related, but their order is not restricted, and with one exception:
If an ancillary variable of a data variable that has been compressed by gathering (<a href="#compression-by-gathering">Section 8.2, "Lossless Compression by Gathering"</a>) does not span the compressed dimension, then its dimensions may be any subset of the data variable&#8217;s uncompressed dimensions, i.e. any of the dimensions of the data variable except the compressed dimension, and any of the dimensions listed by the <strong><code>compress</code></strong> attribute of the compressed coordinate variable.</p>
</div>
<div id="instrument-data-ex" class="exampleblock">
<div class="title">Example 3.3. Ancillary instrument data</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>  float q(time) ;
    q:standard_name = "specific_humidity" ;
    q:units = "g/g" ;
    q:ancillary_variables = "q_error_limit q_detection_limit" ;
  float q_error_limit(time)
    q_error_limit:standard_name = "specific_humidity standard_error" ;
    q_error_limit:units = "g/g" ;
  float q_detection_limit(time)
    q_detection_limit:standard_name = "specific_humidity detection_minimum" ;
    q_detection_limit:units = "g/g" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Alternatively, <strong><code>ancillary_variables</code></strong> may be used as status flags indicating the operational status of an instrument producing the data or as quality flags indicating the results of a quality control test, or some other quantitative quality assessment, performed against the measurements contained in the source variable.
In these cases, the flag variable will include a standard name that differs from that of the source variable and indicates the specific type of flag the variable represents.</p>
</div>
<div class="paragraph">
<p>The standard names table includes many names intended to be used in this situation, both general names meant to be used to flexibly represent any type of status or quality assessment, as well as names for specific quality control tests commonly applied to geophysical phenomena timeseries data.
Several examples are listed below:</p>
</div>
<div class="ulist">
<div class="title">Sample flag variable standard names:</div>
<ul>
<li>
<p><strong><code>status_flag</code></strong> and <strong><code>quality_flag</code></strong>: general flag categories for instrument status or quality assessment</p>
</li>
<li>
<p><strong><code>climatology_test_quality_flag</code></strong>, <strong><code>flat_line_test_quality_flag</code></strong>, <strong><code>gap_test_quality_flag</code></strong>, <strong><code>spike_test_quality_flag</code></strong>: a subset of standard name flags used to indicate the results of commonly-used geophysical timeseries data quality control tests (consult the standard names table for a full list of published flags)</p>
</li>
<li>
<p><strong><code>aggregate_quality_flag</code></strong>: flag indicating an aggregate summary of all quality tests performed on the data variable, both automated and manual (i.e. a master quality flag for a particular variable)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following example illustrates the use of three of these flags to represent two independent quality control tests and an aggregate flag that combines the results of the two tests.</p>
</div>
<div id="quality-flag-ex" class="exampleblock">
<div class="title">Example 3.4. Ancillary quality flag data</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>float salinity(time, z);
        salinity:units = "1";
        salinity:long_name = "Salinity";
        salinity:standard_name = "sea_water_practical_salinity";
        salinity:ancillary_variables = "salinity_qc_generic salinity_qc_flat_line_test salinity_qc_agg";

    int salinity_qc_generic(time, z);
        salinity_qc_generic:long_name = "Salinity Generic QC Process Flag";
        salinity_qc_generic:standard_name = "quality_flag";

    int salinity_qc_flat_line_test(time, z);
        salinity_qc_flat_line_test:long_name = "Salinity Flat Line Test Flag";
        salinity_qc_flat_line_test:standard_name = "flat_line_test_quality_flag";

    int salinity_qc_agg(time, z);
        salinity_qc_agg:long_name = "Salinity Aggregate Flag";
        salinity_qc_agg:standard_name = "aggregate_quality_flag";</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the ancillary variables in this example are simplified to exclude  <strong><code>flag_values</code></strong>, <strong><code>flag_masks</code></strong> and <strong><code>flag_meanings</code></strong> attributes described in <a href="#flags">Section 3.5, "Flags"</a> that they would ordinarily require</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="flags"><a class="anchor" href="#flags"></a>3.5. Flags</h3>
<div class="paragraph">
<p>The attributes <strong><code>flag_values</code></strong>, <strong><code>flag_masks</code></strong> and <strong><code>flag_meanings</code></strong> are intended to make variables that contain flag values self describing.
Status codes and Boolean (binary) condition flags may be expressed with different combinations of <strong><code>flag_values</code></strong> and <strong><code>flag_masks</code></strong> attribute definitions.</p>
</div>
<div class="paragraph">
<p>The <strong><code>flag_values</code></strong> and <strong><code>flag_meanings</code></strong> attributes describe a status flag consisting of mutually exclusive coded values.
The <strong><code>flag_values</code></strong> attribute is the same type as the variable to which it is attached, and contains a list of the possible flag values.
The <strong><code>flag_meanings</code></strong> attribute is a string whose value is a blank separated list of descriptive words or phrases, one for each flag value.
Each word or phrase should consist of characters from the alphanumeric set and the following five: '_', '-', '.', '+', '@'.
If multi-word phrases are used to describe the flag values, then the words within a phrase should be connected with underscores.
The following example illustrates the use of flag values to express a speed quality with an enumerated status code.</p>
</div>
<div id="flag-variable-flag-values-ex" class="exampleblock">
<div class="title">Example 3.5. A flag variable, using <strong><code>flag_values</code></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>  byte current_speed_qc(time, depth, lat, lon) ;
    current_speed_qc:long_name = "Current Speed Quality" ;
    current_speed_qc:standard_name = "status_flag" ;
    current_speed_qc:_FillValue = -128b ;
    current_speed_qc:valid_range = 0b, 2b ;
    current_speed_qc:flag_values = 0b, 1b, 2b ;
    current_speed_qc:flag_meanings = "quality_good sensor_nonfunctional
                                      outside_valid_range" ;</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the data variable containing current speed has an ancillary_variables attribute with a value containing current_speed_qc.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The flag_masks and flag_meanings attributes describe a number of independent Boolean conditions using bit field notation by setting unique bits in each flag_masks value.
The flag_masks attribute is the same type as the variable to which it is attached, and contains a list of values matching unique bit fields.
The flag_meanings attribute is defined as above, one for each flag_masks value.
A flagged condition is identified by performing a bitwise AND of the variable value and each flag_masks value; a non-zero result indicates a true condition.
Thus, any or all of the flagged conditions may be true, depending on the variable bit settings.
The following example illustrates the use of flag_masks to express six sensor status conditions.</p>
</div>
<div id="flag-variable-flag-masks-ex" class="exampleblock">
<div class="title">Example 3.6. A flag variable, using <strong><code>flag_masks</code></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>  byte sensor_status_qc(time, depth, lat, lon) ;
    sensor_status_qc:long_name = "Sensor Status" ;
    sensor_status_qc:standard_name = "status_flag" ;
    sensor_status_qc:_FillValue = 0b ;
    sensor_status_qc:valid_range = 1b, 63b ;
    sensor_status_qc:flag_masks = 1b, 2b, 4b, 8b, 16b, 32b ;
    sensor_status_qc:flag_meanings = "low_battery processor_fault
                                      memory_fault disk_fault
                                      software_fault
                                      maintenance_required" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>A variable with standard name of <code>region</code>, <code>area_type</code> or any other standard name which requires string-valued values from a defined list may use flags together with <code>flag_values</code> and <code>flag_meanings</code> attributes to record the translation to the string values.
The following example illustrates this using integer flag values for a variable with standard name <code>region</code> and <code>flag_values</code> selected from the <a href="https://cfconventions.org/Data/cf-standard-names/docs/standardized-region-names.html">standardized region names</a> (see section 6.1.1).</p>
</div>
<div id="region-variable-flag-values-ex" class="exampleblock">
<div class="title">Example 3.7. A region variable, using <strong><code>flag_values</code></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>int basin(lat, lon);
       standard_name: region;
       flag_values: 1, 2, 3;
       flag_meanings:"atlantic_arctic_ocean indo_pacific_ocean global_ocean";
data:
   basin: 1, 1, 1, 1, 2, ..... ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The <strong><code>flag_masks</code></strong>, <strong><code>flag_values</code></strong> and <strong><code>flag_meanings</code></strong> attributes, used together, describe a blend of independent Boolean conditions and enumerated status codes.
The <strong><code>flag_masks</code></strong> and <strong><code>flag_values</code></strong> attributes are both the same type as the variable to which they are attached.
A flagged condition is identified by a bitwise AND of the variable value and each <strong><code>flag_masks</code></strong> value; a result that matches the <strong><code>flag_values</code></strong> value indicates a <strong><code>true</code></strong> condition.
Repeated <strong><code>flag_masks</code></strong> define a bit field mask that identifies a number of status conditions with different <strong><code>flag_values</code></strong>.
The <strong><code>flag_meanings</code></strong> attribute is defined as above, one for each <strong><code>flag_masks</code></strong> bit field and <strong><code>flag_values</code></strong> definition.
Each <strong><code>flag_values</code></strong> and <strong><code>flag_masks</code></strong> value must coincide with a <strong><code>flag_meanings</code></strong> value.
The following example illustrates the use of <strong><code>flag_masks</code></strong> and <strong><code>flag_values</code></strong> to express two sensor status conditions and one enumerated status code.</p>
</div>
<div id="flag-variable-flag-masks-flag-values-ex" class="exampleblock">
<div class="title">Example 3.8. A flag variable, using <strong><code>flag_masks</code></strong> and <strong><code>flag_values</code></strong></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>  byte sensor_status_qc(time, depth, lat, lon) ;
    sensor_status_qc:long_name = "Sensor Status" ;
    sensor_status_qc:standard_name = "status_flag" ;
    sensor_status_qc:_FillValue = 0b ;
    sensor_status_qc:valid_range = 1b, 15b ;
    sensor_status_qc:flag_masks = 1b, 2b, 12b, 12b, 12b ;
    sensor_status_qc:flag_values = 1b, 2b, 4b, 8b, 12b ;
    sensor_status_qc:flag_meanings =
         "low_battery
          hardware_fault
          offline_mode calibration_mode maintenance_mode" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In this case, mutually exclusive values are blended with Boolean values to maximize use of the available bits in a flag value.
The table below represents the four binary digits (bits) expressed by the <strong><code>sensor_status_qc</code></strong> variable in the previous example.</p>
</div>
<div class="paragraph">
<p>Bit 0 and Bit 1 are Boolean values indicating a low battery condition and a hardware fault, respectively.
The next two bits (Bit 2 and Bit 3) express an enumeration indicating abnormal sensor operating modes.
Thus, if Bit 0 is set, the battery is low and if Bit 1 is set, there is a hardware fault - independent of the current sensor operating mode.</p>
</div>
<table id="table-flag-variable-bits" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3.2. Flag Variable Bits (from Example)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bit 3 (MSB)</th>
<th class="tableblock halign-left valign-top">Bit 2</th>
<th class="tableblock halign-left valign-top">Bit 1</th>
<th class="tableblock halign-left valign-top">Bit 0 (LSB)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">H/W Fault</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Low Batt</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The remaining bits (Bit 2 and Bit 3) are decoded as follows:</p>
</div>
<table id="table-flag-variable-bit-2-and-3" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3.3. Flag Variable Bit 2 and Bit 3 (from Example)</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Bit 3</th>
<th class="tableblock halign-left valign-top">Bit 2</th>
<th class="tableblock halign-left valign-top">Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">offline_mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">calibration_mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maintenance_mode</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The "12b" flag mask is repeated in the <strong><code>sensor_status_qc</code></strong> <strong><code>flag_masks</code></strong> definition to explicitly declare the recommended bit field masks to repeatedly AND with the variable value while searching for matching enumerated values.
An application determines if any of the conditions declared in the <strong><code>flag_meanings</code></strong> list are <strong><code>true</code></strong> by simply iterating through each of the <strong><code>flag_masks</code></strong> and AND&#8217;ing them with the variable.
When a result is equal to the corresponding <strong><code>flag_values</code></strong> element, that condition is <strong><code>true</code></strong>.
The repeated <strong><code>flag_masks</code></strong> enable a simple mechanism for clients to detect all possible conditions.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coordinate-types"><a class="anchor" href="#coordinate-types"></a>4. Coordinate Types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The commonest use of coordinate variables is to locate the data in space and time, but coordinates may be provided for any other continuous geophysical quantity (e.g. density, temperature, radiation wavelength, zenith angle of radiance, sea surface wave frequency) or discrete category (see <a href="#discrete-axis">Section 4.5, "Discrete Axis"</a>, e.g. area type, model level number, ensemble member number) on which the data variable depends.</p>
</div>
<div class="paragraph">
<p>Four types of coordinates receive special treatment by these conventions: latitude, longitude, vertical, and time.
We continue to support the special role that the <strong><code>units</code></strong> and <strong><code>positive</code></strong> attributes play in the COARDS convention to identify coordinate type.
We extend COARDS by providing explicit definitions of dimensionless vertical coordinates.
The definitions are associated with a coordinate variable via the <strong><code>standard_name</code></strong> and <strong><code>formula_terms</code></strong> attributes.
For backwards compatibility with COARDS use of these attributes is not required, but is strongly recommended.</p>
</div>
<div class="paragraph">
<p>Because identification of a coordinate type by its units is complicated by requiring the use of an external package <a href="#UDUNITS">[UDUNITS]</a>, we provide two optional methods that yield a direct identification.
The attribute <strong><code>axis</code></strong> may be attached to a coordinate variable and given one of the values <strong><code>X</code></strong>, <strong><code>Y</code></strong>, <strong><code>Z</code></strong> or <strong><code>T</code></strong> which stand for a longitude, latitude, vertical, or time axis respectively.
Alternatively the <strong><code>standard_name</code></strong> attribute may be used for direct identification.
But note that these optional attributes are in addition to the required COARDS metadata.</p>
</div>
<div class="paragraph">
<p>To identify generic spatial coordinates we recommend that the <strong><code>axis</code></strong> attribute be attached to these coordinates and given one of the values <strong><code>X</code></strong>, <strong><code>Y</code></strong> or <strong><code>Z</code></strong>.
The values <strong><code>X</code></strong> and <strong><code>Y</code></strong> for the axis attribute should be used to identify horizontal coordinate variables.
If both X- and Y-axis are identified, <strong><code>X-Y-up</code></strong> should define a right-handed coordinate system, i.e. rotation from the positive X direction to the positive Y direction is anticlockwise if viewed from above.
We strongly recommend that coordinate variables be used for all coordinate types whenever they are applicable.</p>
</div>
<div class="paragraph">
<p>The methods of identifying coordinate types described in this section apply both to coordinate variables and to auxiliary coordinate variables named by the <strong><code>coordinates</code></strong> attribute (see <a href="#coordinate-system">Chapter 5, Coordinate Systems and Domain</a>).</p>
</div>
<div class="paragraph">
<p>The values of a coordinate variable or auxiliary coordinate variable indicate the locations of the gridpoints.
The locations of the boundaries between cells are indicated by bounds variables (see <a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a>).
If bounds are not provided, an application might reasonably assume the gridpoints to be at the centers of the cells, but we do not require that in this standard.</p>
</div>
<div class="sect2">
<h3 id="latitude-coordinate"><a class="anchor" href="#latitude-coordinate"></a>4.1. Latitude Coordinate</h3>
<div class="paragraph">
<p>Variables representing latitude must always explicitly include the <strong><code>units</code></strong> attribute; there is no default value.
The recommended value of the <strong><code>units</code></strong> attribute is the string <strong><code>degrees_north</code></strong>. Also accepted are <strong><code>degree_north</code></strong>, <strong><code>degree_N</code></strong>, <strong><code>degrees_N</code></strong>, <strong><code>degreeN</code></strong>, and <strong><code>degreesN</code></strong>.</p>
</div>
<div id="latitude-axis-ex" class="exampleblock">
<div class="title">Example 4.1. Latitude axis</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>float lat(lat) ;
  lat:long_name = "latitude" ;
  lat:units = "degrees_north" ;
  lat:standard_name = "latitude" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Application writers should note that the UDUNITS package does not recognize the directionality implied by the "north" part of the unit specification.
It only recognizes its size, i.e., 1 degree is defined to be pi/180 radians.
Hence, determination that a coordinate is a latitude type should be done via a string match between the given unit and one of the acceptable forms of <strong><code>degrees_north</code></strong>.</p>
</div>
<div class="paragraph">
<p>Optionally, the latitude type may be indicated additionally by providing the <strong><code>standard_name</code></strong> attribute with the value <strong><code>latitude</code></strong>, and/or the <strong><code>axis</code></strong> attribute with the value <strong><code>Y</code></strong>.</p>
</div>
<div class="paragraph">
<p>Coordinates of latitude with respect to a rotated pole should be given units of <strong><code>degrees</code></strong>, not <strong><code>degrees_north</code></strong> or equivalents, because applications which use the units to identify axes would have no means of distinguishing such an axis from real latitude, and might draw incorrect coastlines, for instance.</p>
</div>
</div>
<div class="sect2">
<h3 id="longitude-coordinate"><a class="anchor" href="#longitude-coordinate"></a>4.2. Longitude Coordinate</h3>
<div class="paragraph">
<p>Variables representing longitude must always explicitly include the <strong><code>units</code></strong> attribute; there is no default value.
The recommended value of the <strong><code>units</code></strong> attribute is the string <strong><code>degrees_east</code></strong>. Also accepted are <strong><code>degree_east</code></strong>, <strong><code>degree_E</code></strong>, <strong><code>degrees_E</code></strong>, <strong><code>degreeE</code></strong>, and <strong><code>degreesE</code></strong>.</p>
</div>
<div id="longitude-axis-ex" class="exampleblock">
<div class="title">Example 4.2. Longitude axis</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>float lon(lon) ;
  lon:long_name = "longitude" ;
  lon:units = "degrees_east" ;
  lon:standard_name = "longitude" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Application writers should note that the UDUNITS package has limited recognition of the directionality implied by the "east" part of the unit specification.
It defines <strong><code>degrees_east</code></strong> to be pi/180 radians, and hence equivalent to <strong><code>degrees_north</code></strong>.
We recommend the determination that a coordinate is a longitude type should be done via a string match between the given unit and one of the acceptable forms of <strong><code>degrees_east</code></strong>.</p>
</div>
<div class="paragraph">
<p>Optionally, the longitude type may be indicated additionally by providing the <strong><code>standard_name</code></strong> attribute with the value <strong><code>longitude</code></strong>, and/or the <strong><code>axis</code></strong> attribute with the value <strong><code>X</code></strong>.</p>
</div>
<div class="paragraph">
<p>Coordinates of longitude with respect to a rotated pole should be given units of <strong><code>degrees</code></strong>, not <strong><code>degrees_east</code></strong> or equivalents, because applications which use the units to identify axes would have no means of distinguishing such an axis from real longitude, and might draw incorrect coastlines, for instance.</p>
</div>
</div>
<div class="sect2">
<h3 id="vertical-coordinate"><a class="anchor" href="#vertical-coordinate"></a>4.3. Vertical (Height or Depth) Coordinate</h3>
<div class="paragraph">
<p>Variables representing dimensional height or depth axes must always explicitly include the <strong><code>units</code></strong> attribute; there is no default value.</p>
</div>
<div class="paragraph">
<p>The direction of positive (i.e., the direction in which the coordinate values are increasing), whether up or down, cannot in all cases be inferred from the units.
The direction of positive is useful for applications displaying the data.
For this reason the attribute <strong><code>positive</code></strong> as defined in the COARDS standard is required if the vertical axis units are not a valid unit of pressure (as determined by the UDUNITS package <a href="#UDUNITS">[UDUNITS]</a>)&#8201;&#8212;&#8201;otherwise its inclusion is optional.
The <strong><code>positive</code></strong> attribute may have the value <strong><code>up</code></strong> or <strong><code>down</code></strong> (case insensitive).
This attribute may be applied to either coordinate variables or auxiliary coordinate variables that contain vertical coordinate data.</p>
</div>
<div class="paragraph">
<p>For example, if an oceanographic netCDF file encodes the depth of the surface as 0 and the depth of 1000 meters as 1000 then the axis would use attributes as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>axis_name:units = "meters" ;
axis_name:positive = "down" ;</pre>
</div>
</div>
<div class="paragraph">
<p>If, on the other hand, the depth of 1000 meters were represented as -1000 then the value of the <strong><code>positive</code></strong> attribute would have been <strong><code>up</code></strong>.
If the <strong><code>units</code></strong> attribute value is a valid pressure unit the default value of the <strong><code>positive</code></strong> attribute is <strong><code>down</code></strong>.</p>
</div>
<div class="paragraph">
<p>A vertical coordinate will be identifiable by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>units of pressure; or</p>
</li>
<li>
<p>the presence of the <strong><code>positive</code></strong> attribute with a value of <strong><code>up</code></strong> or <strong><code>down</code></strong> (case insensitive).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Optionally, the vertical type may be indicated additionally by providing the <strong><code>standard_name</code></strong> attribute with an appropriate value, and/or the <strong><code>axis</code></strong> attribute with the value <strong><code>Z</code></strong>.
If both <strong><code>positive</code></strong> and <strong><code>standard_name</code></strong> are provided, it is recommended that they should be consistent.
For instance, if a depth of 1000 metres is represented by -1000 and <strong><code>positive</code></strong> is <strong><code>up</code></strong>, it would be inconsistent to give the <strong><code>standard_name</code></strong> as <strong><code>depth</code></strong>, whose definition (vertical distance below the surface) implies positive down.
If an application detects such an inconsistency, the user should be warned, and the <strong><code>positive</code></strong> attribute should be used to determine the sign convention.</p>
</div>
<div class="paragraph">
<p>Recommendations:  The <strong><code>positive</code></strong> attribute should be consistent with the sign convention implied by the definition of the <strong><code>standard_name</code></strong>, if both are provided.</p>
</div>
<div class="sect3">
<h4 id="_dimensional_vertical_coordinate"><a class="anchor" href="#_dimensional_vertical_coordinate"></a>4.3.1. Dimensional Vertical Coordinate</h4>
<div class="paragraph">
<p>Variables representing dimensional vertical coordinates for or height must always explicitly include the  <strong><code>units</code></strong> attribute.
The acceptable units for a vertical (depth or height) coordinate variable must a UDUNITS <a href="#UDUNITS">[UDUNITS]</a> representation of one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>units of pressure.
For vertical axes the most commonly used of these include <strong><code>bar</code></strong>, <strong><code>millibar</code></strong>, <strong><code>decibar</code></strong>, <strong><code>atmosphere (atm)</code></strong>, <strong><code>pascal (Pa)</code></strong>, and <strong><code>hPa</code></strong>.</p>
</li>
<li>
<p>units of length.
For vertical axes the most commonly used of these include <strong><code>meter (metre, m)</code></strong>, and <strong><code>kilometer (km)</code></strong>.</p>
</li>
<li>
<p>other units that may under certain circumstances reference vertical position such as units of density or temperature.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Plural forms are also acceptable.</p>
</div>
</div>
<div class="sect3">
<h4 id="dimensionless-vertical-coordinate"><a class="anchor" href="#dimensionless-vertical-coordinate"></a>4.3.2. Dimensionless Vertical Coordinate</h4>
<div class="paragraph">
<p>The <strong><code>units</code></strong> attribute is not required for dimensionless coordinates.
For backwards compatibility with COARDS we continue to allow the <strong><code>units</code></strong> attribute to take one of the values: <strong><code>level</code></strong>, <strong><code>layer</code></strong>, or <strong><code>sigma_level</code></strong>.
These values are not recognized by the UDUNITS package, and are considered a deprecated feature in the CF standard.</p>
</div>
</div>
<div class="sect3">
<h4 id="parametric-vertical-coordinate"><a class="anchor" href="#parametric-vertical-coordinate"></a>4.3.3. Parametric Vertical Coordinate</h4>
<div class="paragraph">
<p>In some cases dimensional vertical coordinates are a function of horizontal location as well as parameters which depend on vertical location, and therefore cannot be stored in the one-dimensional vertical coordinate variable, which is in most of these cases is dimensionless.
The <code>standard_name</code> of the parametric (usually dimensionless) vertical coordinate variable can be used to find the definition of the associated computed (always dimensional) vertical coordinate in <a href="#parametric-v-coord">Appendix D, Parametric Vertical Coordinates</a>.
The definition provides a mapping between the parametric vertical coordinate values and computed values that can positively and uniquely indicate the location of the data.
The <code>formula_terms</code> attribute can be used to associate terms in the definitions with variables in a netCDF file, and the <code>computed_standard_name</code> attribute can be used to supply the <code>standard_name</code> of the computed vertical coordinate values computed according to the definition.
To maintain backwards compatibility with COARDS the use of these attributes is not required, but is strongly recommended.
Some of the definitions may be supplemented with information stored in the <code>grid_mapping</code> variable about the datum used as a vertical reference (e.g. geoid, other geopotential datum or reference ellipsoid; see <a href="#grid-mappings-and-projections">Section 5.6, "Horizontal Coordinate Reference Systems, Grid Mappings, and Projections"</a> and <a href="#appendix-grid-mappings">Appendix F, Grid Mappings</a>).</p>
</div>
<div id="atm-sigma-coord-ex" class="exampleblock">
<div class="title">Example 4.3. Atmosphere sigma coordinate</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>float lev(lev) ;
  lev:long_name = "sigma at layer midpoints" ;
  lev:positive = "down" ;
  lev:standard_name = "atmosphere_sigma_coordinate" ;
  lev:formula_terms = "sigma: lev ps: PS ptop: PTOP" ;
  lev:computed_standard_name = "air_pressure" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In this example the <strong><code>standard_name</code></strong> value <strong><code>atmosphere_sigma_coordinate</code></strong> identifies the following definition from <a href="#parametric-v-coord">Appendix D, Parametric Vertical Coordinates</a> which specifies how to compute pressure at gridpoint <strong><code>(n,k,j,i)</code></strong> where <strong><code>j</code></strong> and <strong><code>i</code></strong> are horizontal indices, <strong><code>k</code></strong> is a vertical index, and <strong><code>n</code></strong> is a time index:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>p(n,k,j,i) = ptop + sigma(k)*(ps(n,j,i)-ptop)</pre>
</div>
</div>
<div class="paragraph">
<p>The <strong><code>formula_terms</code></strong> attribute associates the variable <strong><code>lev</code></strong> with the term <strong><code>sigma</code></strong>, the variable <strong><code>PS</code></strong> with the term <strong><code>ps</code></strong>, and the variable <strong><code>PTOP</code></strong> with the term <strong><code>ptop</code></strong>.
Thus the pressure at gridpoint <strong><code>(n,k,j,i)</code></strong> would be calculated by</p>
</div>
<div class="listingblock">
<div class="content">
<pre>p(n,k,j,i) = PTOP + lev(k)*(PS(n,j,i)-PTOP)</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>computed_standard_name</code> attribute indicates that the values in variable
<code>p</code> would have a <code>standard_name</code> of <code>air_pressure</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="time-coordinate"><a class="anchor" href="#time-coordinate"></a>4.4. Time Coordinate</h3>
<div class="paragraph">
<p>Variables representing reference time must always explicitly include the <strong><code>units</code></strong> attribute; there is no default value.
The <strong><code>units</code></strong> attribute takes a string value that follows the formatting requirements of the <a href="#UDUNITS">[UDUNITS]</a> package. These requirements can best be described by an example with explanatory comments:</p>
</div>
<div class="paragraph">
<p>The time unit specification <strong><code>seconds since 1992-10-8 15:15:42.5 -6:00</code></strong> indicates seconds since October 8th, 1992  at  3 hours,  15 minutes  and  42.5 seconds in the afternoon in the time zone which is six hours to the west of Coordinated Universal Time (i.e.  Mountain Daylight Time).
The time zone specification can also be written without a colon using one or two digits (indicating hours) or three or four digits (indicating hours and minutes).</p>
</div>
<div class="paragraph">
<p>The acceptable units for time are given by the UDUNITS package.
The most commonly used of these strings (and their abbreviations) includes <strong><code>day</code></strong> (<strong><code>d</code></strong>), <strong><code>hour</code></strong> (<strong><code>hr</code></strong>, <strong><code>h</code></strong>), <strong><code>minute</code></strong> (<strong><code>min</code></strong>) and <strong><code>second</code></strong> (<strong><code>sec</code></strong>, <strong><code>s</code></strong>).
Plural forms are also acceptable.</p>
</div>
<div class="paragraph">
<p>UDUNITS permits a number of alternatives to the word <strong><code>since</code></strong> in the units of time coordinates. All the alternatives have exactly the same meaning in UDUNITS. For compatibility with other software, CF strongly recommends that <code>since</code> should be used.</p>
</div>
<div class="paragraph">
<p>The reference date/time string (appearing after the identifier <strong><code>since</code></strong>) is required.
It may include date alone, or date and time, or date, time and time zone.
If the time zone is omitted the default is UTC, and if both time and time zone are omitted the default is 00:00:00 UTC.</p>
</div>
<div class="paragraph">
<p>UDUNITS defines a <strong><code>year</code></strong> to be exactly 365.242198781 days (the interval between 2 successive passages of the sun through vernal equinox).
<em>It is not a calendar year.</em> UDUNITS defines a  <strong><code>month</code></strong> to be exactly <strong><code>year/12</code></strong>, which is <em>not a calendar month</em>.
The CF standard follows UDUNITS in the definition of units, but we recommend that <strong><code>year</code></strong> and <strong><code>month</code></strong> should not be used, because of the potential for mistakes and confusion.</p>
</div>
<div id="time-axis-ex" class="exampleblock">
<div class="title">Example 4.4. Time axis</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>double time(time) ;
  time:long_name = "time" ;
  time:units = "days since 1990-1-1 0:0:0" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>A reference time coordinate is identifiable from its units string alone.</p>
</div>
<div class="paragraph">
<p>Optionally, the time coordinate may be indicated additionally by providing the <strong><code>standard_name</code></strong> attribute with an appropriate value, and/or the <strong><code>axis</code></strong> attribute with the value <strong><code>T</code></strong>.</p>
</div>
<div class="sect3">
<h4 id="calendar"><a class="anchor" href="#calendar"></a>4.4.1. Calendar</h4>
<div class="paragraph">
<p>A date/time is the set of numbers which together identify an instant of time, namely its year, month, day, hour, minute and second, where the second may have a fraction but the others are all integer.
A time coordinate value represents a date/time.
In order to calculate a time coordinate value from a date/time, or the reverse, one must know the <strong><code>units</code></strong> attribute of the time coordinate variable (containing the time unit of the coordinate values and the reference date/time) and the calendar.
The choice of calendar defines the set of dates (year-month-day combinations) which are permitted, and therefore it specifies the number of days between the times of <strong><code>0:0:0</code></strong> (midnight) on any two dates.
Date/times which are not permitted in a given calendar are prohibited in both the encoded time coordinate values, and in the reference date/time string.
It is recommended that the calendar be specified by the <strong><code>calendar</code></strong> attribute of the time coordinate variable.</p>
</div>
<div class="paragraph">
<p>When a time coordinate value is calculated from a date/time, or the reverse, it is assumed that the coordinate value increases by exactly 60 seconds from the start of any minute (identified by year, month, day, hour, minute, all being integers) to the start of the next minute, with no leap seconds, in all CF calendars.
This assumption has various consequences when real-world date/times from calendars which do contain leap seconds (such as UTC) are stored in time coordinate variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Any date/times between the end of the 60th second of the last minute of one hour and the start of the first second of the next hour cannot be represented by time coordinates e.g. <strong><code>2016-12-31 23:59:60.5</code></strong> cannot be represented.</p>
</li>
<li>
<p>A time coordinate value must not be interpreted as representing a date/time in the excluded range.
For instance, <strong><code>60 seconds after 23:59</code></strong> means <strong><code>00:00</code></strong> on the next day.</p>
</li>
<li>
<p>A date/time in the excluded range must not be used as a reference date/time e.g. <strong><code>seconds since 2016-12-31 23:59:60</code></strong> is not a permitted value for <strong><code>units</code></strong>.</p>
</li>
<li>
<p>It is important to realise that a time coordinate value does not necessarily exactly equal the actual length of the interval of time between the reference date/time and the date/time it represents.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The values currently defined for <strong><code>calendar</code></strong> are listed below.
In all calendars except <strong><code>360_day</code></strong> and <strong><code>none</code></strong>, the lengths of the months are the same as in the Gregorian calendar for leap years and non-leap years.
In the <strong><code>julian</code></strong> and the default <strong><code>standard</code></strong> mixed Gregorian/Julian calendar, dates in years before year 0 (i.e. before 0-1-1 0:0:0) are not allowed, and the year in the reference date/time of the units must not be negative.
In these calendars, year zero has a special use to indicate a climatology (see <a href="#climatological-statistics">Section 7.4, "Climatological Statistics"</a>), but this use of year zero is deprecated.
In other calendars, years before year 1 are allowed.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>standard</code></strong></dt>
<dd>
<p>Mixed Gregorian/Julian calendar as defined by UDUNITS.
This is the default.
A deprecated alternative name for this calendar is <strong><code>gregorian</code></strong>.
In this calendar, date/times after (and including) 1582-10-15 0:0:0 are in the Gregorian calendar, in which a year is a leap year if either (i) it is divisible by 4 but not by 100 or (ii) it is divisible by 400.
Date/times before (and excluding) 1582-10-5 0:0:0 are in the Julian calendar.
Year 1 AD or CE in the <strong><code>standard</code></strong> calendar is also year 1 of the <strong><code>julian</code></strong> calendar.
In the <strong><code>standard</code></strong> calendar, 1582-10-15 0:0:0 is exactly 1 day later than 1582-10-4 0:0:0 and the intervening dates are undefined.
Therefore it is recommended that date/times in the range from (and including) 1582-10-5 0:0:0 until (but excluding) 1582-10-15 0:0:0 should not be used as reference in <strong><code>units</code></strong>, and that a time coordinate variable should not include any date/times in this range, because their interpretation is unclear.
It is also recommended that a reference date/time before the discontinuity should not be used for date/times after the discontinuity, and vice-versa.</p>
</dd>
<dt class="hdlist1"><strong><code>proleptic_gregorian</code></strong></dt>
<dd>
<p>A calendar with the Gregorian rules for leap-years extended to dates before 1582-10-15.
All dates consistent with these rules are allowed, both before and after 1582-10-15 0:0:0.</p>
</dd>
<dt class="hdlist1"><strong><code>julian</code></strong></dt>
<dd>
<p>Julian calendar, in which a year is a leap year if it is divisible by 4, even if it is also divisible by 100.</p>
</dd>
<dt class="hdlist1"><strong><code>noleap</code></strong> or <strong><code>365_day</code></strong></dt>
<dd>
<p>A calendar with no leap years, i.e., all years are 365 days long.</p>
</dd>
<dt class="hdlist1"><strong><code>all_leap</code></strong> or <strong><code>366_day</code></strong></dt>
<dd>
<p>A calendar in which every year is a leap year, i.e., all years are 366 days long.</p>
</dd>
<dt class="hdlist1"><strong><code>360_day</code></strong></dt>
<dd>
<p>A calendar in which all years are 360 days, and divided into 30 day months.</p>
</dd>
<dt class="hdlist1"><strong><code>none</code></strong></dt>
<dd>
<p>No calendar.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <strong><code>calendar</code></strong> attribute may be set to <strong><code>none</code></strong> in climate experiments that simulate a fixed time of year.
The time of year is indicated by the date in the reference time of the <strong><code>units</code></strong> attribute.
The time coordinates that might apply in a perpetual July experiment are given in the following example.</p>
</div>
<div id="perpetual-time-axis-ex" class="exampleblock">
<div class="title">Example 4.5. Perpetual time axis</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>variables:
  double time(time) ;
    time:long_name = "time" ;
    time:units = "days since 1-7-15 0:0:0" ;
    time:calendar = "none" ;
data:
  time = 0., 1., 2., ...;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Here, all days simulate the conditions of 15th July, so it does not make sense to give them different dates.
The time coordinates are interpreted as 0, 1, 2, etc. days since the start of the experiment.</p>
</div>
<div class="paragraph">
<p>If none of the calendars defined above applies (e.g., calendars appropriate to a different paleoclimate era), a non-standard calendar can be defined.
The lengths of each month are explicitly defined with the <strong><code>month_lengths</code></strong> attribute of the time axis:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>month_lengths</code></strong></dt>
<dd>
<p>A vector of size 12, specifying the number of days in the months from January to December (in a non-leap year).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If leap years are included, then two other attributes of the time axis should also be defined:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong><code>leap_year</code></strong></dt>
<dd>
<p>An example of a leap year.
It is assumed that all years that differ from this year by a multiple of four are also leap years.
If this attribute is absent, it is assumed there are no leap years.</p>
</dd>
<dt class="hdlist1"><strong><code>leap_month</code></strong></dt>
<dd>
<p>A value in the range 1-12, specifying which month is lengthened by a day in leap years (1=January).
If this attribute is not present, February (2) is assumed.
This attribute is ignored if <strong><code>leap_year</code></strong> is not specified.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <strong><code>calendar</code></strong> attribute is not required when a non-standard calendar is being used.
It is sufficient to define the calendar using the <strong><code>month_lengths</code></strong> attribute, along with <strong><code>leap_year</code></strong>, and <strong><code>leap_month</code></strong> as appropriate.
However, the <strong><code>calendar</code></strong> attribute is allowed to take non-standard values and in that case defining the non-standard calendar using the appropriate attributes is required.</p>
</div>
<div id="paleoclimate-time-axis-ex" class="exampleblock">
<div class="title">Example 4.6. Paleoclimate time axis</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>double time(time) ;
  time:long_name = "time" ;
  time:units = "days since 1-1-1 0:0:0" ;
  time:calendar = "126 kyr B.P." ;
  time:month_lengths = 34, 31, 32, 30, 29, 27, 28, 28, 28, 32, 32, 34 ;</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="discrete-axis"><a class="anchor" href="#discrete-axis"></a>4.5. Discrete Axis</h3>
<div class="paragraph">
<p>The spatiotemporal coordinates described in sections 4.1-4.4 are continuous variables, and other geophysical quantities may likewise serve as continuous coordinate variables, for instance density, temperature or radiation wavelength.
By contrast, for some purposes there is a need for an axis of a data variable which indicates either an ordered list or an unordered collection, and does not correspond to any continuous coordinate variable.
Consequently such an axis may be called &#8220;discrete&#8221;.
A discrete axis has a dimension but might not have a coordinate variable.
Instead, there might be one or more auxiliary coordinate variables with this dimension (see preamble to section 5).
Following sections define various applications of discrete axes, for instance section 6.1.1 &#8220;Geographical regions&#8221;, section 7.3.3 &#8220;Statistics applying to portions of cells&#8221;, section 9.3 &#8220;Representation of collections of features in data variables&#8221;.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coordinate-system"><a class="anchor" href="#coordinate-system"></a>5. Coordinate Systems and Domain</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A data variable&#8217;s dimensions are used to locate data values in time and space or as a function of other independent variables.
This is accomplished by associating these dimensions with the relevant set of latitude, longitude, vertical, time and any non-spatiotemporal coordinates.
This section presents two methods for making that association: the use of <em>coordinate variables</em>, and the use of <em>auxiliary coordinate variables</em>.</p>
</div>
<div class="paragraph">
<p>Any of a variable&#8217;s dimensions that is an independently varying latitude, longitude, vertical, or time dimension (see <a href="#terminology">Section 1.3, "Terminology"</a>) and that has a size greater than one must have a corresponding coordinate variable, i.e., a one-dimensional variable with the same name as the dimension (see examples in <a href="#coordinate-types">Chapter 4, Coordinate Types</a>).
This is the only method of associating dimensions with coordinates that is supported by <a href="#COARDS">[COARDS]</a>.</p>
</div>
<div class="paragraph">
<p>Any longitude, latitude, vertical or time coordinate which depends on more than one spatiotemporal dimension must be identified by the <strong><code>coordinates</code></strong> attribute of the data variable.
The value of the <strong><code>coordinates</code></strong> attribute is <em>a blank separated list of the names of auxiliary coordinate variables</em>.
There is no restriction on the order in which the auxiliary coordinate variables appear in the <strong><code>coordinates</code></strong> attribute string.
The dimensions of an auxiliary coordinate variable must be a subset of the dimensions of the variable with which the coordinate is associated, with three exceptions.
First, string-valued coordinates (<a href="#labels">Section 6.1, "Labels"</a>) will have a dimension for maximum string length if the coordinate variable has a type of <strong><code>char</code></strong> rather than a type of <strong><code>string</code></strong>.
Second, if an auxiliary coordinate variable of a data variable that has been compressed by gathering (<a href="#compression-by-gathering">Section 8.2, "Lossless Compression by Gathering"</a>) does not span the compressed dimension, then its dimensions may be any subset of the data variable&#8217;s uncompressed dimensions, i.e. any of the dimensions of the data variable except the compressed dimension, and any of the dimensions listed by the <strong><code>compress</code></strong> attribute of the compressed coordinate variable.
Third, in the ragged array representations of data (<a href="#discrete-sampling-geometries">Chapter 9, Discrete Sampling Geometries</a>), special methods are needed to connect the data and coordinates.</p>
</div>
<div class="paragraph">
<p>We recommend that the name of a multidimensional coordinate variable should not match the name of any of its dimensions because that precludes supplying a coordinate variable for the dimension.
This practice also avoids potential bugs in applications that determine coordinate variables by only checking for a name match between a dimension and a variable and not checking that the variable is one dimensional.</p>
</div>
<div class="paragraph">
<p>If the longitude, latitude, vertical or time coordinate is multi-valued, varies in only one dimension, and varies independently of other spatiotemporal coordinates, it is not permitted to store it as an auxiliary coordinate variable.
This is both to enhance conformance to COARDS and to facilitate the use of generic applications that recognize the NUG convention for coordinate variables.
An application that is trying to find the latitude coordinate of a variable should always look first to see if any of the variable&#8217;s dimensions correspond to a latitude coordinate variable.
If the latitude coordinate is not found this way, then the auxiliary coordinate variables listed by the <strong><code>coordinates</code></strong> attribute should be checked.
Note that it is permissible, but optional, to list coordinate variables as well as auxiliary coordinate variables in the <strong><code>coordinates</code></strong> attribute.
If the longitude, latitude, vertical or time coordinate is single-valued, it may be stored either as a coordinate variable with a dimension of size one, or as a scalar coordinate variable (<a href="#scalar-coordinate-variables">Section 5.7, "Scalar Coordinate Variables"</a>).</p>
</div>
<div class="paragraph">
<p>If an <strong><code>axis</code></strong> attribute is attached to an auxiliary coordinate variable, it can be used by applications in the same way the <strong><code>axis</code></strong> attribute attached to a coordinate variable is used.
However, it is not permissible for a data variable to have both a coordinate variable and an auxiliary coordinate variable, or more than one of either type of variable, having an <strong><code>axis</code></strong> attribute with any given value e.g. there must be no more than one <strong><code>axis</code></strong> attribute for <strong><code>X</code></strong> for any data variable.
Note that if the <strong><code>axis</code></strong> attribute is not specified for an auxiliary coordinate variable, it may still be possible to determine if it is a spatiotemporal dimension from its own units or standard_name, or from the units and standard_name of the coordinate variable corresponding to its dimensions (see <a href="#coordinate-types">Chapter 4, Coordinate Types</a>).
For instance, auxiliary coordinate variables which lie on the horizontal surface can be identified as such by their dimensions being horizontal.
Horizontal dimensions are those whose coordinate variables have an <strong><code>axis</code></strong> attribute of <strong><code>X</code></strong> or <strong><code>Y</code></strong>, or a <strong><code>units</code></strong> attribute indicating latitude and longitude.</p>
</div>
<div class="paragraph">
<p>To geo-reference data horizontally with respect to the Earth, a <em>grid mapping variable</em> may be provided by the data variable, using the <strong><code>grid_mapping</code></strong> attribute.
If the coordinate variables for a horizontal grid are not longitude and latitude, then a grid_mapping variable provides the information required to derive longitude and latitude values for each grid location.
If no <em>grid mapping variable</em> is referenced by a data variable, then longitude and latitude coordinate values shall be supplied <em>in addition</em> to the required coordinates.
For example, the Cartesian coordinates of a map projection may be supplied as coordinate variables and, in addition, two-dimensional latitude and longitude variables may be supplied via the <strong><code>coordinates</code></strong> attribute on a data variable.
The use of the <strong><code>axis</code></strong> attribute with values <strong><code>X</code></strong> and <strong><code>Y</code></strong> is recommended for the coordinate variables (see <a href="#coordinate-types">Chapter 4, Coordinate Types</a>).</p>
</div>
<div class="paragraph">
<p>It is sometimes not practical to specify the latitude-longitude location of data which is representative of geographic regions with complex boundaries.
For this purpose, provision is made in <a href="#geographic-regions">Section 6.1.1, "Geographic Regions"</a> for indicating the region by a standardized name.</p>
</div>
<div class="sect2">
<h3 id="_independent_latitude_longitude_vertical_and_time_axes"><a class="anchor" href="#_independent_latitude_longitude_vertical_and_time_axes"></a>5.1. Independent Latitude, Longitude, Vertical, and Time Axes</h3>
<div class="paragraph">
<p>When each of a variable&#8217;s spatiotemporal dimensions is a latitude, longitude, vertical, or time dimension, then each axis is identified by a coordinate variable.</p>
</div>
<div id="independent-coordinate-variables-ex" class="exampleblock">
<div class="title">Example 5.1. Independent coordinate variables</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat = 18 ;
  lon = 36 ;
  pres = 15 ;
  time = 4 ;
variables:
  float xwind(time,pres,lat,lon) ;
    xwind:long_name = "zonal wind" ;
    xwind:units = "m/s" ;
  float lon(lon) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
  float lat(lat) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;
  float pres(pres) ;
    pres:long_name = "pressure" ;
    pres:units = "hPa" ;
  double time(time) ;
    time:long_name = "time" ;
    time:units = "days since 1990-1-1 0:0:0" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><strong><code>xwind(n,k,j,i)</code></strong> is associated with the coordinate values <strong><code>lon(i)</code></strong>, <strong><code>lat(j)</code></strong>, <strong><code>pres(k)</code></strong>, and <strong><code>time(n)</code></strong>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_two_dimensional_latitude_longitude_coordinate_variables"><a class="anchor" href="#_two_dimensional_latitude_longitude_coordinate_variables"></a>5.2. Two-Dimensional Latitude, Longitude, Coordinate Variables</h3>
<div class="paragraph">
<p>The latitude and longitude coordinates of a horizontal grid that was not defined as a Cartesian product of latitude and longitude axes, can sometimes be represented using two-dimensional coordinate variables.
These variables are identified as coordinates by use of the <strong><code>coordinates</code></strong> attribute.</p>
</div>
<div id="two-dimensional-coordinate-variables-ex" class="exampleblock">
<div class="title">Example 5.2. Two-dimensional coordinate variables</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  xc = 128 ;
  yc = 64 ;
  lev = 18 ;
variables:
  float T(lev,yc,xc) ;
    T:long_name = "temperature" ;
    T:units = "K" ;
    T:coordinates = "lon lat" ;
  float xc(xc) ;
    xc:axis = "X" ;
    xc:long_name = "x-coordinate in Cartesian system" ;
    xc:units = "m" ;
  float yc(yc) ;
    yc:axis = "Y" ;
    yc:long_name = "y-coordinate in Cartesian system" ;
    yc:units = "m" ;
  float lev(lev) ;
    lev:long_name = "pressure level" ;
    lev:units = "hPa" ;
  float lon(yc,xc) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
  float lat(yc,xc) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><strong><code>T(k,j,i)</code></strong> is associated with the coordinate values <strong><code>lon(j,i)</code></strong>, <strong><code>lat(j,i)</code></strong>, and <strong><code>lev(k)</code></strong>.
The vertical coordinate is represented by the coordinate variable <strong><code>lev(lev)</code></strong> and the latitude and longitude coordinates are represented by the auxiliary coordinate variables <strong><code>lat(yc,xc)</code></strong> and <strong><code>lon(yc,xc)</code></strong> which are identified by the <strong><code>coordinates</code></strong> attribute.</p>
</div>
<div class="paragraph">
<p>Note that coordinate variables are also defined for the <strong><code>xc</code></strong> and <strong><code>yc</code></strong> dimensions.
This faciliates processing of this data by generic applications that don&#8217;t recognize the multidimensional latitude and longitude coordinates.</p>
</div>
</div>
<div class="sect2">
<h3 id="reduced-horizontal-grid"><a class="anchor" href="#reduced-horizontal-grid"></a>5.3. Reduced Horizontal Grid</h3>
<div class="paragraph">
<p>A "reduced" longitude-latitude grid is one in which the points are arranged along constant latitude lines with the number of points on a latitude line decreasing toward the poles.
Storing this type of gridded data in two-dimensional arrays wastes space, and results in the presence of missing values in the 2D coordinate variables.
We recommend that this type of gridded data be stored using the compression scheme described in <a href="#compression-by-gathering">Section 8.2, "Lossless Compression by Gathering"</a>.
Compression by gathering preserves structure by storing a set of indices that allows an application to easily scatter the compressed data back to two-dimensional arrays.
The compressed latitude and longitude auxiliary coordinate variables are identified by the <strong><code>coordinates</code></strong> attribute.</p>
</div>
<div id="reduced-horizontal-grid-ex" class="exampleblock">
<div class="title">Example 5.3. Reduced horizontal grid</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  londim = 128 ;
  latdim = 64 ;
  rgrid = 6144 ;
variables:
  float PS(rgrid) ;
    PS:long_name = "surface pressure" ;
    PS:units = "Pa" ;
    PS:coordinates = "lon lat" ;
  float lon(rgrid) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
  float lat(rgrid) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;
  int rgrid(rgrid);
    rgrid:compress = "latdim londim";</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p><strong><code>PS(n)</code></strong> is associated with the coordinate values <strong><code>lon(n)</code></strong>, <strong><code>lat(n)</code></strong>.
Compressed grid index <strong><code>(n)</code></strong> would be assigned to 2D index <strong><code>(j,i)</code></strong> (C index conventions) where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>j = rgrid(n) / 128
i = rgrid(n) - 128*j</pre>
</div>
</div>
<div class="paragraph">
<p>Notice that even if an application does not recognize the <strong><code>compress</code></strong> attribute, the grids stored in this format can still be handled, by an application that recognizes the <strong><code>coordinates</code></strong> attribute.</p>
</div>
</div>
<div class="sect2">
<h3 id="_timeseries_of_station_data"><a class="anchor" href="#_timeseries_of_station_data"></a>5.4. Timeseries of Station Data</h3>
<div class="paragraph">
<p><em>This section has been superseded by the treatment of time series as a type of discrete sampling geometry in Chapter 9.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_trajectories"><a class="anchor" href="#_trajectories"></a>5.5. Trajectories</h3>
<div class="paragraph">
<p><em>This section has been superseded by the treatment of time series as a type of discrete sampling geometry in Chapter 9.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="grid-mappings-and-projections"><a class="anchor" href="#grid-mappings-and-projections"></a>5.6. Horizontal Coordinate Reference Systems, Grid Mappings, and Projections</h3>
<div class="paragraph">
<p>A <em>grid mapping variable</em> may be referenced by a data variable  in order to explicitly declare the coordinate reference system (CRS) used for the horizontal spatial coordinate values.
For example, if the horizontal spatial coordinates are latitude and longitude, the grid mapping variable can be used to declare the figure of the earth (WGS84 ellipsoid, sphere, etc.) they are based on.
If the horizontal spatial coordinates are easting and northing in a map projection, the grid mapping variable declares the map projection CRS used and provides the information needed to calculate latitude and longitude from easting and northing.</p>
</div>
<div class="paragraph">
<p>When the horizontal spatial coordinate variables are not longitude and latitude, it is required that further information is provided to geo-locate the horizontal position.
A <em>grid mapping variable</em> provides this information.</p>
</div>
<div class="paragraph">
<p>If no <em>grid mapping variable</em> is provided and the coordinate variables for a horizontal grid are not longitude and latitude, then it is required that the latitude and longitude coordinates are supplied via the <strong><code>coordinates</code></strong> attribute.
Such coordinates may be provided in addition to the provision of a <em>grid mapping variable</em>, but that is not required.</p>
</div>
<div class="paragraph">
<p>A grid mapping variable provides the description of the mapping via a collection of attached attributes.
It is of arbitrary type since it contains no data.
Its purpose is to act as a container for the attributes that define the mapping.
The one attribute that all grid mapping variables must have is grid_mapping_name, which takes a string value that contains the mapping&#8217;s name.
The other attributes that define a specific mapping depend on the value of grid_mapping_name.
The valid values of grid_mapping_name along with the attributes that provide specific map parameter values are described in <a href="#appendix-grid-mappings">Appendix F, Grid Mappings</a>.</p>
</div>
<div class="paragraph">
<p>The grid mapping variables are associated with the data and coordinate variables by the <strong><code>grid_mapping</code></strong> attribute.
This attribute is attached to data variables so that variables with different mappings may be present in a single file.
The attribute takes a string value with two possible formats.
In the first format, it is a single word, which names a grid mapping variable.
In the second format, it is a blank-separated list of words "&lt;gridMappingVariable&gt;: &lt;coordinatesVariable&gt; [&lt;coordinatesVariable&gt; &#8230;&#8203;] [&lt;gridMappingVariable&gt;: &lt;coordinatesVariable&gt;&#8230;&#8203;]", which identifies one or more grid mapping variables, and with each grid mapping associates one or more coordinatesVariables, i.e. coordinate variables or auxiliary coordinate variables.</p>
</div>
<div class="paragraph">
<p>Where an extended "&lt;gridMappingVariable&gt;: &lt;coordinatesVariable&gt; [&lt;coordinatesVariable&gt;]" entity is defined, then the order of the &lt;coordinatesVariable&gt; references within the definition provides an explicit order for these coordinate value variables, which is used if they are to be combined into individual coordinate tuples.</p>
</div>
<div class="paragraph">
<p>This order is only significant if crs_wkt is also specified within the referenced grid mapping variable.
Explicit 'axis order' is important when the grid_mapping_variable contains an attribute crs_wkt as it is mandated by the OGC CRS-WKT standard that coordinate tuples with correct axis order are provided as part of the reference to a Coordinate Reference System.</p>
</div>
<div class="paragraph">
<p>Using the simple form, where the <strong><code>grid_mapping</code></strong> attribute is only the name of a grid mapping variable, 2D latitude and longitude coordinates for a projected coordinate reference system use the same geographic coordinate reference system (ellipsoid and prime meridian) as the projection is projected from.</p>
</div>
<div class="paragraph">
<p>The <code>grid_mapping</code> variable may identify datums (such as the reference ellipsoid, the geoid or the prime meridian) for horizontal or vertical coordinates.
Therefore a grid mapping variable may be needed when the coordinate variables for a horizontal grid are longitude and latitude.
The <code>grid_mapping_name</code> of <code>latitude_longitude</code> should be used in this case.</p>
</div>
<div class="paragraph">
<p>The expanded form of the <strong><code>grid_mapping attribute</code></strong> is required if one wants to store coordinate information for more than one coordinate reference system.
In this case each coordinate or auxiliary coordinate is defined explicitly with respect to no more than one <strong><code>grid_mapping</code></strong> variable.
This syntax may be used to explicitly link coordinates and grid mapping variables where only one coordinate reference system is used.
In this case, all coordinates and auxiliary coordinates of the data variable not named in the <strong><code>grid_mapping</code></strong> attribute are unrelated to any grid mapping variable.
All coordinate names listed in the <strong><code>grid_mapping</code></strong> attribute must be coordinate variables or auxiliary coordinates of the data variable.</p>
</div>
<div class="paragraph">
<p>In order to make use of a grid mapping to directly calculate latitude and longitude values it is necessary to associate the coordinate variables with the independent variables of the mapping.
This is done by assigning a <strong><code>standard_name</code></strong> to the coordinate variable.
The appropriate values of the <strong><code>standard_name</code></strong> depend on the grid mapping and are given in <a href="#appendix-grid-mappings">Appendix F, Grid Mappings</a>.</p>
</div>
<div id="rotated-pole-grid-ex" class="exampleblock">
<div class="title">Example 5.6. Rotated pole grid</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  rlon = 128 ;
  rlat = 64 ;
  lev = 18 ;
variables:
  float T(lev,rlat,rlon) ;
    T:long_name = "temperature" ;
    T:units = "K" ;
    T:coordinates = "lon lat" ;
    T:grid_mapping = "rotated_pole" ;
  char rotated_pole ;
    rotated_pole:grid_mapping_name = "rotated_latitude_longitude" ;
    rotated_pole:grid_north_pole_latitude = 32.5 ;
    rotated_pole:grid_north_pole_longitude = 170. ;
  float rlon(rlon) ;
    rlon:long_name = "longitude in rotated pole grid" ;
    rlon:units = "degrees" ;
    rlon:standard_name = "grid_longitude";
  float rlat(rlat) ;
    rlat:long_name = "latitude in rotated pole grid" ;
    rlat:units = "degrees" ;
    rlat:standard_name = "grid_latitude";
  float lev(lev) ;
    lev:long_name = "pressure level" ;
    lev:units = "hPa" ;
  float lon(rlat,rlon) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
  float lat(rlat,rlon) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>A CF compliant application can determine that rlon and rlat are longitude and latitude values in the rotated grid by recognizing the standard names <strong><code>grid_longitude</code></strong> and <strong><code>grid_latitude</code></strong>.
Note that the units of the rotated longitude and latitude axes are given as <strong><code>degrees</code></strong>.
This should prevent a COARDS compliant application from mistaking the variables <strong><code>rlon</code></strong> and <strong><code>rlat</code></strong> to be actual longitude and latitude coordinates.
The entries for these names in the standard name table indicate the appropriate sign conventions for the units of <strong><code>degrees</code></strong>.</p>
</div>
<div id="lambert-conformal-projection" class="exampleblock">
<div class="title">Example 5.7. Lambert conformal projection</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  y = 228;
  x = 306;
  time = 41;

variables:
  int Lambert_Conformal;
    Lambert_Conformal:grid_mapping_name = "lambert_conformal_conic";
    Lambert_Conformal:standard_parallel = 25.0;
    Lambert_Conformal:longitude_of_central_meridian = 265.0;
    Lambert_Conformal:latitude_of_projection_origin = 25.0;
  double y(y);
    y:units = "km";
    y:long_name = "y coordinate of projection";
    y:standard_name = "projection_y_coordinate";
  double x(x);
    x:units = "km";
    x:long_name = "x coordinate of projection";
    x:standard_name = "projection_x_coordinate";
  double lat(y, x);
    lat:units = "degrees_north";
    lat:long_name = "latitude coordinate";
    lat:standard_name = "latitude";
  double lon(y, x);
    lon:units = "degrees_east";
    lon:long_name = "longitude coordinate";
    lon:standard_name = "longitude";
  int time(time);
    time:long_name = "forecast time";
    time:units = "hours since 2004-06-23T22:00:00Z";
  float Temperature(time, y, x);
    Temperature:units = "K";
    Temperature:long_name = "Temperature @ surface";
    Temperature:missing_value = 9999.0;
    Temperature:coordinates = "lat lon";
    Temperature:grid_mapping = "Lambert_Conformal";</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>An application can determine that <code>x</code> and <code>y</code> are the projection coordinates by recognizing the standard names <code>projection_x_coordinate</code> and <code>projection_y_coordinate</code>.
The grid mapping variable <code>Lambert_Conformal</code> contains the mapping parameters as attributes, and is associated with the <code>Temperature</code> variable via its <code>grid_mapping</code> attribute.</p>
</div>
<div id="latitude-and-longitude-on-a-spherical-earth" class="exampleblock">
<div class="title">Example 5.8. Latitude and longitude on a spherical Earth</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat = 18 ;
  lon = 36 ;
variables:
  double lat(lat) ;
  double lon(lon) ;
  float temp(lat, lon) ;
    temp:long_name = "temperature" ;
    temp:units = "K" ;
    temp:grid_mapping = "crs" ;
  int crs ;
    crs:grid_mapping_name = "latitude_longitude"
    crs:semi_major_axis = 6371000.0 ;
    crs:inverse_flattening = 0 ;</pre>
</div>
</div>
</div>
</div>
<div id="latitude-and-longitude-on-the-wgs-1984-datum" class="exampleblock">
<div class="title">Example 5.9. Latitude and longitude on the WGS 1984 datum</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat = 18 ;
  lon = 36 ;
variables:
  double lat(lat) ;
  double lon(lon) ;
  float temp(lat, lon) ;
    temp:long_name = "temperature" ;
    temp:units = "K" ;
    temp:grid_mapping = "crs" ;
  int crs ;
    crs:grid_mapping_name = "latitude_longitude";
    crs:longitude_of_prime_meridian = 0.0 ;
    crs:semi_major_axis = 6378137.0 ;
    crs:inverse_flattening = 298.257223563 ;</pre>
</div>
</div>
</div>
</div>
<div id="british-national-grid" class="exampleblock">
<div class="title">Example 5.10. British National Grid</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
    z = 100;
    y = 100000 ;
    x = 100000 ;
  variables:
    double x(x) ;
      x:standard_name = "projection_x_coordinate" ;
      x:long_name = "Easting" ;
      x:units = "m" ;
    double y(y) ;
      y:standard_name = "projection_y_coordinate" ;
      y:long_name = "Northing" ;
      y:units = "m" ;
    double z(z) ;
      z:standard_name = "height_above_reference_ellipsoid" ;
      z:long_name = "height_above_osgb_newlyn_datum_masl" ;
      z:units = "m" ;
    double lat(y, x) ;
      lat:standard_name = "latitude" ;
      lat:units = "degrees_north" ;
    double lon(y, x) ;
      lon:standard_name = "longitude" ;
      lon:units = "degrees_east" ;
    float temp(z, y, x) ;
      temp:standard_name = "air_temperature" ;
      temp:units = "K" ;
      temp:coordinates = "lat lon" ;
      temp:grid_mapping = "crsOSGB: x y crsWGS84: lat lon" ;
    float pres(z, y, x) ;
      pres:standard_name = "air_pressure" ;
      pres:units = "Pa" ;
      pres:coordinates = "lat lon" ;
      pres:grid_mapping = "crsOSGB: x y crsWGS84: lat lon" ;
    int crsOSGB ;
      crsOSGB:grid_mapping_name = "transverse_mercator";
      crsOSGB:semi_major_axis = 6377563.396 ;
      crsOSGB:inverse_flattening = 299.3249646 ;
      crsOSGB:longitude_of_prime_meridian = 0.0 ;
      crsOSGB:latitude_of_projection_origin = 49.0 ;
      crsOSGB:longitude_of_central_meridian = -2.0 ;
      crsOSGB:scale_factor_at_central_meridian = 0.9996012717 ;
      crsOSGB:false_easting = 400000.0 ;
      crsOSGB:false_northing = -100000.0 ;
      crsOSGB:unit = "metre" ;
    int crsWGS84 ;
      crsWGS84:grid_mapping_name = "latitude_longitude";
      crsWGS84:longitude_of_prime_meridian = 0.0 ;
      crsWGS84:semi_major_axis = 6378137.0 ;
      crsWGS84:inverse_flattening = 298.257223563 ;</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="use-of-the-crs-well-known-text-format"><a class="anchor" href="#use-of-the-crs-well-known-text-format"></a>5.6.1. Use of the CRS Well-known Text Format</h4>
<div class="paragraph">
<p>An optional grid mapping attribute called <strong><code>crs_wkt</code></strong> may be used to specify multiple coordinate system properties in so-called <em>well-known text</em> format (usually abbreviated to CRS WKT or OGC WKT).
The CRS WKT format is widely recognised and used within the geoscience software community.
As such it represents a versatile mechanism for encoding information about a variety of coordinate reference system parameters in a highly compact notational form.
The translation of CF coordinate variables to/from OGC Well-Known Text (WKT) format is shown in Examples 5.11 and 5.12 below and described in detail in
<a href="https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements" class="bare">https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements</a>.</p>
</div>
<div class="paragraph">
<p>The <strong><code>crs_wkt</code></strong> attribute should comprise a text string that conforms to the WKT syntax as specified in reference <a href="#OGC_WKT-CRS">[OGC_WKT-CRS]</a>.
If desired the text string may contain embedded newline characters to aid human readability.
However, any such characters are purely cosmetic and do not alter the meaning of the attribute value.
It is envisaged that the value of the <strong><code>crs_wkt</code></strong> attribute typically will be a single line of text, one intended primarily for machine processing.
Other than the requirement to be a valid WKT string, the CF convention does not prescribe the content of the <strong><code>crs_wkt</code></strong> attribute since it will necessarily be context-dependent.</p>
</div>
<div class="paragraph">
<p>Where a <strong><code>crs_wkt</code></strong> attribute is added to a grid_mapping, the extended syntax for the grid_mapping attribute enables the list of variables containing coordinate values being referenced to be explicitly stated and the CRS WKT Axis order to be explicitly defined.
The explicit definition of WKT CRS Axis order is expected by the OGC standards for referencing by coordinates.
Software implementing these standards are likely to expect to receive coordinate value tuples, with the correct coordinate value order, along with the coordinate reference system definition that those coordinate values are defined with respect to.</p>
</div>
<div class="paragraph">
<p>The order of the &lt;coordinatesVariable&gt; references within the grid_mapping attribute definition defines the order of elements within a derived coordinate value tuple.
This enables an application reading the data from a file to construct an array of coordinate value tuples, where each tuple is ordered to match the specification of the coordinate reference system being used whilst the array of tuples is structured according to the netCDF definition.
It is the responsibility of the data producer to ensure that the &lt;coordinatesVariable&gt; list is consistent with the CRS WKT definition of CS AXIS, with the correct number of entries in the correct order (note: this is not a conformance requirement as CF conformance is not dependent on CRS WKT parsing).</p>
</div>
<div class="paragraph">
<p>For example, a file has two coordinate variables, lon and lat, and a grid mapping variable crs with an associated crs_wkt attribute; the WKT definition defines the AXIS order as ["latitude", "longitude"].
The grid_mapping attribute is thus given a value crs:lat lon to define that where coordinate pairs are required, these shall be ordered (lat, lon), to be consistent with the provided crs_wkt string (and not order inverted).
A 2-D array of (lat, lon) tuples can then be explicitly derived from the combination of the lat and lon variables.</p>
</div>
<div class="paragraph">
<p>The <strong><code>crs_wkt</code></strong> attribute is intended to act as a <em>supplement</em> to other single-property CF grid mapping attributes (as described in Appendix F); it is not intended to replace those attributes.
If data producers omit the single-property grid mapping attributes in favour of the <strong><code>crs_wkt</code></strong> attribute, software which cannot interpret <strong><code>crs_wkt</code></strong> will be unable to use the grid_mapping information.
Therefore the CRS should be described as thoroughly as possible with the single-property grid mapping attributes as well as by <strong><code>crs_wkt</code></strong>.</p>
</div>
<div class="paragraph">
<p>In cases where CRS property values can be represented by both a single-property grid mapping attribute and the <strong><code>crs_wkt</code></strong> attribute, the grid mapping should be provided, and if both are provided, the onus is on data producers to ensure that their property values are consistent.
Therefore information from either one (or both) may be read in by the user without needing to check both.
However, if the two values of a given property are different, the CRS information cannot be interpreted accurately and users should inform the provider so the issue can be addressed.
For example, if the semi-major axis length of the ellipsoid defined by the grid mapping attribute <strong><code>semi_major_axis</code></strong> disagrees with the <strong><code>crs_wkt</code></strong> attribute (via the <strong><code>WKT SPHEROID[…​]</code></strong> element), the value of this attribute cannot be interpreted accurately.
Naturally if the two values are equal then no ambiguity arises.</p>
</div>
<div class="paragraph">
<p>Likewise, in those cases where the value of a CRS WKT element should be used consistently across the CF-netCDF community (names of projections and projection parameters, for example) then, the values shown in
<a href="https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements" class="bare">https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements</a>
should be preferred; these are derived from the OGP/EPSG registry of geodetic parameters, which is considered to represent the definitive authority as regards CRS property names and values.</p>
</div>
<div class="paragraph">
<p>Examples 5.11 illustrates how the coordinate system properties specified via the crs grid mapping variable in Example 5.9 might be expressed using a <strong><code>crs_wkt</code></strong> attribute.
Example 5.12 also illustrates the addition of the <strong><code>crs_wkt</code></strong> attribute, but here the attribute is added to the <strong><code>crs</code></strong> variable of a simplified variant of Example 5.10.
For brevity in Example 5.11, only the grid mapping variable and its grid_mapping_name and crs_wkt attributes are included; all other elements are as per the Example 5.9.
Names of projection PARAMETERs follow the spellings used in the EPSG geodetic parameter registry.</p>
</div>
<div class="paragraph">
<p>Example 5.12 illustrates how certain WKT elements - all of which are optional - can be used to specify CRS properties not covered by existing CF grid mapping attributes, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>use of the VERT_DATUM element to specify vertical datum information</p>
</li>
<li>
<p>use of additional PARAMETER elements (albeit not essential ones in this example) to define the location of the false origin of the projection</p>
</li>
<li>
<p>use of AUTHORITY elements to specify object identifier codes assigned by an external authority, OGP/EPSG in this instance</p>
</li>
</ul>
</div>
<div id="latitude-and-longitude-on-the-wgs-1984-datum-in-crs-wkt-format" class="exampleblock">
<div class="title">Example 5.11. Latitude and longitude on the WGS 1984 datum + CRS WKT</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre> ...
  float data(latitude, longitude) ;
    data:grid_mapping = "crs: latitude, longitude" ;
    ...
  int crs ;
    crs:grid_mapping_name = "latitude_longitude";
    crs:longitude_of_prime_meridian = 0.0 ;
    crs:semi_major_axis = 6378137.0 ;
    crs:inverse_flattening = 298.257223563 ;
    crs:crs_wkt =
     GEODCRS["WGS 84",
     DATUM["World Geodetic System 1984",
       ELLIPSOID["WGS 84",6378137,298.257223563,
         LENGTHUNIT["metre",1.0]]],
     PRIMEM["Greenwich",0],
     CS[ellipsoidal,3],
       AXIS["(lat)",north,ANGLEUNIT["degree",0.0174532925199433]],
       AXIS["(lon)",east,ANGLEUNIT["degree",0.0174532925199433]],
       AXIS["ellipsoidal height (h)",up,LENGTHUNIT["metre",1.0]]]
  ...</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Note: To enhance readability of these examples, the WKT value has been split across multiple lines and embedded quotation marks (") left unescaped - in real netCDF files such characters would need to be escaped.
In CDL, within the CRS WKT definition string, newlines would need to be encoded within the string as <code>\n</code> and double quotes as <code>\"</code>.
Also for readability, we have dropped the quotation marks which would delimit the entire crs_wkt string.
This pseudo CDL will not parse directly.</p>
</div>
<div id="british-national-grid-newlyn-datum-in-crs-wkt-format" class="exampleblock">
<div class="title">Example 5.12. British National Grid + Newlyn Datum in CRS WKT format</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat = 648 ;
  lon = 648 ;
  y = 18 ;
  x = 36 ;
variables:
  double x(x) ;
    x:standard_name = "projection_x_coordinate" ;
    x:units = "m" ;
  double y(y) ;
    y:standard_name = "projection_y_coordinate" ;
    y:units = "m" ;
  float temp(y, x) ;
    temp:long_name = "temperature" ;
    temp:units = "K" ;
    temp:coordinates = "lat lon" ;
    temp:grid_mapping = "crs: x y" ;
  int crs ;
    crs:grid_mapping_name = "transverse_mercator" ;
    crs:longitude_of_central_meridian = -2. ;
    crs:false_easting = 400000. ;
    crs:false_northing = -100000. ;
    crs:latitude_of_projection_origin = 49. ;
    crs:scale_factor_at_central_meridian = 0.9996012717 ;
    crs:longitude_of_prime_meridian = 0. ;
    crs:semi_major_axis = 6377563.396 ;
    crs:inverse_flattening = 299.324964600004 ;
    crs:projected_coordinate_system_name = "OSGB 1936 / British National Grid" ;
    crs:geographic_coordinate_system_name = "OSGB 1936" ;
    crs:horizontal_datum_name = "OSGB_1936" ;
    crs:reference_ellipsoid_name = "Airy 1830" ;
    crs:prime_meridian_name = "Greenwich" ;
    crs:towgs84 = 375., -111., 431., 0., 0., 0., 0. ;
    crs:crs_wkt = "COMPOUNDCRS ["OSGB 1936 / British National Grid + ODN",
      PROJCRS ["OSGB 1936 / British National Grid",
        GEODCRS ["OSGB 1936",
          DATUM ["OSGB 1936",
            ELLIPSOID ["Airy 1830", 6377563.396, 299.3249646,
              LENGTHUNIT[“metre”,1.0]],
            TOWGS84[375, -111, 431, 0, 0, 0, 0]
          ],
          PRIMEM ["Greenwich", 0],
          UNIT ["degree", 0.0174532925199433]
        ],
        CONVERSION["OSGB",
        METHOD["Transverse Mercator",
          PARAMETER["False easting", 400000, LENGTHUNIT[“metre”,1.0]],
          PARAMETER["False northing", -100000, LENGTHUNIT[“metre”,1.0]],
          PARAMETER["Longitude of natural origin", -2.0,
            ANGLEUNIT[“degree”,0.0174532925199433]],
          PARAMETER["Latitude of natural origin", 49.0,
            ANGLEUNIT[“degree”,0.0174532925199433]],
          PARAMETER["Longitude of false origin", -7.556,
            ANGLEUNIT[“degree”,0.0174532925199433]],
          PARAMETER["Latitude of false origin", 49.766,
            ANGLEUNIT[“degree”,0.0174532925199433]],
          PARAMETER["Scale factor at natural origin", 0.9996012717, SCALEUNIT[“Unity”,1.0]],
          AUTHORITY["EPSG", "27700"]]
       CS[Cartesian,2],
         AXIS["easting (X)",east],
         AXIS["northing (Y)",north],
         LENGTHUNIT[“metre”, 1.0],
      ],
      VERTCRS ["Newlyn",
        VDATUM ["Ordnance Datum Newlyn", 2005],
        AUTHORITY ["EPSG", "5701"]
        CS[vertical,1],
          AXIS["gravity-related height (H)",up],
          LENGTHUNIT[“metre”,1.0]
      ]
      ]" ;
  ...</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Note: There are unescaped double quotes and newlines and the quotation marks which would delimit the entire crs_wkt string are missing in this example.
This is to enhance readability, but it means that this pseudo CDL will not parse directly.</p>
</div>
<div class="paragraph">
<p>The preceding two example (5.11 and 5.12) may be combined, if the data provider desires to provide explicit latitude and longitude coordinates as well as projection coordinates and to provide CRS WKT referencing for both sets of coordinates.
This is demonstrated in example 5.13</p>
</div>
<div id="british-national-grid-newlyn-datum-with-wgs84-in-crs-wkt-format" class="exampleblock">
<div class="title">Example 5.13. British National Grid + Newlyn Datum + referenced WGS84 Geodetic in CRS WKT format</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>...
  double x(x) ;
    x:standard_name = "projection_x_coordinate" ;
    x:units = "m" ;
  double y(y) ;
    y:standard_name = "projection_y_coordinate" ;
    y:units = "m" ;
  double lat(y, x) ;
    lat_standard_name = "latitude" ;
    lat:units = "degrees_north" ;
  double lon(y, x) ;
    lon_standard_name = "longitude" ;
    lon:units = "degrees_east" ;
  float temp(y, x) ;
    temp:long_name = "temperature" ;
    temp:units = "K" ;
    temp:coordinates = "lat lon" ;
    temp:grid_mapping = "crs_osgb: x y crs_wgs84: latitude longitude" ;
    ...
  int crs_wgs84 ;
    crs_wgs84:grid_mapping_name = "latitude_longitude";
    crs_wgs84:crs_wkt = ...
  int crs_osgb ;
    crs_osgb:grid_mapping_name = "transverse_mercator" ;
    crs_osgb:crs_wkt = ...
  ...</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Note: There are unescaped double quotes and newlines and the quotation marks which would delimit the entire crs_wkt string are missing in this example.
This is to enhance readability, but it means that this pseudo CDL will not parse directly.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="scalar-coordinate-variables"><a class="anchor" href="#scalar-coordinate-variables"></a>5.7. Scalar Coordinate Variables</h3>
<div class="paragraph">
<p>When a variable has an associated coordinate which is single-valued, that coordinate may be represented as a scalar variable (i.e. a data variable which has no netCDF dimensions).
Since there is no associated dimension these scalar coordinate variables should be attached to a data variable via the <strong><code>coordinates</code></strong> attribute.</p>
</div>
<div class="paragraph">
<p>The use of scalar coordinate variables is a convenience feature which avoids adding size one dimensions to variables.
A numeric scalar coordinate variable has the same information content and can be used in the same contexts as a size one numeric coordinate variable.
Similarly, a string-valued scalar coordinate variable has the same meaning and purposes as a size one string-valued auxiliary coordinate variable (<a href="#labels">Section 6.1, "Labels"</a>).
Note however that use of this feature with a latitude, longitude, vertical, or time coordinate will inhibit COARDS conforming applications from recognizing them.</p>
</div>
<div class="paragraph">
<p>Once a name is used for a scalar coordinate variable it can not be used for a 1D coordinate variable.
For this reason we strongly recommend against using a name for a scalar coordinate variable that matches the name of any dimension in the file.</p>
</div>
<div class="paragraph">
<p>If a data variable has two or more scalar coordinate variables, they are regarded as though they were all independent coordinate variables with dimensions of size one.
If two or more single-valued coordinates are not independent, but have related values (this might be the case, for instance, for time and forecast period, or vertical coordinate and model level number, <a href="#alternative-coordinates">Section 6.2, "Alternative Coordinates"</a>), they should be stored as coordinate or auxiliary coordinate variables of the same size one dimension, not as scalar coordinate variables.</p>
</div>
<div id="multiple-forecasts-from-single-analysis" class="exampleblock">
<div class="title">Example 5.14. Multiple forecasts from a single analysis</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat = 180 ;
  lon = 360 ;
  time = UNLIMITED ;
variables:
  double atime
    atime:standard_name = "forecast_reference_time" ;
    atime:units = "hours since 1999-01-01 00:00" ;
  double time(time);
    time:standard_name = "time" ;
    time:units = "hours since 1999-01-01 00:00" ;
  double lon(lon) ;
    lon:long_name = "station longitude";
    lon:units = "degrees_east";
  double lat(lat) ;
    lat:long_name = "station latitude" ;
    lat:units = "degrees_north" ;
  double p500
    p500:long_name = "pressure" ;
    p500:units = "hPa" ;
    p500:positive = "down" ;
  float height(time,lat,lon);
    height:long_name = "geopotential height" ;
    height:standard_name = "geopotential_height" ;
    height:units = "m" ;
    height:coordinates = "atime p500" ;
data:
  time = 6., 12., 18., 24. ;
  atime = 0. ;
  p500 = 500. ;</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In this example both the analysis time and the single pressure level are represented using scalar coordinate variables.
The analysis time is identified by the standard name "forecast_reference_time" while the valid time of the forecast is identified by the standard name "time".</p>
</div>
</div>
<div class="sect2">
<h3 id="domain-variables"><a class="anchor" href="#domain-variables"></a>5.8. Domain Variables</h3>
<div class="paragraph">
<p>A domain describes data locations and cell properties.
It defines cells that span a collection of dimensions with cell coordinates, cell measures, and coordinate reference systems.</p>
</div>
<div class="paragraph">
<p>A data variable defines its domain via its own attributes, but a domain variable provides the description of a domain in the absence of any data values.
The variable should be a scalar (i.e. it has no dimensions) of arbitrary type, and the value of its single element is immaterial.
It acts as a container for the attributes that define the domain.
The purpose of a domain variable is to provide domain information to applications that have no need of data values at the domain&#8217;s locations, thus removing any ambiguity when retrieving a domain from a dataset.
Ancillary variables and cell methods are not part of the domain, because they are only defined in relation to data values.</p>
</div>
<div class="paragraph">
<p>The domain variable supports the same attributes as are allowed on a data variable for describing a domain, with exactly the same meanings and syntaxes, as described in <a href="#attribute-appendix">Appendix A, Attributes</a>.
If an attribute is needed by a particular data variable to describe its domain, then that attribute would also be needed by the equivalent domain variable.</p>
</div>
<div class="paragraph">
<p>The dimensions of the domain must be stored with the <strong><code>dimensions</code></strong> attribute, and the presence of a <strong><code>dimensions</code></strong> attribute will identify the variable as a domain variable.
Therefore the <strong><code>dimensions</code></strong> attribute must not be present on any variables that are to be interpreted as data variables.
It is necessary to list these dimensions, rather than inferring them from the contents of the other attributes, as it can not be guaranteed that the referenced variables span all of the required dimensions (as could be the case for a discrete axis, for instance).
The value of the <strong><code>dimensions</code></strong> attribute is a blank separated list of the dimension names.
There is no restriction on the order in which the dimensions appear in the <strong><code>dimensions</code></strong> attribute string.
If a domain has no named dimensions then the value of the <strong><code>dimensions</code></strong> attribute must be an empty string, as could be the case if the dimensions of the domain are all defined implicitly by scalar coordinate variables.</p>
</div>
<div class="paragraph">
<p>The dimensions listed by the <strong><code>dimensions</code></strong> attribute constrain the dimensions that may be spanned by variables referenced from any of the other attributes, in the same way that the array dimensions perform that role for a data variable.
For instance, all variables named by the <strong><code>cell_measures</code></strong> attribute (<a href="#cell-measures">Section 7.2, "Cell Measures"</a>) of a domain variable must span a subset of zero or more of the dimensions given by the <strong><code>dimensions</code></strong> attribute.</p>
</div>
<div class="paragraph">
<p>It is optional for coordinate variables to be listed by a domain variable&#8217;s <strong><code>coordinates</code></strong> attribute.
Any coordinate variable that shares its name with a dimension given by the <strong><code>dimensions</code></strong> attribute will be considered as part of the domain definition.</p>
</div>
<div class="paragraph">
<p>It is recommended that a domain variable has a <strong><code>long_name</code></strong> attribute to describe its contents.</p>
</div>
<div class="paragraph">
<p>It is recommended that a domain variable does not have any of the attributes marked in <a href="#attribute-appendix">Appendix A, Attributes</a> as applicable to data variables except those which are also marked as applicable to domain variables.</p>
</div>
<div class="paragraph">
<p>Multiple domain variables may exist in a file with, or without, data variables.
Note that the data variable attributes describing its domain can not be replaced by a reference to a domain variable.</p>
</div>
<div id="a-domain-with-independent-coordinate-variables" class="exampleblock">
<div class="title">Example 5.15. A domain with independent coordinate variables.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat = 18 ;
  lon = 36 ;
  pres = 15 ;
  time = 4 ;

variables:
  char domain ;
    domain:dimensions = "time pres lat lon" ;
    domain:long_name = "Domain with independent coordinate variables" ;
  float lon(lon) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
  float lat(lat) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;
  float pres(pres) ;
    pres:long_name = "pressure" ;
    pres:units = "hPa" ;
  double time(time) ;
    time:long_name = "time" ;
    time:units = "days since 1990-1-1 0:0:0" ;</pre>
</div>
</div>
<div class="paragraph">
<p>In this example the data variable <strong><code>xwind</code></strong> from the <a href="#independent-coordinate-variables-ex">Independent coordinate variables</a> example has been replaced by the domain variable <strong><code>domain</code></strong>.</p>
</div>
</div>
</div>
<div id="a-domain-with-a-rotated-pole-grid-and-a-scalar-coordinate-variable" class="exampleblock">
<div class="title">Example 5.16. A domain with a rotated pole grid and a scalar coordinate variable.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  rlon = 128 ;
  rlat = 64 ;
  lev = 18 ;

variables:
  char domain ;
    domain:dimensions = "lev rlat rlon" ;
    domain:coordinates = "lon lat time" ;
    domain:grid_mapping = "rotated_pole" ;
    domain:long_name = "Domain with grid mapping and scalar coordinate" ;
  char rotated_pole ;
    rotated_pole:grid_mapping_name = "rotated_latitude_longitude" ;
    rotated_pole:grid_north_pole_latitude = 32.5 ;
    rotated_pole:grid_north_pole_longitude = 170. ;
  double time
    time:standard_name = "time" ;
    time:units = "days since 2000-12-01 00:00" ;
  float rlon(rlon) ;
    rlon:long_name = "longitude in rotated pole grid" ;
    rlon:units = "degrees" ;
    rlon:standard_name = "grid_longitude" ;
  float rlat(rlat) ;
    rlat:long_name = "latitude in rotated pole grid" ;
    rlat:units = "degrees" ;
    rlat:standard_name = "grid_latitude" ;
  float lev(lev) ;
    lev:long_name = "pressure level" ;
    lev:units = "hPa" ;
  float lon(rlat,rlon) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
  float lat(rlat,rlon) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;</pre>
</div>
</div>
</div>
</div>
<div id="a-domain-containing-cell-areas-for-a-spherical-geodesic-grid" class="exampleblock">
<div class="title">Example 5.17. A domain containing cell areas for a spherical geodesic grid.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  cell = 2562 ;  // number of grid cells
  time = 12 ;
  nv = 6 ;       // maximum number of cell vertices

variables:
  char domain ;
    domain:dimensions = "time cell" ;
    domain:coordinates = "lon lat" ;
    domain:cell_measures = "area: cell_area" ;
    domain:long_name = "Domain with cell measures" ;
  float lon(cell) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
    lon:bounds = "lon_vertices" ;
  float lat(cell) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;
    lat:bounds = "lat_vertices" ;
  float time(time) ;
    time:long_name = "time" ;
    time:units = "days since 1979-01-01" ;
  float cell_area(cell) ;
    cell_area:long_name = "area of grid cell" ;
    cell_area:standard_name = "cell_area" ;
    cell_area:units = "m2"
  float lon_vertices(cell, nv) ;
  float lat_vertices(cell, nv) ;</pre>
</div>
</div>
<div class="paragraph">
<p>In this example the data variable <strong><code>PS</code></strong> from the <a href="#cell-areas-for-a-spherical-geodesic-grid">Cell areas for a spherical geodesic grid</a> example has been replaced by the domain variable <strong><code>domain</code></strong>.</p>
</div>
</div>
</div>
<div id="a-domain-with-no-explicit-dimensions" class="exampleblock">
<div class="title">Example 5.18. A domain with no explicit dimensions.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:

variables:
  char domain ;
    domain:dimensions = "" ;
    domain:coordinates = "t" ;
    domain:long_name = "Domain with no explicit dimensions" ;
  double t ;
    t:standard_name = "time" ;
    t:units = "days since 2021-01-01" ;</pre>
</div>
</div>
</div>
</div>
<div id="a-domain-containing-a-timeseries-geometry" class="exampleblock">
<div class="title">Example 5.19. A domain containing a timeseries geometry.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  instance = 2 ;
  node = 5 ;
  time = 4 ;

variables:
  char domain ;
    domain:dimensions = "instance time" ;
    domain:coordinates = "lat lon" ;
    domain:grid_mapping = "datum" ;
    domain:geometry = "geometry_container" ;
    domain:long_name = "Domain with a geometry variable" ;
  int time(time) ;
  double lat(instance) ;
    lat:units = "degrees_north" ;
    lat:standard_name = "latitude" ;
    lat:nodes = "y" ;
  double lon(instance) ;
    lon:units = "degrees_east" ;
    lon:standard_name = "longitude" ;
    lon:nodes = "x" ;
  int datum ;
    datum:grid_mapping_name = "latitude_longitude" ;
    datum:longitude_of_prime_meridian = 0.0 ;
    datum:semi_major_axis = 6378137.0 ;
    datum:inverse_flattening = 298.257223563 ;
  int geometry_container ;
    geometry_container:geometry_type = "line" ;
    geometry_container:node_count = "node_count" ;
    geometry_container:node_coordinates = "x y" ;
  int node_count(instance) ;
  double x(node) ;
    x:units = "degrees_east" ;
    x:standard_name = "longitude" ;
    x:axis = "X" ;
  double y(node) ;
    y:units = "degrees_north" ;
    y:standard_name = "latitude" ;
    y:axis = "Y" ;</pre>
</div>
</div>
<div class="paragraph">
<p>In this example the data variable <strong><code>someData</code></strong> from the <a href="#timeseries-with-geometry">Timeseries with geometry.</a> example has been replaced by the domain variable <strong><code>domain</code></strong>.</p>
</div>
</div>
</div>
<div id="a-domain-containing-a-timeseries-of-station-data-in-the-indexed-ragged-array-representation" class="exampleblock">
<div class="title">Example 5.20. A domain containing a timeseries of station data in the indexed ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  station = 23 ;
  obs = UNLIMITED ;
  name_strlen = 23 ;

variables:
  char domain ;
    domain:dimensions = "obs" ;
    domain:coordinates = "time lat lon alt station_name" ;
    domain:long_name = "Domain with a discrete sampling geometry" ;
  float lon(station) ;
    lon:standard_name = "longitude" ;
    lon:long_name = "station longitude" ;
    lon:units = "degrees_east" ;
  float lat(station) ;
    lat:standard_name = "latitude" ;
    lat:long_name = "station latitude" ;
    lat:units = "degrees_north" ;
  float alt(station) ;
    alt:long_name = "vertical distance above the surface" ;
    alt:standard_name = "height" ;
    alt:units = "m" ;
    alt:positive = "up" ;
    alt:axis = "Z" ;
  char station_name(station, name_strlen) ;
    station_name:long_name = "station name" ;
    station_name:cf_role = "timeseries_id" ;
  int station_info(station) ;
    station_info:long_name = "some kind of station info" ;
  int stationIndex(obs) ;
    stationIndex:long_name = "which station this obs is for" ;
    stationIndex:instance_dimension = "station" ;
  double time(obs) ;
    time:standard_name = "time" ;
    time:long_name = "time of measurement" ;
    time:units = "days since 1970-01-01 00:00:00" ;

attributes:
    :featureType = "timeSeries" ;</pre>
</div>
</div>
<div class="paragraph">
<p>In this example the data variables <strong><code>humidity</code></strong> and <strong><code>temp</code></strong> from the <a href="#example-h.7">Timeseries of station data in the indexed ragged array representation.</a> example have been replaced by the domain variable <strong><code>domain</code></strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="mesh-topology-variables"><a class="anchor" href="#mesh-topology-variables"></a>5.9. Mesh Topology Variables</h3>
<div class="paragraph">
<p>A <em>mesh topology variable</em> defines the geospatial topology of cells arranged in two or three dimensions in real space but indexed by a single dimension.
It explicitly describes the topological relationships between cells, i.e. spatial relationships which do not depend on the cell locations, via a mesh of connected nodes.
A mesh topology variable may provide the topology for one or more domains, defined at the nodes, edges, or faces of the mesh.
See the <a href="#data-model-domain-topology">Domain topology construct</a> and <a href="#data-model-cell-connectivity">Cell connectivity construct</a> descriptions in the CF data model for more details, including on how the mesh relates to the cells of the domain.</p>
</div>
<div class="paragraph">
<p>The canonical definitions of mesh topology variables and location index set variables are given externally by the UGRID conventions <a href="#UGRID">[UGRID]</a>, but their standardized attributes, many of which are optional, are listed in <a href="#appendix-mesh-topology-attributes">Appendix K, Mesh Topology Attributes</a> and <a href="#attribute-appendix">Appendix A, Attributes</a>.
Some features of the UGRID conventions <a href="#UGRID">[UGRID]</a> are not currently recognized by the CF conventions: mesh topology volume cells (that are used to describe fully three-dimensional unstructured mesh topologies); and the "boundary node connectivity" variable (that specifies an index variable identifying the nodes that define where boundary condtions have been provided).</p>
</div>
<div class="paragraph">
<p>A data or domain variable may use one of a mesh topology variable&#8217;s domains by referencing the mesh topology variable with the <strong><code>mesh</code></strong> attribute; along with the identity of required domain provided by the <strong><code>location</code></strong> attribute (see example <a href="#example-mesh-topology-variable">A two-dimensional UGRID mesh topology variable</a>).</p>
</div>
<div class="paragraph">
<p>The variables containing the coordinate values for cells indexed by the mesh topology are defined by the mesh topology variable but are equivalent to one-dimensional auxiliary coordinate variables, and so may also be provided by the data or domain variable&#8217;s <strong><code>coordinates</code></strong> attribute.
Note that the mesh topology variable allows cell bounds to be provided without any cell coordinate values, via its <em><strong><code>node_coordinates</code></strong></em> attribute.</p>
</div>
<div class="paragraph">
<p>A <em>location index set variable</em> defines a subset of locations of a mesh topology variable, e.g. only special locations like weirs and gates.
It is provided as a space saving device to prevent the need to redefine parts of an existing mesh topology variable, and as such is logically equivalent to a mesh topology variable.
A data or domain variable references a location index set variable via its <strong><code>location_index_set</code></strong> attribute.</p>
</div>
<div id="example-mesh-topology-variable" class="exampleblock">
<div class="title">Example 5.21. A two-dimensional UGRID mesh topology variable</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  node = 5 ;  // Number of mesh nodes
  edge = 6 ;  // Number of mesh edges
  face = 2 ;  // Number of mesh faces
  two = 2 ;   // Number of nodes per edge
  four = 4 ;  // Maximum number of nodes per face
  time = 12 ;

variables:
  // Mesh topology variable
  integer mesh ;
    mesh:cf_role = "mesh_topology" ;
    mesh:long_name = "Topology of a 2-d unstructured mesh" ;
    mesh:topology_dimension = 2 ;
    mesh:node_coordinates = "mesh_node_x mesh_node_y" ;
    mesh:edge_node_connectivity = "mesh_edge_nodes" ;
    mesh:face_node_connectivity = "mesh_face_nodes" ;

  // Mesh node coordinates
  double mesh2_node_x(node) ;
    mesh_node_x:standard_name = "longitude" ;
    mesh_node_x:units = "degrees_east" ;
  double mesh2_node_y(node) ;
    mesh_node_y:standard_name = "latitude" ;
    mesh_node_y:units = "degrees_north" ;

  // Mesh connectivity variables
  integer mesh_face_nodes(face, four) ;
    mesh_face_nodes:long_name = "Maps each face to its 3 or 4 corner nodes" ;
  integer mesh_edge_nodes(edge, two) ;
    mesh_edge_nodes:long_name = "Maps each edge to the 2 nodes it connects" ;

  // Coordinate variables
  float time(time) ;
    time:standard_name = "time" ;
    time:units = "days since 2004-06-01" ;

  // Data at mesh faces
  double volume_at_faces(time, face) ;
    volume_at_faces:standard_name = "air_density" ;
    volume_at_faces:units = "kg m-3" ;
    volume_at_faces:mesh = "mesh" ;
    volume_at_faces:location = "face" ;
  // Data at mesh edges
  double flux_at_edges(time, edge) ;
    fluxe_at_edges:standard_name = "northward_wind" ;
    fluxe_at_edges:units = "m s-1" ;
    fluxe_at_edges:mesh = "mesh"
    fluxe_at_edges:location = "edge" ;
  // Data at mesh nodes
  double height_at_nodes(time, node) ;
    height_at_nodes:standard_name = "sea_surface_height_above_geoid" ;
    height_at_nodes:units = "m" ;
    height_at_nodes:mesh = "mesh" ;
    height_at_nodes:location = "node" ;</pre>
</div>
</div>
<div class="paragraph">
<p>A two-dimensional UGRID mesh topology variable for the mesh depicted in <a href="#figure-mesh-example">Figure I.5</a>, with data variables defined at face, edge and node elements of the mesh. All optional attributes have been omitted.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_labels_and_alternative_coordinates"><a class="anchor" href="#_labels_and_alternative_coordinates"></a>6. Labels and Alternative Coordinates</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="labels"><a class="anchor" href="#labels"></a>6.1. Labels</h3>
<div class="paragraph">
<p>Character strings can be used to provide a name or label for each element of an axis.
This is particularly useful for discrete axes (section 4.5).
For instance, if a data variable contains time series of observational data from a number of observing stations, it may be convenient to provide the names of the stations as labels for the elements of the station dimension (<a href="#time-series-data">Section H.2, "Time Series Data"</a>).
There are several other uses for labels in CF.
For instance, <a href="#northward-heat-transport-in-atlantic-ocean-ex">Northward heat transport in Atlantic Ocean</a> shows the use of labels to indicate geographic regions.</p>
</div>
<div class="paragraph">
<p>Character strings labelling the elements of an axis are regarded as string-valued auxiliary coordinate variables.
The <strong><code>coordinates</code></strong> attribute of the data variable names the variable that contains the string array.
An application processing the variables listed in the <strong><code>coordinates</code></strong> attribute can recognize a string-valued auxiliary coordinate variable because it has a type of <strong><code>char</code></strong> or <strong><code>string</code></strong>.
If the variable has a type of <strong><code>char</code></strong>, the inner dimension (last dimension in CDL terms) is the maximum length of each string, and the other dimensions are axis dimensions.
If an auxiliary coordinate variable has a type of <strong><code>string</code></strong> and has no dimensions, or has a type of <strong><code>char</code></strong> and has only one dimension (the maximum length of the string), it is a string-valued scalar coordinate variable (see <a href="#scalar-coordinate-variables">Section 5.7, "Scalar Coordinate Variables"</a>).
As such, it has the same information content and can be used in the same contexts as a string-valued auxiliary coordinate variable of a size one dimension.
This is a convenience feature.</p>
</div>
<div class="sect3">
<h4 id="geographic-regions"><a class="anchor" href="#geographic-regions"></a>6.1.1. Geographic Regions</h4>
<div class="paragraph">
<p>When data is representative of geographic regions which can be identified by names but which have complex boundaries that cannot practically be specified using longitude and latitude boundary coordinates, a labeled axis should be used to identify the regions.
We recommend that the names be chosen from the list of <a href="https://cfconventions.org/Data/cf-standard-names/docs/standardized-region-names.html">standardized region names</a> whenever possible.
To indicate that the label values are standardized the variable that contains the labels must be given the <strong><code>standard_name</code></strong> attribute with the value <code>region</code>.</p>
</div>
<div id="northward-heat-transport-in-atlantic-ocean-ex" class="exampleblock">
<div class="title">Example 6.1. Northward heat transport in Atlantic Ocean</div>
<div class="content">
<div class="paragraph">
<p>Suppose we have data representing northward heat transport across a set of zonal slices in the Atlantic Ocean.
Note that the standard names to describe this quantity do not include location information.
That is provided by the latitude coordinate and the labeled axis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  times = 20 ;
  lat = 5
  lbl = 1 ;
variables:
  float n_heat_transport(time,lat,lbl);
    n_heat_transport:units="W";
    n_heat_transport:coordinates="geo_region";
    n_heat_transport:standard_name="northward_ocean_heat_transport";
  double time(time) ;
    time:long_name = "time" ;
    time:units = "days since 1990-1-1 0:0:0" ;
  float lat(lat) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;
  string geo_region(lbl) ;
    geo_region:standard_name="region"
data:
  geo_region = "atlantic_ocean" ;
  lat = 10., 20., 30., 40., 50. ;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="taxon-names-and-identifiers"><a class="anchor" href="#taxon-names-and-identifiers"></a>6.1.2. Taxon Names and Identifiers</h4>
<div class="paragraph">
<p>A taxon is a named level within a biological classification, such as a class, genus and species.
Quantities dependent on taxa have generic standard names containing the phrase "organisms_in_taxon", and the taxa are identified by auxiliary coordinate variables.</p>
</div>
<div class="paragraph">
<p>The taxon auxiliary coordinate variables are string-valued.
The plain-language name of the taxon must be contained in a variable with <strong><code>standard_name</code></strong> of <strong><code>biological_taxon_name</code></strong>.
A Life Science Identifier (LSID) may be contained in a variable with <strong><code>standard_name</code></strong> of <strong><code>biological_taxon_lsid</code></strong>.
This is a URN with the syntax "urn:lsid:&lt;Authority&gt;:&lt;Namespace&gt;:&lt;ObjectID&gt;[:&lt;Version&gt;]".
This includes the reference classification in the &lt;Authority&gt; element and these are restricted by the LSID governance.
It is strongly recommended in CF that the authority chosen is World Register of Marine Species (WoRMS) for oceanographic data and Integrated Taxonomic Information System (ITIS) for freshwater and terrestrial data.
WoRMS LSIDs are built from the WoRMS AphiaID  taxon identifier such as "urn:lsid:marinespecies.org:taxname:104464" for AphiaID 104464.
This may be converted to a URL by adding prefixes such as ​https://www.lsid.info/.
ITIS LSIDs are built from the ITIS Taxonomic Serial Number (TSN), such as "urn:lsid:itis.gov:itis_tsn:180543".</p>
</div>
<div class="paragraph">
<p>The <strong><code>biological_taxon_name</code></strong> auxiliary coordinate variable included for human readability is mandatory.
The <strong><code>biological_taxon_lsid</code></strong> auxliary coordinate variable included for software agent readability is optional, but strongly recommended.
If both are present then each <strong><code>biological_taxon_name</code></strong> coordinate must exactly match the name resolved from the <strong><code>biological_taxon_lsid</code></strong> coordinate.
If LSIDs are available for some taxa in a dataset then the <strong><code>biological_taxon_lsid</strong></code> auxiliary coordinate variable should be included and missing data given for those taxa that do not have an identifier.</p>
</div>
<div id="taxa-ex" class="exampleblock">
<div class="title">Example 6.1.2. Taxon names and identifiers</div>
<div class="content">
<div class="paragraph">
<p>A skeleton example for taxonomic abundance time series.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimension:
  time = 100 ;
  string80 = 80 ;
  taxon = 2 ;
variables:
  float time(time);
    time:standard_name = "time" ;
    time:units = "days since 2019-01-01" ;
  float abundance(time,taxon) ;
    abundance:standard_name = "number_concentration_of_biological_taxon_in_sea_water" ;
    abundance:coordinates = "taxon_lsid taxon_name" ;
  char taxon_name(taxon,string80) ;
    taxon_name:standard_name = "biological_taxon_name" ;
  char taxon_lsid(taxon,string80) ;
    taxon_lsid:standard_name = "biological_taxon_lsid" ;
data:
  time = // 100 values ;
  abundance = // 200 values ;
  taxon_name = "Calanus finmarchicus", "Calanus helgolandicus" ;
  taxon_lsid = "urn:lsid:marinespecies.org:taxname:104464", "urn:lsid:marinespecies.org:taxname:104466" ;</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="alternative-coordinates"><a class="anchor" href="#alternative-coordinates"></a>6.2. Alternative Coordinates</h3>
<div class="paragraph">
<p>In some situations a dimension may have alternative sets of coordinates values.
Since there can only be one coordinate variable for the dimension (the variable with the same name as the dimension), any alternative sets of values have to be stored in auxiliary coordinate variables.
For such alternative coordinate variables, there are no mandatory attributes, but they may have any of the attributes allowed for coordinate variables.</p>
</div>
<div id="model-level-numbers-ex" class="exampleblock">
<div class="title">Example 6.2. Model level numbers</div>
<div class="content">
<div class="paragraph">
<p>Levels on a vertical axis may be described by both the physical coordinate and the ordinal model level number.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>float xwind(sigma,lat);
  xwind:coordinates="model_level";
float sigma(sigma); // physical height coordinate
  sigma:long_name="sigma";
  sigma:positive="down";
int model_level(sigma); // model level number at each height
  model_level:long_name="model level number";
  model_level:positive="up";</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_representative_of_cells"><a class="anchor" href="#_data_representative_of_cells"></a>7. Data Representative of Cells</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When gridded data does not represent the point values of a field but instead represents some characteristic of the field within cells of finite "volume," a complete description of the variable should include metadata that describes the domain or extent of each cell, and the characteristic of the field that the cell values represent.
It is possible for a single data value to be the result of an operation whose domain is a disjoint set of cells.
This is true for many types of climatological averages, for example, the mean January temperature for the years 1970-2000.
The methods that we present below for describing cells only provides an association of a grid point with a single cell, not with a collection of cells.
However, climatological statistics are of such importance that we provide special methods for describing their associated computational domains in <a href="#climatological-statistics">Section 7.4, "Climatological Statistics"</a>.
For cases when data pertain to geospatial features with highly variable geometry node counts such as river lines or watershed boundaries, we provide &lt;&lt;geometries&gt; as an alternative to bounds.</p>
</div>
<div class="sect2">
<h3 id="cell-boundaries"><a class="anchor" href="#cell-boundaries"></a>7.1. Cell Boundaries</h3>
<div class="paragraph">
<p>To represent cells we add the attribute <strong><code>bounds</code></strong> to the appropriate coordinate variable(s).
The value of <strong><code>bounds</code></strong> is the name of the variable that contains the vertices of the cell boundaries.
We refer to this type of variable as a "boundary variable."
<em>A boundary variable will have one more dimension than its associated coordinate or auxiliary coordinate variable.</em> The additional dimension should be the most rapidly varying one, and its size is the maximum number of cell vertices.</p>
</div>
<div class="paragraph">
<p>A boundary variable inherits the values of some attributes from its parent coordinate variable.
If a coordinate variable has any of the attributes marked "BI" (for "inherit") in the "Use" column of <a href="#attribute-appendix">Appendix A, Attributes</a>, they are assumed to apply to its bounds variable as well.
It is recommended that BI attributes not be included on a boundary variable.
If a BI attribute is included, it must also be present in the parent variable, and it must exactly match the parent attribute&#8217;s data type and value.
A boundary variable can only have inheritable attributes if they are also present on its parent coordinate variable.
A bounds variable may have any of the attributes marked "BO" for ("own") in the "Use" column of <a href="#attribute-appendix">Appendix A, Attributes</a>.
These attributes take precedence over any corresponding attributes of the parent variable.
In these cases, the parent variable&#8217;s attribute does not apply to the bounds variable, regardless of whether the latter has its own attribute.</p>
</div>
<div class="paragraph">
<p>If a parametric coordinate variable with a <strong><code>formula_terms</code></strong> attribute (section 4.3.2) also has a <strong><code>bounds</code></strong> attribute, its boundary variable must have a <strong><code>formula_terms</code></strong> attribute too.
In this case the same terms would appear in both (as specified in Appendix D), since the transformation from the parametric coordinate values to physical space is realized through the same formula.
For any term that depends on the vertical dimension, however, the variable names appearing in the formula terms would differ from those found in the <strong><code>formula_terms</code></strong> attribute of the coordinate variable itself because the boundary variables for formula terms are two-dimensional while the formula terms themselves are one-dimensional.</p>
</div>
<div class="paragraph">
<p>Whenever a <strong><code>formula_terms</code></strong> attribute is attached to a boundary variable, the formula terms may additionally be identified using a second method: variables appearing in the vertical coordinates' <strong><code>formula_terms</code></strong> may be declared to be coordinate, scalar coordinate or auxiliary coordinate variables, and those coordinates may have <strong><code>bounds</code></strong> attributes that identify their boundary variables.
In that case, the <strong><code>bounds</code></strong> attribute of a formula terms variable must be consistent with the <strong><code>formula_terms</code></strong> attribute of the boundary variable.
Software digesting legacy datasets (constructed prior to version 1.7 of this standard) may have to rely in some cases on the first method of identifying the formula term variables and in other cases, on the second.
Starting from version 1.7, however, the first method will be sufficient.</p>
</div>
<div id="specifying-formula_terms-ex" class="exampleblock">
<div class="title">Example 7.1. Specifying <strong><code>formula_terms</code></strong> when a parametric coordinate variable has bounds.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>float eta(eta) ;
   eta:long_name = "eta at full levels" ;
   eta:positive = "down" ;
   eta:standard_name = " atmosphere_hybrid_sigma_pressure_coordinate" ;
   eta:formula_terms = "a: A b: B ps: PS p0: P0" ;
   eta:bounds="eta_bnds" ;
 float eta_bnds(eta, 2) ;
   eta_bnds:formula_terms = "a: A_bnds b: B_bnds ps: PS p0: P0" ; // This attribute is mandatory
 float A(eta) ;
   A:long_name = "'a' coefficient for vertical coordinate at full levels" ;
   A:units = "Pa" ;
   A:bounds = "A_bnds" ; // This attribute is included for the optional second method
 float B(eta) ;
   B:long_name = "'b' coefficient for vertical coordinate at full levels" ;
   B:units = "1" ;
   B:bounds = "B_bnds" ; // This attribute is included for the optional second method
 float A_bnds(eta, 2) ;
 float B_bnds(eta, 2) ;
 float PS(lat, lon) ;
   PS:units = "Pa" ;
 float P0 ;
   P0:units = "Pa" ;
 float temp(eta, lat, lon) ;
   temp:standard_name = "air_temperature" ;
   temp:units = "K";
   temp:coordinates = "A B" ; // This attribute is included for the optional second method</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Note that the boundary variable for a set of N contiguous intervals is an array of shape (N,2).
Although in this case there will be a duplication of the boundary coordinates between adjacent intervals, this representation has the advantage that it is general enough to handle, without modification, non-contiguous intervals, as well as intervals on an axis using the unlimited dimension.</p>
</div>
<div class="paragraph">
<p>Applications that process cell boundary data often times need to determine whether or not adjacent cells share an edge.
In order to facilitate this type of processing the following restrictions are placed on the data in boundary variables.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Bounds for 1-D coordinate variables</dt>
<dd>
<p>For a coordinate variable such as <strong><code>lat(lat)</code></strong> with associated boundary variable <strong><code>latbnd(x,2)</code></strong>, the interval endpoints must be ordered consistently with the associated coordinate, e.g., for an increasing coordinate, <strong><code>lat(1)</code></strong> &gt; <strong><code>lat(0)</code></strong> implies <strong><code>latbnd(i,1)</code></strong> &gt;= <strong><code>latbnd(i,0)</code></strong> for all <strong><code>i</code></strong> (<a href="#img-bnd_1d_coords">Figure 7.1</a>).</p>
<div class="paragraph">
<p>If adjacent intervals are contiguous, the shared endpoint must be represented indentically in each instance where it occurs in the boundary variable.
For example, if the intervals that contain grid points <strong><code>lat(i)</code></strong> and <strong><code>lat(i+1)</code></strong> are contiguous, then <strong><code>latbnd(i+1,0)</code></strong> = <strong><code>latbnd(i,1)</code></strong>.</p>
</div>
<div id="img-bnd_1d_coords" class="imageblock text-center text-center">
<div class="content">
<img src="images/order_horizontal_bounds__1D_coord_variables.png" alt="order horizontal bounds  1D coord variables" width="50%">
</div>
<div class="title">Figure 7.1. Order of <strong><code>lonbnd(i,0)</code></strong> and <strong><code>lonbnd(i,1)</code></strong> as well as of <strong><code>latbnd(i,0)</code></strong> and <strong><code>latbnd(i,1)</code></strong> in the case of one-dimensional horizontal coordinate axes. Tuples <strong><code>(lon(i),lat(j))</code></strong> represent grid cell centers. The four grid cell vertices are given by <strong><code>(lonbnd(i,0),latbnd(j,0))</code></strong>, <strong><code>(lonbnd(i,1),latbnd(j,0))</code></strong>, <strong><code>(lonbnd(i,1),latbnd(j,1))</code></strong> and <strong><code>(lonbnd(i,0),latbnd(j,1))</code></strong>.</div>
</div>
</dd>
<dt class="hdlist1">Bounds for 2-D coordinate variables with 4-sided cells</dt>
<dd>
<p>In the case where the horizontal grid is described by two-dimensional auxiliary coordinate variables in latitude <strong><code>lat(n,m)</code></strong> and longitude <strong><code>lon(n,m)</code></strong>, and the associated cells are four-sided, then the boundary variables are given in the form <strong><code>latbnd(n,m,4)</code></strong> and <strong><code>lonbnd(n,m,4)</code></strong>, where the trailing index runs over the four vertices of the cells.
Let us call the side of cell <strong><code>(j,i)</code></strong> facing cell <strong><code>(j,i-1)</code></strong> the "<strong><code>i-1</code></strong>" side, the side facing cell <strong><code>(j,i+1)</code></strong> the "<strong><code>i+1</code></strong>" side, and similarly for "<strong><code>j-1</code></strong>" and "<strong><code>j+1</code></strong>".
Then we can refer to the vertex formed by sides <strong><code>i-1</code></strong> and <strong><code>j-1</code></strong> as <strong><code>(j-1,i-1)</code></strong>.
With this notation, the four vertices are indexed as follows: <strong><code>0=(j-1,i-1)</code></strong>, <strong><code>1=(j-1,i+1)</code></strong>, <strong><code>2=(j+1,i+1)</code></strong>, <strong><code>3=(j+1,i-1)</code></strong>.</p>
<div id="img-bnd_2d_coords" class="imageblock text-center text-center">
<div class="content">
<img src="images/order_horizontal_bounds__2D_coord_variables.png" alt="order horizontal bounds  2D coord variables" width="50%">
</div>
<div class="title">Figure 7.2. Order of <strong><code>lonbnd(j,i,0)</code></strong> to <strong><code>lonbnd(j,i,3)</code></strong> and of <strong><code>latbnd(j,i,0)</code></strong> and <strong><code>latbnd(j,i,3)</code></strong> in the case of two-dimensional horizontal coordinate axes. Tuples <strong><code>(lon(j,i),lat(j,i))</code></strong> represent grid cell centers and tuples <strong><code>(lonbnd(j,i,n),latbnd(j,i,n))</code></strong> represent the grid cell vertices.</div>
</div>
<div class="paragraph">
<p>If i-j-upward is a right-handed coordinate system (like lon-lat-upward), this ordering means the vertices will be traversed anticlockwise on the lon-lat surface seen from above (<a href="#img-bnd_2d_coords">Figure 7.2</a>).
If i-j-upward is left-handed, they will be traversed clockwise on the lon-lat surface.</p>
</div>
<div class="paragraph">
<p>The bounds can be used to decide whether cells are contiguous via the following relationships.
In these equations the variable <strong><code>bnd</code></strong> is used generically to represent either the latitude or longitude boundary variable.</p>
</div>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre>For 0 &lt; j &lt; n and 0 &lt; i &lt; m,
  If cells (j,i) and (j,i+1) are contiguous, then
    bnd(j,i,1)=bnd(j,i+1,0)
    bnd(j,i,2)=bnd(j,i+1,3)
  If cells (j,i) and (j+1,i) are contiguous, then
    bnd(j,i,3)=bnd(j+1,i,0) and bnd(j,i,2)=bnd(j+1,i,1)</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Bounds for multi-dimensional coordinate variables with p-sided cells</dt>
<dd>
<p>In all other cases, the bounds should be dimensioned <strong><code>(&#8230;&#8203;,n,p)</code></strong>, where <strong><code>(&#8230;&#8203;,n)</code></strong> are the dimensions of the auxiliary coordinate variables, and <strong><code>p</code></strong> the number of vertices of the cells.
The vertices must be traversed anticlockwise in the lon-lat plane as viewed from above.
The starting vertex is not specified.</p>
</dd>
</dl>
</div>
<div id="cells-on-a-latitude-axis-ex" class="exampleblock">
<div class="title">Example 7.2. Cells on a latitude axis</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat = 64;
  nv = 2;    // number of vertices
variables:
  float lat(lat);
    lat:long_name = "latitude";
    lat:units = "degrees_north";
    lat:bounds = "lat_bnds";
  float lat_bnds(lat,nv);</pre>
</div>
</div>
<div class="paragraph">
<p>The boundary variable <code>lat_bnds</code> associates a latitude gridpoint <code>i</code> with the interval whose boundaries are <code>lat_bnds(i,0)</code> and <code>lat_bnds(i,1)</code>.
The gridpoint location, <code>lat(i)</code>, should be contained within this interval.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>For rectangular grids, two-dimensional cells can be expressed as Cartesian products of one-dimensional cells of the type in the preceding example.
However for non-rectangular grids a "rectangular" cell will in general require specifying all four vertices for each cell.</p>
</div>
<div id="cells-in-a-non-rectangular-grid-ex" class="exampleblock">
<div class="title">Example 7.3. Cells in a non-rectangular grid</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  imax = 128;
  jmax = 64;
  nv = 4;
variables:
  float lat(jmax,imax);
    lat:long_name = "latitude";
    lat:units = "degrees_north";
    lat:bounds = "lat_bnds";
  float lon(jmax,imax);
    lon:long_name = "longitude";
    lon:units = "degrees_east";
    lon:bounds = "lon_bnds";
  float lat_bnds(jmax,imax,nv);
  float lon_bnds(jmax,imax,nv);</pre>
</div>
</div>
<div class="paragraph">
<p>The boundary variables <code>lat_bnds</code> and <code>lon_bnds</code> associate a gridpoint <code>(j,i)</code> with the cell determined by the vertices <code>(lat_bnds(j,i,n),lon_bnds(j,i,n))</code>, <code>n=0,..,3</code>.
The gridpoint location, <code>(lat(j,i),lon(j,i))</code>, should be contained within this region.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cell-measures"><a class="anchor" href="#cell-measures"></a>7.2. Cell Measures</h3>
<div class="paragraph">
<p>For some calculations, information is needed about the size, shape or location of the cells that cannot be deduced from the coordinates and bounds without special knowledge that a generic application cannot be expected to have.
For instance, in computing the mean of several cell values, it is often appropriate to "weight" the values by area.
When computing an area-mean each grid cell value is multiplied by the grid-cell area before summing, and then the sum is divided by the sum of the grid-cell areas.
Area weights may also be needed to map data from one grid to another in such a way as to preserve the area mean of the field.
The preservation of area-mean values while regridding may be essential, for example, when calculating surface heat fluxes in an atmospheric model with a grid that differs from the ocean model grid to which it is coupled.</p>
</div>
<div class="paragraph">
<p>In many cases the areas can be calculated from the cell bounds, but there are exceptions.
Consider, for example, a spherical geodesic grid composed of contiguous, roughly hexagonal cells.
The vertices of the cells can be stored in the variable identified by the <strong><code>bounds</code></strong> attribute, but the cell perimeter is not uniquely defined by its vertices (because the vertices could, for example, be connected by straight lines, or, on a sphere, by lines following a great circle, or, in general, in some other way).
Thus, given the cell vertices alone, it is generally impossible to calculate the area of a grid cell.
This is why it may be necessary to store the grid-cell areas in addition to the cell vertices.</p>
</div>
<div class="paragraph">
<p>In other cases, the grid cell-volume might be needed and might not be easily calculated from the coordinate information.
In ocean models, for example, it is not uncommon to find "partial" grid cells at the bottom of the ocean.
In this case, rather than (or in addition to) indicating grid cell area, it may be necessary to indicate volume.</p>
</div>
<div class="paragraph">
<p>To indicate extra information about the spatial properties of a variable&#8217;s grid cells, a <strong><code>cell_measures</code></strong> attribute may be defined for a variable.
This is a string attribute comprising a list of blank-separated pairs of words of the form "<strong><code>measure: name</code></strong>".
For the moment, "<strong><code>area</code></strong>" and "<strong><code>volume</code></strong>" are the only defined measures, but others may be supported in future.
The "name" is the name of the variable containing the measure values, which we refer to as a "measure variable".
The dimensions of a measure variable must be the same as or a subset of the dimensions of the variable to which it is related, but their order is not restricted, and with one exception:
If a cell measure variable of a data variable that has been compressed by gathering (<a href="#compression-by-gathering">Section 8.2, "Lossless Compression by Gathering"</a>) does not span the compressed dimension, then its dimensions may be any subset of the data variable&#8217;s uncompressed dimensions, i.e. any of the dimensions of the data variable except the compressed dimension, and any of the dimensions listed by the <strong><code>compress</code></strong> attribute of the compressed coordinate variable.
In the case of area, for example, the field itself might be a function of longitude, latitude, and time, but the variable containing the area values would only include longitude and latitude dimensions (and the dimension order could be reversed, although this is not recommended).
The variable must have a <strong><code>units</code></strong> attribute and may have other attributes such as a <strong><code>standard_name</code></strong>.</p>
</div>
<div class="paragraph">
<p>For rectangular longitude-latitude grids, the area of grid cells can be calculated from the bounds: the area of a cell is proportional to the product of the difference in the longitude bounds of the cell and the difference between the sine of each latitude bound of the cell.
In this case supplying grid-cell areas via the <strong><code>cell_measures</code></strong> attribute is unnecessary because it may be assumed that applications can perform this calculation, using their own value for the radius of the Earth.</p>
</div>
<div class="paragraph">
<p>A variable referenced by <strong><code>cell_measures</code></strong> is not required to be present in the file containing the data variable.
If the <strong><code>cell_measures</code></strong> variable is located in another file (an "external file"), rather than in the file where it is referenced, it must be listed in the <strong><code>external_variables</code></strong> attribute of the referencing file (Section 2.6.3).</p>
</div>
<div id="cell-areas-for-a-spherical-geodesic-grid" class="exampleblock">
<div class="title">Example 7.4. Cell areas for a spherical geodesic grid</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  cell = 2562 ;  // number of grid cells
  time = 12 ;
  nv = 6 ;       // maximum number of cell vertices
variables:
  float PS(time,cell) ;
    PS:units = "Pa" ;
    PS:coordinates = "lon lat" ;
    PS:cell_measures = "area: cell_area" ;
  float lon(cell) ;
    lon:long_name = "longitude" ;
    lon:units = "degrees_east" ;
    lon:bounds="lon_vertices" ;
  float lat(cell) ;
    lat:long_name = "latitude" ;
    lat:units = "degrees_north" ;
    lat:bounds="lat_vertices" ;
  float time(time) ;
    time:long_name = "time" ;
    time:units = "days since 1979-01-01 0:0:0" ;
  float cell_area(cell) ;
    cell_area:long_name = "area of grid cell" ;
    cell_area:standard_name="cell_area";
    cell_area:units = "m2"
  float lon_vertices(cell,nv) ;
  float lat_vertices(cell,nv) ;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cell-methods"><a class="anchor" href="#cell-methods"></a>7.3. Cell Methods</h3>
<div class="paragraph">
<p>To describe the characteristic of a field that is represented by cell values, we define the <strong><code>cell_methods</code></strong> attribute of the variable.
This is a string attribute comprising a list of blank-separated words of the form "<em>name: method</em>".
Each "<em>name: method</em>" pair indicates that for an axis identified by <em>name</em>, the cell values representing the field have been determined or derived by the specified <em>method</em>.
For example, if data values have been generated by computing time means, then this could be indicated with <strong><code>cell_methods="t: mean"</code></strong>, assuming here that the name of the time dimension variable is "t".</p>
</div>
<div class="paragraph">
<p>In the specification of this attribute, <em>name</em> can be a dimension of the variable, a scalar coordinate variable, a valid standard name, or the word "<strong><code>area</code></strong>".
(See <a href="#cell-methods-no-coordinates">Section 7.3.4, "Cell methods when there are no coordinates"</a> concerning the use of standard names in cell_methods.)
The values of <em>method</em> should be selected from the list in <a href="#appendix-cell-methods">Appendix E, Cell Methods</a>, which includes <code>point</code>, <code>sum</code>, <code>mean</code>, among others.
Case is not significant in the method name.
Some methods (e.g., <code>variance</code>) imply a change of units of the variable, as is indicated in <a href="#appendix-cell-methods">Appendix E, Cell Methods</a>.</p>
</div>
<div class="paragraph">
<p>It must be remembered that the method applies only to the axis designated in <strong><code>cell_methods</code></strong> by <em>name</em>, and different methods may apply to other axes.
If, for instance, a precipitation value in a longitude-latitude cell is given the method <strong><code>maximum</code></strong> for these axes, it means that it is the maximum within these spatial cells, and does not imply that it is also the maximum in time.
Furthermore, it should be noted that if any <em>method</em> other than "<strong><code>point</code></strong>" is specified for a given axis, then <strong><code>bounds</code></strong> should also be provided for that axis (except for the relatively rare exceptions described in <a href="#cell-methods-no-coordinates">Section 7.3.4, "Cell methods when there are no coordinates"</a>).</p>
</div>
<div class="paragraph">
<p>The default interpretation for variables that do not have the <strong><code>cell_methods</code></strong> attribute specified depends on whether the quantity is extensive (which depends on the size of the cell) or intensive (which does not).
Suppose, for example, the quantities "accumulated precipitation" and "precipitation rate" each have a time axis.
A variable representing accumulated precipitation is extensive in time because it depends on the length of the time interval over which it is accumulated.
For correct interpretation, it therefore requires a time interval to be completely specified via a boundary variable (i.e., via a <strong><code>bounds</code></strong> attribute for the time axis).
In this case the default interpretation is that the cell method is a sum over the specified time interval.
This can be (optionally) indicated explicitly by setting the cell method to <strong><code>sum</code></strong>.
A precipitation rate on the other hand is intensive in time and could equally well represent either an instantaneous value or a mean value over the time interval specified by the cell.
In this case the default interpretation for the quantity would be "instantaneous" (which, optionally, can be indicated explicitly by setting the cell method to <strong><code>point</code></strong>).
More often, however, cell values for intensive quantities are means, and this should be indicated explicitly by setting the cell method to <strong><code>mean</code></strong> and specifying the cell bounds.</p>
</div>
<div class="paragraph">
<p>Because the default interpretation for an intensive quantity differs from that of an extensive quantity and because this distinction may not be understood by some users of the data, it is recommended that every data variable include for each of its dimensions and each of its scalar coordinate variables the <strong><code>cell_methods</code></strong> information of interest (unless this information would not be meaningful).
It is especially recommended that <strong><code>cell_methods</code></strong> be explicitly specified for each spatio-temporal dimension and each spatio-temporal scalar coordinate variable.</p>
</div>
<div id="methods-applied-to-a-timeseries-ex" class="exampleblock">
<div class="title">Example 7.5. Methods applied to a timeseries</div>
<div class="content">
<div class="paragraph">
<p>Consider 12-hourly timeseries of pressure, temperature and precipitation from a number of stations, where pressure is measured instantaneously, maximum temperature for the preceding 12 hours is recorded, and precipitation is accumulated in a rain gauge.
For a period of 48 hours from 6 a.m. on 19 April 1998, the data is structured as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  time = UNLIMITED; // (5 currently)
  station = 10;
  nv = 2;
variables:
  float pressure(time,station);
    pressure:long_name = "pressure";
    pressure:units = "kPa";
    pressure:cell_methods = "time: point";
  float maxtemp(time,station);
    maxtemp:long_name = "temperature";
    maxtemp:units = "K";
    maxtemp:cell_methods = "time: maximum";
  float ppn(time,station);
    ppn:long_name = "depth of water-equivalent precipitation";
    ppn:units = "mm";
    ppn:cell_methods = "time: sum";
  double time(time);
    time:long_name = "time";
    time:units = "h since 1998-4-19 6:0:0";
    time:bounds = "time_bnds";
  double time_bnds(time,nv);
data:
  time = 0., 12., 24., 36., 48.;
  time_bnds = -12.,0., 0.,12., 12.,24., 24.,36., 36.,48.;</pre>
</div>
</div>
<div class="paragraph">
<p>Note that in this example the time axis values coincide with the end of each interval.
It is sometimes desirable, however, to use the midpoint of intervals as coordinate values for variables that are representative of an interval.
An application may simply obtain the midpoint values by making use of the boundary data in <code>time_bnds</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="statistics-more-than-one-axis"><a class="anchor" href="#statistics-more-than-one-axis"></a>7.3.1. Statistics for more than one axis</h4>
<div class="paragraph">
<p>If more than one cell method is to be indicated, they should be arranged in the order they were applied.
The left-most operation is assumed to have been applied first.
Suppose, for example, that within each grid cell a quantity varies in both longitude and time and that these dimensions are named "lon" and "time", respectively.
Then values representing the time-average of the zonal maximum are labeled <strong><code>cell_methods="lon: maximum time: mean"</code></strong> (i.e. find the largest value at each instant of time over all longitudes, then average these maxima over time); values of the zonal maximum of time-averages are labeled <strong><code>cell_methods="time: mean lon: maximum"</code></strong>.
If the methods could have been applied in any order without affecting the outcome, they may be put in any order in the <strong><code>cell_methods</code></strong> attribute.</p>
</div>
<div class="paragraph">
<p>If a data value is representative of variation over a combination of axes, a single method should be prefixed by the names of all the dimensions involved (listed in any order, since in this case the order must be immaterial).
Dimensions should be grouped in this way only if there is an essential difference from treating the dimensions individually.
For instance, the standard deviation of topographic height within a longitude-latitude gridbox could   have <strong><code>cell_methods="lat: lon: standard_deviation"</code></strong>.
(Note also, that in accordance with the recommendation of the following paragraph, this could be equivalently and preferably indicated by <strong><code>cell_methods="area: standard_deviation"</code></strong>.)
This is not the same as <strong><code>cell_methods="lon: standard_deviation lat: standard_deviation"</code></strong>, which would mean finding the standard deviation along each parallel of latitude within the zonal extent of the gridbox, and then the standard deviation of these values over latitude.</p>
</div>
<div class="paragraph">
<p>To indicate variation over horizontal area, it is recommended that instead of specifying the combination of horizontal dimensions, the special string "<strong><code>area</code></strong>" be used.
The common case of an area-mean can thus be indicated by <strong><code>cell_methods="area: mean"</code></strong> (rather than, for example, "<strong><code>lon: lat: mean</code></strong>").
The horizontal coordinate variables to which "<strong><code>area</code></strong>" refers are in this case not explicitly indicated in <strong><code>cell_methods</code></strong> but can be identified, if necessary, from attributes attached to the coordinate variables, scalar coordinate variables, or auxiliary coordinate variables, as described in <a href="#coordinate-types">Chapter 4, Coordinate Types</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="recording-spacing-original-data"><a class="anchor" href="#recording-spacing-original-data"></a>7.3.2. Recording the spacing of the original data and other information</h4>
<div class="paragraph">
<p>To indicate more precisely how the cell method was applied, extra information may be included in parentheses () after the identification of the method.
This information includes standardized and non-standardized parts.
Currently the only standardized information is to provide the typical interval between the original data values to which the method was applied, in the situation where the present data values are statistically representative of original data values which had a finer spacing.
The syntax is (<strong><code>interval</code></strong>: <em>value unit</em>), where <em>value</em> is a numerical value and <em>unit</em> is a string that can be recognized by UNIDATA&#8217;s UDUNITS package <a href="#UDUNITS">[UDUNITS]</a>.
The <em>unit</em> will usually be dimensionally equivalent to the unit of the corresponding dimension, but this is not required (which allows, for example, the interval for a standard deviation calculated from points evenly spaced in distance along a parallel to be reported in units of length even if the zonal coordinate of the cells is given in degrees).
Recording the original interval is particularly important for standard deviations.
For example, the standard deviation of daily values could be indicated by <strong><code>cell_methods="time: standard_deviation (interval: 1 day)"</code></strong> and of annual values by <strong><code>cell_methods="time: standard_deviation (interval: 1 year)"</code></strong>.</p>
</div>
<div class="paragraph">
<p>If the cell method applies to a combination of axes, they may have a common original interval e.g. <strong><code>cell_methods="lat: lon: standard_deviation (interval: 10 km)"</code></strong>.
Alternatively, they may have separate intervals, which are matched to the names of axes by position e.g. <strong><code>cell_methods="lat: lon: standard_deviation (interval: 0.1 degree_N interval: 0.2 degree_E)"</code></strong>, in which 0.1 degree applies to latitude and 0.2 degree to longitude.</p>
</div>
<div class="paragraph">
<p>If there is both standardized and non-standardized information, the non-standardized follows the standardized information and the keyword <strong><code>comment:</code></strong>.
If there is no standardized information, the keyword <strong><code>comment:</code></strong> should be omitted.
For instance, an area-weighted mean over latitude could be indicated as <strong><code>lat: mean (area-weighted)</code></strong> or <strong><code>lat: mean (interval: 1 degree_north comment: area-weighted)</code></strong>.</p>
</div>
<div class="paragraph">
<p>A dimension of size one may be the result of "collapsing" an axis by some statistical operation, for instance by calculating a variance from time series data.
We strongly recommend that dimensions of size one be retained (or scalar coordinate variables be defined) to enable documentation of the method (through the <strong><code>cell_methods</code></strong> attribute) and its domain (through the <strong><code>bounds</code></strong> attribute).</p>
</div>
<div id="surface-air-temperature-variance-ex" class="exampleblock">
<div class="title">Example 7.6. Surface air temperature variance</div>
<div class="content">
<div class="paragraph">
<p>The variance of the diurnal cycle on 1 January 1990 has been calculated from hourly instantaneous surface air temperature measurements.
The time dimension of size one has been retained.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat=90;
  lon=180;
  time=1;
  nv=2;
variables:
  float TS_var(time,lat,lon);
    TS_var:long_name="surface air temperature variance"
    TS_var:units="K2";
    TS_var:cell_methods="time: variance (interval: 1 hr comment: sampled instantaneously)";
  float time(time);
    time:units="days since 1990-01-01 00:00:00";
    time:bounds="time_bnds";
  float time_bnds(time,nv);
data:
  time=.5;
  time_bnds=0.,1.;</pre>
</div>
</div>
<div class="paragraph">
<p>Notice that a parenthesized comment in the <code>cell_methods</code> attribute provides the nature of the samples used to calculate the variance.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="statistics-applying-portions"><a class="anchor" href="#statistics-applying-portions"></a>7.3.3. Statistics applying to portions of cells</h4>
<div class="paragraph">
<p>By default, the statistical method indicated by <strong><code>cell_methods</code></strong> is assumed to have been evaluated over the entire horizontal area of the cell.
Sometimes, however, it is useful to limit consideration to only a portion of a cell (e.g. a mean over the sea-ice area).
To indicate this, one of two conventions may be used.</p>
</div>
<div class="paragraph">
<p>The first convention is a method that can be used for the common case of a single area-type.
In this case, the <strong><code>cell_methods</code></strong> attribute may include a string of the form "<em>name: method</em>  <strong><code>where</code></strong>  <em>type</em>".
Here <em>name</em> could, for example, be <strong><code>area</code></strong> and <em>type</em> may be any of the strings permitted for a variable with a <strong><code>standard_name</code></strong> of <strong><code>area_type</code></strong>.
As an example, if the method were <strong><code>mean</code></strong> and the <strong><code>area_type</code></strong> were <strong><code>sea_ice</code></strong>, then the data would represent a mean over only the sea ice portion of the grid cell.
If the data writer expects <em>type</em> to be interpreted as one of the standard <strong><code>area_type</code></strong> strings, then none of the variables in the netCDF file should be given a name identical to that of the string (because the second convention, described in the next paragraph, takes precedence).</p>
</div>
<div class="paragraph">
<p>The second convention is the more general.
In this case, the <strong><code>cell_methods</code></strong> entry is of the form "<em>name: method</em>  <strong><code>where</code></strong>  <em>typevar</em>".
Here <em>typevar</em> is a string-valued auxiliary coordinate variable or string-valued scalar coordinate variable (see <a href="#labels">Section 6.1, "Labels"</a>) with a <strong><code>standard_name</code></strong> of <strong><code>area_type</code></strong>.
The variable <em>typevar</em> contains the name(s) of the selected portion(s) of the grid cell to which the <em>method</em> is applied.
This convention can accommodate cases in which a method is applied to more than one area type and the result is stored in a single data variable (with a dimension which ranges across the various area types).
It provides a convenient way to store output from land surface models, for example, since they deal with many area types within each surface gridbox (e.g., <strong><code>vegetation</code></strong>, <strong><code>bare_ground</code></strong>, <strong><code>snow</code></strong>, etc.).</p>
</div>
<div id="mean-surface-temperature-sensible-heat-flux" class="exampleblock">
<div class="title">Example 7.7. Mean surface temperature over land and sensible heat flux averaged separately over land and sea.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat=73;
  lon=96;
  maxlen=20;
  ls=2;
variables:
  float surface_temperature(lat,lon);
    surface_temperature:cell_methods="area: mean where land";
  float surface_upward_sensible_heat_flux(ls,lat,lon);
    surface_upward_sensible_heat_flux:coordinates="land_sea";
    surface_upward_sensible_heat_flux:cell_methods="area: mean where land_sea";
  char land_sea(ls,maxlen);
    land_sea:standard_name="area_type";
data:
  land_sea="land","sea";</pre>
</div>
</div>
<div class="paragraph">
<p>If the <em>method</em> is <code>mean</code>, various ways of calculating the mean can be distinguished in the <code>cell_methods</code> attribute with a string of the form "mean where  <em>type1</em> [over <em>type2</em>]".
Here, <em>type1</em> can be any of the possibilities allowed for <em>typevar</em> or <em>type</em> (as specified in the two paragraphs preceding above Example).
The same options apply to <em>type2</em>, except it is not allowed to be the name of an auxiliary coordinate variable with a dimension greater than one (ignoring the possible dimension accommodating the maximum string length).
A <code>cell_methods</code> attribute with a string of the form "mean where <em>type1</em> over <em>type2</em>" indicates the mean is calculated by summing over the <em>type1</em> portion of the cell and dividing by the area of the <em>type2</em> portion.
In particular, a <code>cell_methods</code> string of the form "mean where all_area_types over <em>type2</em>" indicates the mean is calculated by summing over all types of area within the cell and dividing by the area of the <em>type2</em> portion.
(Note that <code>all_area_types</code> is one of the valid strings permitted for a variable with the <code>standard_name</code> <code>area_type</code>.)
If "over <em>type2</em>" is omitted, the mean is calculated by summing over the <em>type1</em> portion of the cell and dividing by the area of this portion.</p>
</div>
</div>
</div>
<div id="thickness-over-sea-area-ex" class="exampleblock">
<div class="title">Example 7.8. Thickness of sea-ice and snow on sea-ice averaged over sea area.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>variables:
  float sea_ice_thickness(lat,lon);
    sea_ice_thickness:cell_methods="area: mean where sea_ice over sea";
    sea_ice_thickness:standard_name="sea_ice_thickness";
    sea_ice_thickness:units="m";
  float snow_thickness(lat,lon);
    snow_thickness:cell_methods="area: mean where sea_ice over sea";
   snow_thickness:standard_name="lwe_thickness_of_surface_snow_amount";
    snow_thickness:units="m";</pre>
</div>
</div>
<div class="paragraph">
<p>In the case of sea-ice thickness, the phrase &#8220;where sea_ice&#8221; could be replaced by &#8220;where all_area_types&#8221; without changing the meaning since the integral of sea-ice thickness over all area types is obviously the same as the integral over the sea-ice area only.
In the case of snow thickness, &#8220;where sea_ice&#8221; differs from &#8220;where all_area_types&#8221; because &#8220;where sea_ice&#8221; excludes snow on land from the average.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="cell-methods-no-coordinates"><a class="anchor" href="#cell-methods-no-coordinates"></a>7.3.4. Cell methods when there are no coordinates</h4>
<div class="paragraph">
<p>To provide an indication that a particular cell method is relevant to the data without having to provide a precise description of the corresponding cell, the "<em>name</em>" that appears in a "<em>name</em>: <em>method</em>" pair may be an appropriate <strong><code>standard_name</code></strong> (which identifies the dimension) or the string, "<em>area</em>" (rather than the name of a scalar coordinate variable or a dimension with a coordinate variable).
This convention cannot be used, however, if the name of a dimension or scalar coordinate variable is identical to <em>name</em>.
There are two situations where this convention is useful.</p>
</div>
<div class="paragraph">
<p>First, it allows one to provide some indication of the method when the cell coordinate range cannot be precisely defined.
For example, a climatological mean might be based on any data that exists, and, in general, the data might not be available over the same time periods everywhere.
In this case, the time range would not be well defined (because it would vary, depending on location), and it could not be precisely specified through a time dimension&#8217;s bounds.
Nevertheless, useful information can be conveyed by a <strong><code>cell_methods</code></strong> entry of "<strong><code>time: mean</code></strong>" (where <strong><code>time</code></strong>, it should be noted, is a valid <strong><code>standard_name</code></strong>).
(As required by this convention, it is assumed here that for the data referred to by this <strong><code>cell_methods</code></strong> attribute, "time" is not a dimension or coordinate variable.)</p>
</div>
<div class="paragraph">
<p>Second, for a few special dimensions, this convention allows one to indicate (without explicitly defining the coordinates) that the method applies to the domain covering the entire permitted range of those dimensions.
This is allowed only for longitude, latitude, and area (indicating a combination of horizontal coordinates).
For longitude, the domain is indicated according to this provision by the string "longitude" (rather than the name of a longitude coordinate variable), and this implies that the method applies to all possible longitudes (i.e., from 0E to 360E).
For latitude, the string "latitude" is used and implies the method applies to all possible latitudes (i.e., from 90S to 90N).
For area, the string "area" is used and implies the method applies to the whole world.</p>
</div>
<div class="paragraph">
<p>In the second case if, in addition, the data variable has a dimension with a corresponding labeled axis that specifies a geographic region (<a href="#geographic-regions">Section 6.1.1, "Geographic Regions"</a>), the implied range of longitude and latitude is the valid range for each specified region, or in the case of <strong><code>area</code></strong> the domain is the geographic region.
For example, there could be a <strong><code>cell_methods</code></strong> entry of "<strong><code>longitude: mean</code></strong>", where <strong><code>longitude</code></strong> is <em>not</em> the name of a dimension or coordinate variable (but is one of the special cases given above).
That would indicate a mean over all longitudes.
Note, however, that if in addition the data variable had a scalar coordinate variable with a <strong><code>standard_name</code></strong> of <strong><code>region</code></strong> and a value of <strong><code>atlantic_ocean</code></strong>, it would indicate a mean over longitudes that lie within the Atlantic Ocean, not all longitudes.</p>
</div>
<div class="paragraph">
<p>We recommend that whenever possible, cell bounds should be supplied by giving the variable a dimension of size one and attaching bounds to the associated coordinate variable.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="climatological-statistics"><a class="anchor" href="#climatological-statistics"></a>7.4. Climatological Statistics</h3>
<div class="paragraph">
<p>Climatological statistics may be derived from corresponding portions of the annual cycle in a set of years, e.g., the average January temperatures in the climatology of 1961-1990, where the values are derived by averaging the 30 Januarys from the separate years.
Portions of the climatological cycle are specified by references to dates within the calendar year.
However, a calendar year is not a well-defined unit of time, because it differs between leap years and other years, and among calendars.
Nonetheless for practical purposes we wish to compare statistics for months or seasons from different calendars, and to make climatologies from a mixture of leap years and other years.
Hence we provide special conventions for indicating dates within the climatological year.
Climatological statistics may also be derived from corresponding portions of a range of days, for instance the average temperature for each hour of the average day in April 1997.
In addition the two concepts may be used at once, for instance to indicate not April 1997, but the average April of the five years 1995-1999.</p>
</div>
<div class="paragraph">
<p>Climatological variables have a climatological time axis.
Like an ordinary time axis, a climatological time axis may have a dimension of unity (for example, a variable containing the January average temperatures for 1961-1990), but often it will have several elements (for example, a climatological time axis with a dimension of 12 for the climatological average temperatures in each month for 1961-1990, a dimension of 3 for the January mean temperatures for the three decades 1961-1970, 1971-1980, 1981-1990, or a dimension of 24 for the hours of an average day).
Intervals of climatological time are conceptually different from ordinary time intervals; a given interval of climatological time represents a set of subintervals which are not necessarily contiguous.
To indicate this difference, a climatological time coordinate variable does not have a <strong><code>bounds</code></strong> attribute.
Instead, it has a <strong><code>climatology</code></strong> attribute, which names a variable with dimensions (n,2), n being the dimension of the climatological time axis.
Using the units and calendar of the time coordinate variable, element (i,0) of the climatology variable specifies the beginning of the first subinterval and element (i,1) the end of the last subinterval used to evaluate the climatological statistics with index i in the time dimension.
The time coordinates should be values that are representative of the climatological time intervals, such that an application which does not recognise climatological time will nonetheless be able to make a reasonable interpretation.</p>
</div>
<div class="paragraph">
<p>For compatibility with the COARDS standard, a climatological time coordinate in the default <strong><code>standard</code></strong> and <strong><code>julian</code></strong> calendars may be indicated by setting the date/time reference string in the time coordinate&#8217;s <strong><code>units</code></strong> attribute to midnight on 1 January in year 0 (i.e., <strong><code>since 0-1-1</code></strong>).
This convention is deprecated because it does not provide any information about the intervals used to compute the climatology, and there may be inconsistencies among software packages in the interpretation of the time coordinates with a reference time of year 0.
Use of year 0 for this purpose is impossible in all other calendars, because year 0 is a valid year.</p>
</div>
<div class="paragraph">
<p>A climatological axis may use different statistical methods to represent variation among years, within years and within days.
For example, the average January temperature in a climatology is obtained by averaging both within years and over years.
This is different from the average January-maximum temperature and the maximum January-average temperature.
For the former, we first calculate the maximum temperature in each January, then average these maxima; for the latter, we first calculate the average temperature in each January, then find the largest one.
As usual, the statistical operations are recorded in the <strong><code>cell_methods</code></strong> attribute, which may have two or three entries for the climatological time dimension.</p>
</div>
<div class="paragraph">
<p>Valid values of the <strong><code>cell_methods</code></strong> attribute must be in one of the forms from the following list.
The intervals over which various statistical methods are applied are determined by decomposing the date and time specifications of the climatological time bounds of a cell, as recorded in the variable named by the <strong><code>climatology</code></strong> attribute.
(The date and time specifications must be calculated from the time coordinates expressed in units of "time interval since reference date and time".)
In the descriptions that follow we use the abbreviations <em>y</em>, <em>m</em>, <em>d</em>, <em>H</em>, <em>M</em>, and <em>S</em> for year, month, day, hour, minute, and second respectively.
The suffix <em>0</em> indicates the earlier bound and <em>1</em> the latter.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">time: method1 <strong><code>within years</code></strong>   time: method2 <strong><code>over years</code></strong></dt>
<dd>
<p><em>method1</em> is applied to the time intervals (mdHMS0-mdHMS1) within individual years and <em>method2</em> is applied over the range of years (y0-y1).</p>
</dd>
<dt class="hdlist1">time: method1 <strong><code>within days</code></strong>   time: method2 <strong><code>over days</code></strong></dt>
<dd>
<p><em>method1</em> is applied to the time intervals (HMS0-HMS1) within individual days and <em>method2</em> is applied over the days in the interval (ymd0-ymd1).</p>
</dd>
<dt class="hdlist1">time: method1 <strong><code>within days</code></strong>   time: method2 <strong><code>over days</code></strong>   time: method3 <strong><code>over years</code></strong></dt>
<dd>
<p><em>method1</em> is applied to the time intervals (HMS0-HMS1) within individual days and <em>method2</em> is applied over the days in the interval (md0-md1), and <em>method3</em> is applied over the range of years (y0-y1).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The methods which can be specified are those listed in <a href="#appendix-cell-methods">Appendix E, Cell Methods</a> and each entry in the <strong><code>cell_methods</code></strong> attribute may also, as usual, contain non-standardised information in parentheses after the method.
For instance, a mean over ENSO years might be indicated by "<strong><code>time: mean over years (ENSO years)</code></strong>".</p>
</div>
<div class="paragraph">
<p>When considering intervals within years, if the earlier climatological time bound is later in the year than the later climatological time bound, it implies that the time intervals for the individual years run from each year across January 1 into the next year e.g. DJF intervals run from December 1 0:00 to March 1 0:00.
Analogous situations arise for daily intervals running across midnight from one day to the next.</p>
</div>
<div class="paragraph">
<p>When considering intervals within days, if the earlier time of day is equal to the later time of day, then the method is applied to a full 24 hour day.</p>
</div>
<div class="paragraph">
<p><em>We have tried to make the examples in this section easier to understand by translating all time coordinate values to date and time formats.
This is not currently valid CDL syntax.</em></p>
</div>
<div id="climatological-seasons-ex" class="exampleblock">
<div class="title">Example 7.9. Climatological seasons</div>
<div class="content">
<div class="paragraph">
<p>This example shows the metadata for the average seasonal-minimum temperature for the four standard climatological seasons MAM JJA SON DJF, made from data for March 1960 to February 1991.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  time=4;
  nv=2;
variables:
  float temperature(time,lat,lon);
    temperature:long_name="surface air temperature";
    temperature:cell_methods="time: minimum within years time: mean over years";
    temperature:units="K";
  double time(time);
    time:climatology="climatology_bounds";
    time:units="days since 1960-1-1";
  double climatology_bounds(time,nv);
data:  // time coordinates translated to date/time format
  time="1960-4-16", "1960-7-16", "1960-10-16", "1961-1-16" ;
  climatology_bounds="1960-3-1",  "1990-6-1",
                     "1960-6-1",  "1990-9-1",
                     "1960-9-1",  "1990-12-1",
                     "1960-12-1", "1991-3-1" ;</pre>
</div>
</div>
</div>
</div>
<div id="decadal-averages-for-january-ex" class="exampleblock">
<div class="title">Example 7.10. Decadal averages for January</div>
<div class="content">
<div class="paragraph">
<p>Average January precipitation totals are given for each of the decades 1961-1970, 1971-1980, 1981-1990.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  time=3;
  nv=2;
variables:
  float precipitation(time,lat,lon);
    precipitation:long_name="precipitation amount";
    precipitation:cell_methods="time: sum within years time: mean over years";
    precipitation:units="kg m-2";
  double time(time);
    time:climatology="climatology_bounds";
    time:units="days since 1901-1-1";
  double climatology_bounds(time,nv);
data:  // time coordinates translated to date/time format
  time="1965-1-15", "1975-1-15", "1985-1-15" ;
  climatology_bounds="1961-1-1", "1970-2-1",
                     "1971-1-1", "1980-2-1",
                     "1981-1-1", "1990-2-1" ;</pre>
</div>
</div>
</div>
</div>
<div id="temperature-each-hour-of-average-day-ex" class="exampleblock">
<div class="title">Example 7.11. Temperature for each hour of the average day</div>
<div class="content">
<div class="paragraph">
<p>Hourly average temperatures are given for April 1997.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  time=24;
  nv=2;
variables:
  float temperature(time,lat,lon);
    temperature:long_name="surface air temperature";
    temperature:cell_methods="time: mean within days time: mean over days";
    temperature:units="K";
  double time(time);
    time:climatology="climatology_bounds";
    time:units="hours since 1997-4-1";
  double climatology_bounds(time,nv);
data:  // time coordinates translated to date/time format
  time="1997-4-1 0:30", "1997-4-1 1:30", ... "1997-4-1 23:30" ;
  climatology_bounds="1997-4-1 0:00",  "1997-4-30 1:00",
                     "1997-4-1 1:00",  "1997-4-30 2:00",
                      ...
                      "1997-4-1 23:00", "1997-5-1 0:00" ;</pre>
</div>
</div>
</div>
</div>
<div id="extreme-statistics-and-spell-lengths-ex" class="exampleblock">
<div class="title">Example 7.12. Extreme statistics and spell-lengths</div>
<div class="content">
<div class="paragraph">
<p>Number of frost days during NH winter 2007-2008, and maximum length of spells of consecutive frost days.
A "frost day" is defined as one during which the minimum temperature falls below freezing point (0 degC).
This is described as a climatological statistic, in which the minimum temperature is first calculated within each day, and then the number of days or spell lengths meeting the specified condition are evaluated.
In this operation, the standard name is also changed; the original data are <code>air_temperature</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>variables:
  float n1(lat,lon);
    n1:standard_name="number_of_days_with_air_temperature_below_threshold";
    n1:coordinates="threshold time";
    n1:cell_methods="time: minimum within days time: sum over days";
  float n2(lat,lon);
    n2:standard_name="spell_length_of_days_with_air_temperature_below_threshold";
    n2:coordinates="threshold time";
    n2:cell_methods="time: minimum within days time: maximum over days";
  float threshold;
    threshold:standard_name="air_temperature";
    threshold:units="degC";
  double time;
    time:climatology="climatology_bounds";
    time:units="days since 2000-6-1";
  double climatology_bounds(time,nv);
data: // time coordinates translated to date/time format
  time="2008-1-16 6:00";
  climatology_bounds="2007-12-1 6:00", "2008-3-1 6:00";
  threshold=0.;</pre>
</div>
</div>
</div>
</div>
<div id="temperature-each-hour-of-climatological-day-ex" class="exampleblock">
<div class="title">Example 7.13. Temperature for each hour of the typical climatological day</div>
<div class="content">
<div class="paragraph">
<p>This is a modified version of the previous example, "Temperature for each hour of the average day".
It now applies to April from a 1961-1990 climatology.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>variables:
  float temperature(time,lat,lon);
    temperature:long_name="surface air temperature";
    temperature:cell_methods="time: mean within days ",
      "time: mean over days time: mean over years";
    temperature:units="K";
  double time(time);
    time:climatology="climatology_bounds";
    time:units="days since 1961-1-1";
  double climatology_bounds(time,nv);
data:  // time coordinates translated to date/time format
  time="1961-4-1 0:30", "1961-4-1 1:30", ..., "1961-4-1 23:30" ;
  climatology_bounds="1961-4-1 0:00", "1990-4-30 1:00",
                     "1961-4-1 1:00", "1990-4-30 2:00",
                     ...
                     "1961-4-1 23:00", "1990-5-1 0:00" ;</pre>
</div>
</div>
</div>
</div>
<div id="monthly-max-daily-precip-totals-ex" class="exampleblock">
<div class="title">Example 7.14. Monthly-maximum daily precipitation totals</div>
<div class="content">
<div class="paragraph">
<p>Maximum of daily precipitation amounts for each of the three months June, July and August 2000 are given.
The first daily total applies to 6 a.m. on 1 June to 6 a.m. on 2 June, the 30th from 6 a.m. on 30 June to 6 a.m. on 1 July.
The maximum of these 30 values is stored under time index 0 in the precipitation array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  time=3;
  nv=2;
variables:
  float precipitation(time,lat,lon);
    precipitation:long_name="Accumulated precipitation";
    precipitation:cell_methods="time: sum within days time: maximum over days";
    precipitation:units="kg";
  double time(time);
    time:climatology="climatology_bounds";
    time:units="days since 2000-6-1";
  double climatology_bounds(time,nv);
data:  // time coordinates translated to date/time format
  time="2000-6-16", "2000-7-16", "2000-8-16" ;
  climatology_bounds="2000-6-1 6:00:00", "2000-7-1 6:00:00",
                     "2000-7-1 6:00:00", "2000-8-1 6:00:00",
                     "2000-8-1 6:00:00", "2000-9-1 6:00:00" ;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="geometries"><a class="anchor" href="#geometries"></a>7.5. Geometries</h3>
<div class="paragraph">
<p>For many geospatial applications, data values are associated with a geometry, which is a spatial representation of a real-world feature, for instance a time-series of areal average precipitation over a watershed.
Polygonal cells with an arbitrary number of vertices can be described using <a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a>, but in that case every cell must have the same number of vertices and must be a single polygon ring.
In contrast, each geometry may have a different number of nodes, the geometries may be lines (as alternatives to points and polygons), and they may be <em>multipart</em>, i.e., include several disjoint parts.
While line and point geometries don&#8217;t describe an interval along a dimension as the traditional cell bounds described above do, they do describe the extent of a geometry or real-world feature so are included in this section.
The approach described here specifies how to encode such geometries following the pattern in <strong>9.3.3 Contiguous ragged array representation</strong> and attach them to variables in a way that is consistent with the cell bounds approach.</p>
</div>
<div class="paragraph">
<p>All geometries are made up of one or more nodes.
The geometry type specifies the set of topological assumptions to be applied to relate the nodes (see Table 7.1).
For example, multipoint and line geometries are nearly the same except nodes are interpreted as being connected for lines.
Lines and polygons are also nearly the same except that the first and last nodes are assumed to be connected for polygons.
Note that CF does not require the first and last node to be identical but allows them to be coincident if desired.
Polygons that have holes, such as waterbodies in a land unit, are encoded as a collection of polygon ring parts, each identified as <em>exterior</em> or <em>interior</em> polygons.
Multipart geometries, such as multiple lines representing the same river or multiple islands representing the same jurisdiction, are encoded as collections of unconnected points, lines, or polygons that are logically grouped into a single geometry.</p>
</div>
<div class="paragraph">
<p>Any data variable can be given a <strong><code>geometry</code></strong> attribute that indicates the geometry for the quantity held in the variable.
One of the dimensions of the data variable must be the number of geometries to which the data applies.
As shown in Example 7.15, if the data variable has a discrete sampling geometry, the number of geometries is the length of the instance dimension (Section 9.2).</p>
</div>
<div id="timeseries-with-geometry" class="exampleblock">
<div class="title">Example 7.15. Timeseries with geometry.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  instance = 2 ;
  node = 5 ;
  time = 4 ;
variables:
  int time(time) ;
    time:units = "days since 2000-01-01" ;
  double lat(instance) ;
    lat:units = "degrees_north" ;
    lat:standard_name = "latitude" ;
    lat:nodes = "y" ;
  double lon(instance) ;
    lon:units = "degrees_east" ;
    lon:standard_name = "longitude" ;
    lon:nodes = "x" ;
  int datum ;
    datum:grid_mapping_name = "latitude_longitude" ;
    datum:longitude_of_prime_meridian = 0.0 ;
    datum:semi_major_axis = 6378137.0 ;
    datum:inverse_flattening = 298.257223563 ;
  int geometry_container ;
    geometry_container:geometry_type = "line" ;
    geometry_container:node_count = "node_count" ;
    geometry_container:node_coordinates = "x y" ;
  int node_count(instance) ;
  double x(node) ;
    x:units = "degrees_east" ;
    x:standard_name = "longitude" ;
    x:axis = "X" ;
  double y(node) ;
    y:units = "degrees_north" ;
    y:standard_name = "latitude" ;
    y:axis = "Y" ;
  double someData(instance, time) ;
    someData:coordinates = "time lat lon" ;
    someData:grid_mapping = "datum" ;
    someData:geometry = "geometry_container" ;
// global attributes:
  :featureType = "timeSeries" ;
data:
  time = 1, 2, 3, 4 ;
  lat = 30, 50 ;
  lon = 10, 60 ;
  someData =
    1, 2, 3, 4,
    1, 2, 3, 4 ;
  node_count = 3, 2 ;
  x = 30, 10, 40, 50, 50 ;
  y = 10, 30, 40, 60, 50 ;</pre>
</div>
</div>
<div class="paragraph">
<p>The time series variable, someData, is associated with line geometries via the geometry attribute.
The first line geometry is comprised of three nodes, while the second has two nodes.
Client applications unaware of CF geometries can fall back to the lat and lon variables to locate feature instances in space.
In this example, lat and lon coordinates are identical to the first node in each line geometry, though any representative point could be used.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A <em>geometry container</em> variable acts as a container for attributes that describe a set of geometries.
The <strong><code>geometry</code></strong> attribute of the data variable contains the name of a geometry container variable.
The geometry container variable must hold <strong><code>geometry_type</code></strong> and <strong><code>node_coordinates</code></strong> attributes.
The <strong><code>grid_mapping</code></strong> and <strong><code>coordinates</code></strong> attributes can be carried by the geometry container variable provided they are also carried by the data variables associated with the container.</p>
</div>
<div class="paragraph">
<p>The <strong><code>geometry_type</code></strong> attribute indicates the type of geometry present.
Its allowable values are: <em>point</em>, <em>line</em>, <em>polygon</em>.
Multipart geometries are allowed for all three geometry types.
For example, polygon geometries could include single part geometries like the State of Colorado and multipart geometries like the State of Hawaii.</p>
</div>
<div class="paragraph">
<p>The <strong><code>node_coordinates</code></strong> attribute contains the blank-separated names of the variables that contain geometry node coordinates (one variable for each spatial dimension).
The geometry node coordinate variables must each have an <strong><code>axis</code></strong> attribute whose allowable values are <em>X</em>, <em>Y</em>, and <em>Z</em>.</p>
</div>
<div class="paragraph">
<p>If a <strong><code>coordinates</code></strong> attribute is carried by the geometry container variable or its parent data variable, then those coordinate variables that have a meaningful correspondence with node coordinates are indicated as such by a <strong><code>nodes</code></strong> attribute that names the corresponding node coordinates, but only if the <strong><code>grid_mapping</code></strong> associated with the geometry node variables is the same as that of the coordinate variables.
If a different grid mapping is used, then the provided coordinates must not have the <strong><code>nodes</code></strong> attribute.</p>
</div>
<div class="paragraph">
<p>Whether linked to normal CF space-time coordinates with a <strong><code>nodes</code></strong> attribute or not, inclusion of such coordinates is recommended to maintain backward compatibility with software that has not implemented geometry capabilities.</p>
</div>
<div class="paragraph">
<p>The geometry node coordinate variables must all have the same single dimension, which is the total number of nodes in all the geometries.
The nodes must be stored consecutively for each geometry and in the order of the geometries, and within each multipart geometry the nodes must be stored consecutively for each part and in the order of the parts.
Polygon exterior rings must be stored before any interior rings they may contain.
Nodes for polygon exterior rings must be ordered using the right-hand rule, e.g., anticlockwise in the lon-lat plane as viewed from above.
Polygon interior rings must be in clockwise order.
They are put in opposite orders to facilitate calculation of area and consistency with the typical implementation pattern.</p>
</div>
<div class="paragraph">
<p>When more than one geometry instance is present, the geometry container variable must have a <strong><code>node_count</code></strong> attribute that contains the name of a variable indicating the count of nodes per geometry.
The node count is the total number of nodes in all the parts.
The exception is when all geometries are single part point geometries, in which case a node count is not needed since each geometry contains a single node.
However in that case, the dimension of the node coordinate variables must be one of the dimensions of the data variable (because it serves also as the instance dimension for geometries).</p>
</div>
<div class="paragraph">
<p>For multipart <em>lines</em>, multipart <em>polygons</em>, and <em>polygons</em> with holes, the geometry container variable must have a <strong><code>part_node_count</code></strong> attribute that indicates a variable of the count of nodes per geometry part.
Note that because multipoint geometries always have a single node per part, the <strong><code>part_node_count</code></strong> is not required for <em>point</em> geometry types.
The single dimension of the part node count variable must equal the total number of parts in all the geometries.</p>
</div>
<div class="paragraph">
<p>For <em>polygon</em> geometries with holes, the geometry container variable must have an <strong><code>interior_ring</code></strong> attribute that contains the name of a variable that indicates if the polygon parts are interior rings (i.e., holes) or not.
This interior ring variable must contain the value 0 to indicate an exterior ring polygon and 1 to indicate an interior ring polygon.
The single dimension of the interior ring variable must be the same dimension as that of the part node count variable.
The geometry types included in this convention are listed in Table 7.1.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">geometry_type</th>
<th class="tableblock halign-left valign-top">Dimensionality</th>
<th class="tableblock halign-left valign-top">Description of Geometry Instance</th>
<th class="tableblock halign-left valign-top">Additional required attributes on geometry container variable</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>point</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A collection of one or more points, where a point is a single location in space</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node_count (if multipart geometries are present)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>line</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A collection of one or more lines, where a line is an ordered set of data points connected by linearly interpolating between points</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node_count, part_node_count (if multipart geometries are present)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>polygon</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A collection of one or more polygons, where a polygon is a planar surface comprised of an exterior ring and zero or more interior rings (i.e., holes), where a ring is a closed line (i.e., the last point in the line is assumed to be connected to the first point)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">node_count, part_node_count (if holes or multipart geometries are present), interior_ring (if holes are present)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 7.1.</strong> Dimensionality, description, and additional required attributes for geometry_types.</p>
</div>
<div id="complete-multipolygon-example" class="exampleblock">
<div class="title">Example 7.16. Polygons with holes</div>
<div class="content">
<div class="paragraph">
<p>This example demonstrates all potential attributes and variables for encoding geometries.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  node = 12 ;
  instance = 2 ;
  part = 4 ;
  time = 4 ;
variables:
  int time(time) ;
    time:units = "days since 2000-01-01" ;
  double x(node) ;
    x:units = "degrees_east" ;
    x:standard_name = "longitude" ;
    x:axis = "X" ;
  double y(node) ;
    y:units = "degrees_north" ;
    y:standard_name = "latitude" ;
    y:axis = "Y" ;
  double lat(instance) ;
    lat:units = "degrees_north" ;
    lat:standard_name = "latitude" ;
    lat:nodes = "y" ;
  double lon(instance) ;
    lon:units = "degrees_east" ;
    lon:standard_name = "longitude" ;
    lon:nodes = "x" ;
  float geometry_container ;
    geometry_container:geometry_type = "polygon" ;
    geometry_container:node_count = "node_count" ;
    geometry_container:node_coordinates = "x y" ;
    geometry_container:grid_mapping = "datum" ;
    geometry_container:coordinates = "lat lon" ;
    geometry_container:part_node_count = "part_node_count" ;
    geometry_container:interior_ring = "interior_ring" ;
  int node_count(instance) ;
  int part_node_count(part) ;
  int interior_ring(part) ;
  float datum ;
    datum:grid_mapping_name = "latitude_longitude" ;
    datum:semi_major_axis = 6378137. ;
    datum:inverse_flattening = 298.257223563 ;
    datum:longitude_of_prime_meridian = 0. ;
  double someData(instance, time) ;
    someData:coordinates = "time lat lon" ;
    someData:grid_mapping = "datum" ;
    someData:geometry = "geometry_container" ;
// global attributes:
  :featureType = "timeSeries" ;
data:
 time = 1, 2, 3, 4 ;
 x = 20, 10, 0, 5, 10, 15, 20, 10, 0, 50, 40, 30 ;
 y = 0, 15, 0, 5, 10, 5, 20, 35, 20, 0, 15, 0 ;
 lat = 25, 7 ;
 lon = 10, 40 ;
 node_count = 9, 3 ;
 part_node_count = 3, 3, 3, 3 ;
 interior_ring = 0, 1, 0, 0 ;
 someData =
   1, 2, 3, 4,
   1, 2, 3, 4 ;</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reduction_of_dataset_size"><a class="anchor" href="#_reduction_of_dataset_size"></a>8. Reduction of Dataset Size</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are three methods for reducing dataset size: packing, lossless compression, and lossy compression.
By packing we mean altering the data in a way that reduces its precision (but has no other effect on accuracy).
By lossless compression we mean techniques that store the data more efficiently and result in no loss of precision or accuracy.
By lossy compression we mean techniques that store the data more efficiently and retain its precision but result in some loss in accuracy.</p>
</div>
<div class="paragraph">
<p>Lossless compression only works in certain circumstances, e.g., when a variable contains a significant amount of missing or repeated data values.
In this case it is possible to make use of standard utilities, e.g., UNIX <strong><code>compress</code></strong> or GNU <strong><code>gzip</code></strong>, to compress the entire file after it has been written.
In this section we offer an alternative compression method that is applied on a variable by variable basis.
This has the advantage that only one variable need be uncompressed at a given time.
The disadvantage is that generic utilities that don&#8217;t recognize the CF conventions will not be able to operate on compressed variables.</p>
</div>
<div class="sect2">
<h3 id="packed-data"><a class="anchor" href="#packed-data"></a>8.1. Packed Data</h3>
<div class="paragraph">
<p>At the current time the netCDF interface does not provide for packing data.
However a simple packing may be achieved through the use of the optional NUG defined attributes <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong>.
After the data values of a variable have been read, they are to be multiplied by the <strong><code>scale_factor</code></strong>, and have <strong><code>add_offset</code></strong> added to them.
If both attributes are present, the data are scaled before the offset is added.
When scaled data are written, the application should first subtract the offset and then divide by the scale factor.
The units of a variable should be representative of the unpacked data.</p>
</div>
<div class="paragraph">
<p>This standard is more restrictive than the NUG with respect to the use of the <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong> attributes; ambiguities and precision problems related to data type conversions are resolved by these restrictions.</p>
</div>
<div class="paragraph">
<p>When packed data is written, the <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong> attributes must be of the same type as the unpacked data, which must be either <strong><code>float</code></strong> or <strong><code>double</code></strong>. Data of type <strong><code>float</code></strong> must be packed into one of these types: <strong><code>byte</code></strong>, <strong><code>unsigned byte</code></strong>, <strong><code>short</code></strong>, <strong><code>unsigned short</code></strong>. Data of type <strong><code>double</code></strong> must be packed into one of these types: <strong><code>byte</code></strong>, <strong><code>unsigned byte</code></strong>, <strong><code>short</code></strong>, <strong><code>unsigned short</code></strong>, <strong><code>int</code></strong>, <strong><code>unsigned int</code></strong>.</p>
</div>
<div class="paragraph">
<p>When packed data is read, it should be unpacked to the type of the <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong> attributes, which must have the same type if both are present. For guidance only, we suggest that packed data which does not conform to the rules of this section regarding the types of the data variable and attributes should be unpacked to <strong><code>double</code></strong> type, in order to minimise the risk of loss of precision.</p>
</div>
<div class="paragraph">
<p>When data to be packed contains missing values the attributes that indicate missing values (<strong><code>_FillValue</code></strong>, <strong><code>valid_min</code></strong>, <strong><code>valid_max</code></strong>, <strong><code>valid_range</code></strong>) must be of the same data type as the packed data.
See <a href="#missing-data">Section 2.5.1, "Missing data, valid and actual range of data"</a> for a discussion of how applications should treat variables that have attributes indicating both missing values and transformations defined by a scale and/or offset.</p>
</div>
</div>
<div class="sect2">
<h3 id="compression-by-gathering"><a class="anchor" href="#compression-by-gathering"></a>8.2. Lossless Compression by Gathering</h3>
<div class="paragraph">
<p>To save space in the netCDF file, it may be desirable to eliminate points from data arrays that are invariably missing.
Such a compression can operate over one or more adjacent axes, and is accomplished with reference to a list of the points to be stored.
The list is constructed by considering a mask array that only includes the axes to be compressed, and then mapping this array onto one dimension without reordering.
The list is the set of indices in this one-dimensional mask of the required points.
In the compressed array, the axes to be compressed are all replaced by a single axis, whose dimension is the number of wanted points.
The wanted points appear along this dimension in the same order they appear in the uncompressed array, with the unwanted points skipped over.
Compression and uncompression are executed by looping over the list.</p>
</div>
<div class="paragraph">
<p>The list is stored as the coordinate variable for the compressed axis of the data variable.
Thus, the list variable and its dimension have the same name.
If any auxiliary coordinate variable has all the dimensions to be compressed, adjacent and in the same order as in the data variable, and if the auxiliary coordinate variable has missing data at all the points which are to be eliminated from the data variable, then the affected dimensions can optionally be replaced by the list dimension for the auxiliary coordinate variable just as for the data variable.
The list variable has a string attribute <strong><code>compress</code></strong>, <em>containing a blank-separated list of the dimensions which were affected by the compression in the order of the CDL declaration of the uncompressed array</em>.
The presence of this attribute identifies the list variable as such.
The list, the original dimensions and coordinate variables (including boundary variables), and the compressed variables with all the attributes of the uncompressed variables are written to the netCDF file.
The uncompressed variables can be reconstituted exactly as they were using this information.
The list variable must not have an associated boundary variable.</p>
</div>
<div id="horiz-compression-of-three-d-array-ex" class="exampleblock">
<div class="title">Example 8.1. Horizontal compression of a three-dimensional array</div>
<div class="content">
<div class="paragraph">
<p>We eliminate sea points at all depths in a longitude-latitude-depth array of soil temperatures.
In this case, only the longitude and latitude axes would be affected by the compression.
We construct a list <code>landpoint(landpoint)</code> containing the indices of land points.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dimensions:
  lat=73;
  lon=96;
  landpoint=2381;
  depth=4;
variables:
  int landpoint(landpoint);
    landpoint:compress="lat lon";
  float landsoilt(depth,landpoint);
    landsoilt:long_name="soil temperature";
    landsoilt:units="K";
  float depth(depth);
  float lat(lat);
  float lon(lon);
data:
  landpoint=363, 364, 365, ...;</pre>
</div>
</div>
<div class="paragraph">
<p>Since <code>landpoint(0)=363</code>, for instance, we know that <code>landsoilt(*,0)</code> maps on to point 363 of the original data with dimensions <code>(lat,lon)</code>.
This corresponds to indices <code>(3,75)</code>, i.e., <code>363 = 3*96 + 75</code>.</p>
</div>
</div>
</div>
<div id="compression-of-three-d-field-ex" class="exampleblock">
<div class="title">Example 8.2. Compression of a three-dimensional field</div>
<div class="content">
<div class="paragraph">
<p>We compress a longitude-latitude-depth field of ocean salinity by eliminating points below the sea-floor.
In this case, all three dimensions are affected by the compression, since there are successively fewer active ocean points at increasing depths.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>variables:
  float salinity(time,oceanpoint);
  int oceanpoint(oceanpoint);
    oceanpoint:compress="depth lat lon";
  float depth(depth);
  float lat(lat);
  float lon(lon);
  double time(time);</pre>
</div>
</div>
<div class="paragraph">
<p>This information implies that the salinity field should be uncompressed to an array with dimensions <code>(depth,lat,lon)</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>In <a href="#example-h.5">A single timeseries with time-varying deviations from a nominal point spatial location</a>, two auxiliary coordinate variables are compressed as described in this section, although their data variable is not.</p>
</div>
</div>
<div class="sect2">
<h3 id="compression-by-coordinate-subsampling"><a class="anchor" href="#compression-by-coordinate-subsampling"></a>8.3. Lossy Compression by Coordinate Subsampling</h3>
<div class="paragraph">
<p>For some applications the coordinates of a data variable can require considerably more storage than the data itself.
Space may be saved in the netCDF file by storing a subsample of the coordinates that describe the data.
The uncompressed coordinate and auxiliary coordinate variables can be reconstituted by interpolation, from the subsampled coordinate values to the domain of the data (i.e. the target domain).
This process will likely result in a loss in accuracy (as opposed to precision) in the uncompressed variables, due to rounding and approximation errors in the interpolation calculations, but it is assumed that these errors will be small enough to not be of concern to users of the uncompressed dataset.
The creator of the compressed dataset can control the accuracy of the reconstituted coordinates through the degree of subsampling and the choice of interpolation method, see <a href="#appendix-coordinate-subsampling">Appendix J, Coordinate Interpolation Methods</a>.</p>
</div>
<div class="paragraph">
<p>The subsampled coordinates are called <em>tie points</em> and are stored in
<em>tie point coordinate variables</em>.</p>
</div>
<div class="paragraph">
<p>In addition to the tie point coordinate variables themselves, metadata defining the coordinate interpolation method is stored in attributes of the data variable and of the associated <em>interpolation variable</em>.
The partitioning of metadata between the data variable and the interpolation variable has been designed to minimise redundancy and maximise the reusability of the interpolation variable within a dataset.</p>
</div>
<div class="paragraph">
<p>The metadata that define the interpolation formula and its inputs are complete, so that the results of the coordinate reconstitution process are well defined and of a predictable accuracy.</p>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas"><a class="anchor" href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas"></a>8.3.1. Tie Points and Interpolation Subareas</h4>
<div class="paragraph">
<p>Reconstitution of the uncompressed coordinate and auxiliary coordinate variables is based on interpolation.
To accomplish this, the target domain is segmented into smaller <em>interpolation subareas</em>, for each of which the interpolation method is applied independently.
For one-dimensional interpolation, an interpolation subarea is defined by two tie points, one at each end of the interpolation subarea; for two-dimensional interpolation, an interpolation subarea is defined by four tie points, one at each corner of a rectangular area aligned with the domain axes; etc.
For the reconstitution of the uncompressed coordinate and auxiliary coordinate variables within an interpolation subarea, the interpolation method is permitted to access its defining tie points, and no others.</p>
</div>
<div class="paragraph">
<p>As an interpolation method relies on the regularity and continuity of the coordinate values within each interpolation subarea, special attention must be given to the case when uncompressed coordinates contain discontinuities.
A discontinuity could be an overlap or a gap in the coordinates' coverage, or a change in cell size or cell alignment.
As an example, such discontinuities are common in remote sensing data and may be caused by combinations of the instrument scan motion, the motion of the sensor platform and changes in the instrument scan mode.
When discontinuities are present, the domain is first divided into multiple <em>continuous areas</em>, each of which is free of discontinuities.
When no discontinuities are present, the whole domain is a single continuous area.
Following this step, each continuous area is segmented into interpolation subareas.
The processes of generating interpolation subareas for a domain without discontinuities and for a domain with discontinuities is illustrated in <a href="#interpolation_subarea_generation">Figure 8.1</a>, and described in more detail in <a href="#appendix-coordinate-subsampling">Appendix J, Coordinate Interpolation Methods</a>.</p>
</div>
<div class="paragraph">
<p>For each <em>interpolated dimension</em>, i.e. a target domain dimension for which coordinate interpolation is required, the locations of the tie point coordinates are defined by a corresponding <em>tie point index variable</em>, which also indicates the locations of the continuous areas (<a href="#compression-by-coordinate-subsampling-tie-point-index-mapping">Section 8.3.7, "Tie Point Index Mapping"</a>).</p>
</div>
<div class="paragraph">
<p>The interpolation subareas within a continuous area do not overlap, ensuring that each coordinate of an interpolated dimension is computed from a unique interpolation subarea.
These interpolation subareas, however, share the tie point coordinates that define their common boundaries.
Such a shared tie point coordinate can only be located in one of a pair of adjacent interpolation subareas, which is always the first of the pair in index space.
For instance, in <a href="#interpolation_subarea_generation">Figure 8.1</a>, the interpolation subarea labelled <code>(0,0)</code> contains all four of its tie point coordinates, and the interpolation subarea <code>(0,1)</code> only contains two of them.
When applied for a given interpolation subarea, interpolation methods (such as those described in <a href="#appendix-coordinate-subsampling">Appendix J, Coordinate Interpolation Methods</a>) must ensure that reconstituted coordinate points are only generated inside the interpolation subarea being processed, even if some of the tie point coordinates lie outside of that interpolation subarea.</p>
</div>
<div class="paragraph">
<p>Adjacent interpolation subareas that are in different continuous areas never share tie point coordinates, as consequence of the grid discontinuity between them.
This results in a different number of tie point coordinates in the two cases shown in <a href="#interpolation_subarea_generation">Figure 8.1</a>.</p>
</div>
<div class="paragraph">
<p>For each interpolated dimension, the number of interpolation subareas is equal to the number of tie points minus the number of continuous areas.</p>
</div>
<div class="paragraph">
<p>Tie point coordinate variables for both coordinate and auxiliary coordinate variables must be defined as numeric data types and are not allowed to have missing values.</p>
</div>
<div id="interpolation_subarea_generation" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_interpolation_subarea_generation_process.svg" alt="ci interpolation subarea generation process" width="100%">
</div>
<div class="title">Figure 8.1. Process for generating the interpolation subareas for a grid without discontinuities and for a grid with discontinuities.</div>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-coordinate-interpolation-attribute"><a class="anchor" href="#compression-by-coordinate-subsampling-coordinate-interpolation-attribute"></a>8.3.2. Coordinate Interpolation Attribute</h4>
<div class="paragraph">
<p>To indicate that coordinate interpolation is required, a <strong><code>coordinate_interpolation</code></strong> attribute must be defined for a data variable.
This is a string attribute that both identifies the tie point coordinate variables, and maps non-overlapping subsets of them to their corresponding interpolation variables.
It is a blank-separated list of words of the form "<em>tie_point_coordinate_variable: [tie_point_coordinate_variable: &#8230;&#8203;] interpolation_variable [tie_point_coordinate_variable: [tie_point_coordinate_variable: &#8230;&#8203;] interpolation_variable &#8230;&#8203;]</em>".
For example, to specify that the tie point coordinate variables <code>lat</code> and <code>lon</code> are to be interpolated according to the interpolation variable <code>bi_linear</code> could be indicated with <code>lat: lon: bi_linear</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-interpolation-variable"><a class="anchor" href="#compression-by-coordinate-subsampling-interpolation-variable"></a>8.3.3. Interpolation Variable</h4>
<div class="paragraph">
<p>The method used to uncompress the tie point coordinate variables is described by an interpolation variable that acts as a container for the attributes that define the interpolation technique and the parameters that should be used.
The variable should be a scalar (i.e. it has no dimensions) of arbitrary type, and the value of its single element is immaterial.</p>
</div>
<div class="paragraph">
<p>The interpolation method must be identified in one of two ways.
Either by the <strong><code>interpolation_name</code></strong> attribute, which takes a string value that contains the method&#8217;s name, or else by the <strong><code>interpolation_description</code></strong> attribute, which takes a string value that contains a non-standardized description of the method.
These attributes must not be both set.</p>
</div>
<div class="paragraph">
<p>The valid values of <strong><code>interpolation_name</code></strong> are given in <a href="#appendix-coordinate-subsampling">Appendix J, Coordinate Interpolation Methods</a>.
This appendix describes the interpolation technique for each method, and optional interpolation variable attributes for configuring the interpolation process.</p>
</div>
<div class="paragraph">
<p>If a standardized interpolation name is not given, the interpolation variable must have an <strong><code>interpolation_description</code></strong> attribute defined instead, containing a description of the non-standardised interpolation (in a similar manner to a long name being used instead of a standard name).
This description is free text that can take any form (including fully qualified URLs, for example).
Whilst it is recommended that a standardised interpolation is provided, the alternative is provided to promote interoperability in cases where a well defined user community needs to use sophisticated interpolation techniques that may also be under development.</p>
</div>
<div class="paragraph">
<p>The definition of the interpolation method, however it is specified, may include instructions to treat groups of physically related coordinates simultaneously, if such tie points are present.
For example, there are cases where longitudes cannot be interpolated without considering the corresponding latitudes.
It is up to the interpolation description to describe how such coordinates are to be identified (e.g. it may be that such tie point coordinate variables require particular units or standard names).</p>
</div>
<div class="paragraph">
<p>Note that the interpolation method is always applied on a per interpolation subarea basis, for which the construction of the uncompressed coordinates may only access those tie points that define the extent of the of the interpolation subarea.</p>
</div>
<div class="paragraph">
<p>In addition to the <strong><code>interpolation_name</code></strong> and <strong><code>interpolation_description</code></strong> attributes described in this section, further attributes of the interpolation variable are described in <a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a> and <a href="#compression-by-coordinate-subsampling-interpolation-parameters">Section 8.3.8, "Interpolation Parameters"</a>, <a href="#compression-by-coordinate-subsampling-interpolation-of-cell-boundaries">Section 8.3.9, "Interpolation of Cell Boundaries"</a> and <a href="#compression-by-coordinate-subsampling-interpolation-method-implementation">Section 8.3.10, "Interpolation Method Implementation"</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-dimensions"><a class="anchor" href="#compression-by-coordinate-subsampling-dimensions"></a>8.3.4. Subsampled, Interpolated and Non-Interpolated Dimensions</h4>
<div class="paragraph">
<p>For each interpolation variable identified in the <strong><code>coordinate_interpolation</code></strong> attribute, all of the associated tie point coordinate variables must share the same set of one or more dimensions.
This set of dimensions must correspond to the set of dimensions of the uncompressed coordinate or auxiliary coordinate variables, such that each of these dimensions must be either the uncompressed dimension itself, or a dimension that is to be interpolated to the uncompressed dimension.</p>
</div>
<div class="paragraph">
<p>Dimensions of the tie point coordinate variable which are to be interpolated are called <em>subsampled dimensions</em>, and the corresponding data variable dimensions are called <em>interpolated dimensions</em>, while those for which no interpolation is required, being the same in the data variable and the tie point coordinate variable, are called <em>non-interpolated dimensions</em>.
The dimensions of a tie point coordinate variable must contain at least one  subsampled dimension, for each of which the corresponding interpolated dimension cannot be included.</p>
</div>
<div class="paragraph">
<p>The size of a subsampled dimension will be less than the size of the corresponding interpolated dimension.
For example, if the interpolated dimensions are <code>xc = 30</code> and <code>yc = 10</code>, interpolation could be applied in both of these dimensions, based on tie point variables of the dimensions <code>tp_xc = 4</code> and <code>tp_yc = 2</code>.
Here, <code>tp_xc</code> is the subsampled dimension related to the interpolated dimension <code>xc</code>, and <code>tp_yc</code> is the  subsampled dimension related to the interpolated dimension <code>yc</code>.</p>
</div>
<div class="paragraph">
<p>The presence of non-interpolated dimensions in the tie point coordinate variable impacts the interpolation process in that there must be a separate application of the interpolation method for each combination of indices of the non-interpolated dimensions.
For example, if <code>xc = 30</code> is an interpolated dimension and <code>yc = 10</code> is a non-interpolated dimension, interpolation could be applied in the <code>xc</code> dimension only, based on tie point variables that have the subsampled dimension <code>tp_xc = 4</code> and the non-interpolated dimension <code>yc = 10</code>.
The interpolation in the <code>xc</code> dimension would then be repeated for each of the 10 indices of the <code>yc</code> non-interpolated dimension.</p>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-tie-point-mapping-attribute"><a class="anchor" href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute"></a>8.3.5. Tie Point Mapping Attribute</h4>
<div class="paragraph">
<p>The <strong><code>tie_point_mapping</code></strong> attribute provides mapping at two levels.
It associates interpolated dimensions with the corresponding subsampled dimensions, and for each of these sets of corresponding dimensions, it associates index values of the interpolated dimension with index values of the subsampled dimension, thereby uniquely associating the tie points with their corresponding location in the target domain.</p>
</div>
<div class="paragraph">
<p>The mappings are stored in the interpolation variable&#8217;s <strong><code>tie_point_mapping</code></strong> attribute that contains a blank-separated list of words of the form <em>"interpolated_dimension: tie_point_index_variable subsampled_dimension [interpolation_subarea_dimension] [interpolated_dimension: &#8230;&#8203;]"</em>, the details of which are described in the following two sections.</p>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-tie-point-dimension-mapping"><a class="anchor" href="#compression-by-coordinate-subsampling-tie-point-dimension-mapping"></a>8.3.6. Tie Point Dimension Mapping</h4>
<div class="paragraph">
<p>The <strong><code>tie_point_mapping</code></strong> attribute defined above associates each interpolated dimension with its corresponding subsampled dimension and, if required, its corresponding <em>interpolation subarea dimension</em> that defines the number of interpolation subareas which partition the interpolated dimension.
It is only required to associate an interpolated dimension  to an interpolation subarea dimension in the case that the interpolation subarea dimension is spanned by an interpolation parameter variable, as described in <a href="#compression-by-coordinate-subsampling-interpolation-parameters">Section 8.3.8, "Interpolation Parameters"</a>.
If an interpolation subarea dimension is provided, then it must be the second of the two named dimensions following the tie point index variable.</p>
</div>
<div class="paragraph">
<p>Note that the size of an interpolation subarea dimension is, by definition, the size of the corresponding subsampled dimension minus the number of continuous areas.</p>
</div>
<div class="paragraph">
<p>An overview of the different dimensions for coordinate interpolation is shown in <a href="#ci_dimensions_overview">Figure 8.2</a>.</p>
</div>
<div id="ci_dimensions_overview" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_dimensions_overview.svg" alt="ci dimensions overview" width="80%">
</div>
<div class="title">Figure 8.2. Overview of the different dimensions for coordinate interpolation.</div>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-tie-point-index-mapping"><a class="anchor" href="#compression-by-coordinate-subsampling-tie-point-index-mapping"></a>8.3.7. Tie Point Index Mapping</h4>
<div class="paragraph">
<p>The <strong><code>tie_point_mapping</code></strong> attribute defined in <a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a> identifies for each subsampled dimension a tie point index variable.
The tie point index variable defines the relationship between the indices of the subsampled dimension and the indices of its corresponding interpolated dimension.</p>
</div>
<div class="paragraph">
<p>A tie point index variable is a one-dimensional integer variable that must span the subsampled dimension.
Each tie point index variable value is a zero-based index of the related interpolated dimension which maps an element of that interpolated dimension to the corresponding location in the subsampled dimension.</p>
</div>
<div class="paragraph">
<p>The tie point index values must be strictly monotonically increasing.
The location in index space of a continuous area boundary that relates to a grid discontinuity (<a href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas">Section 8.3.1, "Tie Points and Interpolation Subareas"</a>) is indicated by a pair of adjacent tie point index values differing by one.
In this case, each tie point index of the pair defines a boundary of a different continuous area.
As a consequence, any pair of tie point index values that defines an extent of an interpolation subarea must differ by two or more, i.e. in general, an interpolation subarea spans at least two points in each of its interpolated dimensions.
Interpolation subareas that are the first in index space of a continuous area, in one or more of the subsampled dimensions are, however, special.
These interpolation subareas contain tie points at both of the subarea boundaries with respect to those subsampled dimensions and so must span at least three points in the corresponding interpolated dimensions (see <a href="#interpolation_subarea_generation">Figure 8.1</a>).</p>
</div>
<div class="paragraph">
<p>For instance, in example <a href="#example-Two-dimensional-tie-point-interpolation">Two-dimensional tie point interpolation</a> the tie point coordinate variables represent a subset of the target domain and the tie point index variable <code>int x_indices(tp_xc)</code> contains the indices <code>x_indices = 0, 9, 19, 29</code> that identify the location in the interpolated dimension <code>xc</code> of size 30.
The corresponding <strong><code>tie_point_mapping</code></strong> attribute of the interpolation variable is <code>xc: x_indices tp_xc  yc: y_indices tp_yc</code>.</p>
</div>
<div id="example-Two-dimensional-tie-point-interpolation" class="exampleblock">
<div class="title">Example 8.3. Two-dimensional tie point interpolation</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  xc = 30;
  yc = 10;
  tp_xc = 4 ;
  tp_yc = 2 ;

variables:
  // Data variable
  float Temperature(yc, xc) ;
    Temperature:standard_name = "air_temperature" ;
    Temperature:units = "K" ;
    Temperature:coordinate_interpolation = "lat: lon: bl_interpolation" ;

  // Interpolation variable
  char bl_interpolation ;
    bl_interpolation:interpolation_name = "bi_linear" ;
    bl_interpolation:tie_point_mapping = "xc: x_indices tp_xc  yc: y_indices tp_yc"  ;
    bl_interpolation:computational_precision = "64" ;

  // tie point coordinate variables
  double lat(tp_yc, tp_xc) ;
    lat:units = "degrees_north" ;
    lat:standard_name = "latitude" ;
  double lon(tp_yc, tp_xc) ;
    lon:units = "degrees_east" ;
    lon:standard_name = "longitude" ;

  // Tie point index variables
  int y_indices(tp_yc) ;
  int x_indices(tp_xc) ;

data:
  x_indices = 0, 9, 19, 29 ;
  y_indices = 0, 9 ;
  ...</pre>
</div>
</div>
</div>
</div>
<div id="example-1d-interpolation-of-2d-domain" class="exampleblock">
<div class="title">Example 8.4. One-dimensional tie point interpolation of two-dimensional domain.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  xc = 30;
  yc = 10;
  tp_xc = 4 ;

variables:
  // Data variable
  float Temperature(yc, xc) ;
    Temperature:standard_name = "air_temperature" ;
    Temperature:units = "K" ;
    Temperature:coordinate_interpolation = "lat: lon: l_interpolation" ;

  // Interpolation variables
  char l_interpolation ;
    l_interpolation:interpolation_name = "linear" ;
    l_interpolation:tie_point_mapping = "xc: x_indices tp_xc"  ;
    l_interpolation:computational_precision = "64" ;

  // tie point coordinate variables
  double lat(yc, tp_xc) ;
    lat:units = "degrees_north" ;
    lat:standard_name = "latitude" ;
  double lon(yc, tp_xc) ;
    lon:units = "degrees_east" ;
    lon:standard_name = "longitude" ;

  // Tie point index variables
  int x_indices(tp_xc) ;

data:
  x_indices = 0, 9, 19, 29 ;
  ...</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-interpolation-parameters"><a class="anchor" href="#compression-by-coordinate-subsampling-interpolation-parameters"></a>8.3.8. Interpolation Parameters</h4>
<div class="paragraph">
<p>The interpolation variable attribute <strong><code>interpolation_parameters</code></strong> may be used to provide extra information to the interpolation process.
This attribute names <em>interpolation parameter variables</em> that provide values for coefficient terms in the interpolation equation, or for any other terms that configure the interpolation process.
The <strong><code>interpolation_parameters</code></strong> attribute takes a string value, the string comprising blank-separated elements of the form <code>"term: variable"</code>, where <code>term</code> is a case-insensitive keyword that defines one of the terms in the interpolation method&#8217;s definition given in <a href="#appendix-coordinate-subsampling">Appendix J, Coordinate Interpolation Methods</a>, and <code>variable</code> is the name of the interpolation parameter variable that contains the values for that term.
The order of elements is not significant.
Any numerical term that is specified as optional in <a href="#appendix-coordinate-subsampling">Appendix J, Coordinate Interpolation Methods</a> and is omitted from the <strong><code>interpolation_parameters</code></strong> attribute should be assumed to be zero.</p>
</div>
<div class="paragraph">
<p>The <strong><code>interpolation_parameters</code></strong> attribute may only be provided if allowed by the definition of the interpolation method.
Interpolation parameters may always be provided to non-standardized interpolation methods.</p>
</div>
<div class="paragraph">
<p>The interpolation parameters are not permitted to contain absolute coordinate information, such as additional tie points, but may contain relative coordinate information, for example an offset with respect to a tie point or with respect to a combination of tie points.
This is to ensure that interpolation methods are equally applicable to both coordinate and bounds interpolation.</p>
</div>
<div class="paragraph">
<p>The interpolation parameter variable dimensions must include, for all of the interpolated dimensions, either the associated subsampled dimension or the associated interpolation subarea dimension.
Additionally, any subset of zero or more of the non-interpolated dimensions of the tie point coordinate variable are permitted as interpolation parameter variable dimensions.</p>
</div>
<div class="paragraph">
<p>The application of an interpolation parameter variable is independent of its non-interpolated dimensions, but depends on its set of subsampled dimensions and interpolation subarea dimensions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the set only contains subsampled dimensions, then the variable provides values for every tie point and therefore equally applicable to the interpolation subareas that share that tie point, see example a) in <a href="#ci_interpolation_parameters">Figure 8.3</a>;</p>
</li>
<li>
<p>If the set only contains interpolation subarea dimensions, then the variable provides values for every interpolation subarea and therefore only applicable to that interpolation subarea, see example b) in <a href="#ci_interpolation_parameters">Figure 8.3</a>;</p>
</li>
<li>
<p>If the set contains both subsampled dimensions and interpolation subarea dimensions, then the variable’s values are to be shared by the interpolation subareas that are adjacent along each of the specified subsampled dimensions.
This case is akin to the values being defined at the interpolation subarea boundaries, and therefore equally applicable to the interpolation subareas that share that boundary, see example c) and d) in <a href="#ci_interpolation_parameters">Figure 8.3</a>;</p>
</li>
</ul>
</div>
<div id="ci_interpolation_parameters" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_interpolation_coefficients.svg" alt="ci interpolation coefficients" width="100%">
</div>
<div class="title">Figure 8.3. Through combination of dimensions, interpolation parameter variables may provide values for a) interpolation subareas sharing a tie point, b) each interpolation subarea,  c) and d) interpolation subareas sharing a boundary.</div>
</div>
<div id="example-VIIRS" class="exampleblock">
<div class="title">Example 8.5. Multiple interpolation variables with interpolation parameter attributes.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions :
  // VIIRS I-Band (375 m resolution imaging)
  track = 1536 ;
  scan = 6400 ;
  // Tie points and interpolation subareas
  tp_track = 96 ;  // 48 VIIRS scans
  tp_scan = 205 ;
  subarea_track = 48 ;   // track interpolation subarea
  subarea_scan= 200 ;    // scan interpolation subarea
  // Time, stored at scan-start and scan-end of each scan
  tp_time_scan = 2;

variables:
  // VIIRS I-Band Channel 04
  float I04_radiance(track, scan) ;
    I04_radiance:coordinate_interpolation = "lat: lon: tp_interpolation  t: time_interpolation" ;
    I04_radiance:standard_name = "toa_outgoing_radiance_per_unit_wavelength" ;
    I04_radiance:units = "W m-2 sr-1 m-1" ;
  float I04_brightness_temperature(track, scan) ;
    I04_brightness_temperature:coordinate_interpolation = "lat: lon: tp_interpolation  t: time_interpolation" ;
    I04_brightness_temperature:standard_name = "brightness_temperature" ;
    I04_brightness_temperature:units = "K" ;

  // Interpolation variable
  char tp_interpolation ;
    tp_interpolation:interpolation_name = "bi_quadratic_latitude_longitude" ;
    tp_interpolation:tie_point_mapping = "track: track_indices tp_track subarea_track
                                          scan: scan_indices tp_scan subarea_scan" ;
    tp_interpolation:interpolation_parameters =
         "ce1: ce1  ca2: ca2  ce3: ce3 interpolation_subarea_flags: interpolation_subarea_flags" ;
    tp_interpolation:computational_precision = "32" ;

  // Interpolation parameters
  short ce1(tp_track , subarea_scan) ;
  short ca2(subarea_track , tp_scan) ;
  short ce3(subarea_track, subarea_scan) ;
  byte interpolation_subarea_flags(subarea_track , subarea_scan) ;
    interpolation_subarea_flags:valid_range = 1b, 7b ;
    interpolation_subarea_flags:flag_masks = 1b, 2b, 4b ;
    interpolation_subarea_flags:flag_meanings =
         "location_use_3d_cartesian
          sensor_direction_use_3d_cartesian
          solar_direction_use_3d_cartesian" ;

  // Tie point index variables
  int track_indices(tp_track) ;   // shared by tp_interpolation and time_interpolation
  int scan_indices(tp_scan) ;
  int time_scan_indices(tp_time_scan)

  // Tie points
  float lat(tp_track, tp_scan) ;
    lat:standard_name = "latitude" ;
    lat:units = "degrees_north" ;
  float lon(tp_track, tp_scan) ;
    lon:standard_name = "longitude" ;
    lon:units = "degrees_east" ;

  // Time interpolation variable
  char time_interpolation ;
    time_interpolation:interpolation_name = "bi_linear" ;
    time_interpolation:tie_point_mapping = "track: track_indices tp_track scan: time_scan_indices tp_time_scan"  ;
    time_interpolation:computational_precision = "64" ;

  // Time tie points
  double t(tp_track, tp_time_scan) ;
    t:standard_name = "time" ;
    t:units = "days since 1990-1-1 0:0:0" ;</pre>
</div>
</div>
<div class="paragraph">
<p>This example demonstrates the use of multiple interpolation variables, the reusability of the interpolation variable between data variables of different dimensions and the use of the interpolation parameter attribute.</p>
</div>
</div>
</div>
<div id="example-grid-mapping-and-interpolation-with-time-not-interpolated" class="exampleblock">
<div class="title">Example 8.6. Combining a grid mapping and coordinate interpolation, with time as a non-interpolated dimension.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  y = 228;
  x = 306;
  time = 41;

  // Tie point dimensions
  tp_y = 58;
  tp_x = 52;

variables:
  // Data variable
  float Temperature(time, y, x) ;
    Temperature:standard_name = "air_temperature" ;
    Temperature:units = "K" ;
    Temperature:grid_mapping = "lambert_conformal" ;
    Temperature:coordinate_interpolation = "lat: lon: bi_linear x: linear_x y: linear_y" ;

  int lambert_conformal ;
    lambert_conformal:grid_mapping_name = "lambert_conformal_conic" ;
    lambert_conformal:standard_parallel = 25.0 ;
    lambert_conformal:longitude_of_central_meridian = 265.0 ;
    lambert_conformal:latitude_of_projection_origin = 25.0 ;

  // Interpolation variables
  char bi_linear ;
    bi_linear:interpolation_name = "bi_linear" ;
    bi_linear:tie_point_mapping = "y: y_indices tp_y  x: x_indices tp_x"  ;
    bi_linear:computational_precision = "64" ;

  char linear_x ;
    linear_x:interpolation_name = "linear" ;
    linear_x:tie_point_mapping = "x: x_indices tp_x" ;
    linear_x:computational_precision = "64" ;

  char linear_y ;
    linear_y:interpolation_name = "linear" ;
    linear_y:tie_point_mapping = "y: y_indices tp_y" ;
    linear_y:computational_precision = "64" ;

  // tie point coordinate variables
  double time(time) ;
    time:standard_name = "time" ;
    time:units = "days since 2021-03-01" ;
  double y(time, tp_y) ;
    y:units = "km" ;
    y:standard_name = "projection_y_coordinate" ;
  double x(time, tp_x) ;
    x:units = "km" ;
    x:standard_name = "projection_x_coordinate" ;
  double lat(time, tp_y, tp_x) ;
    lat:units = "degrees_north" ;
    lat:standard_name = "latitude" ;
  double lon(time, tp_y, tp_x) ;
    lon:units = "degrees_east" ;
    lon:standard_name = "longitude" ;

  // Tie point index variables
  int y_indices(tp_y) ;
    y_indices:long_name = "Mapping of y dimension to its ",
                          "corresponding tie point dimension" ;
  int x_indices(tp_x) ;
    x_indices:long_name = "Mapping of x dimension to its ",
                          "corresponding tie point dimension" ;</pre>
</div>
</div>
<div class="paragraph">
<p>In this the projection coordinates are two-dimensional, but are only linearly interpolated in one of their dimensions - the one which is given by the <strong><code>tie_point_mapping</code></strong> attribute.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-interpolation-of-cell-boundaries"><a class="anchor" href="#compression-by-coordinate-subsampling-interpolation-of-cell-boundaries"></a>8.3.9. Interpolation of Cell Boundaries</h4>
<div class="paragraph">
<p>Coordinates may have cell bounds.
For the case that the reconstituted cells are contiguous and have exactly two cell bounds along each interpolated dimension, cell bounds of interpolated dimensions can be stored as <em>bounds tie points</em> and reconstituted through interpolation.
In this process, the coordinate tie points are a prerequisite for the bounds tie points and the same interpolation method used for the coordinate interpolation is used for the bounds interpolation.</p>
</div>
<div class="paragraph">
<p>For the reconstituted coordinates, cell bounds are stored separately for each coordinate point, as shown in the left part of <a href="#figure_interpolation_of_cell_boundaries">Figure 8.4</a> for the example of 2D bounds.
Since the cell bounds are contiguous, bounds points of adjacent cells will coincide and so the full set of bounds points may be represented as a grid, comparable to the coordinate points grid.
In the middle part of <a href="#figure_interpolation_of_cell_boundaries">Figure 8.4</a>, both the reconstituted bounds points grid and the reconstituted coordinate points grid are shown for a continuous area, where each bounds point may be shared by up to four cells.</p>
</div>
<div class="paragraph">
<p>Bounds interpolation uses the same tie point index variables and therefore the same tie point cells as coordinate interpolation.
One of the vertices of each coordinate tie point cell is chosen as the bounds tie point for the cell.
It is selected as the vertex of the tie point cell that is the closest to the boundary of the interpolation subarea with respect to each interpolated dimension.
For the example of 2D bounds, the resulting set of bounds tie points are marked in <a href="#figure_interpolation_of_cell_boundaries">Figure 8.4</a>, where the selected vertices are those closest to the corners of the interpolation subareas.</p>
</div>
<div class="paragraph">
<p>Note that within a continuous area, there is one more reconstituted bounds point than there are reconstituted coordinate points in each dimension.
For this reason, a  virtual <em>interpolated bounds dimension</em> is introduced for each dimension, having a size equal to the size of the interpolated dimension plus one.
This dimension is used for solely descriptive purposes, and is not required in a compressed dataset.</p>
</div>
<div id="figure_interpolation_of_cell_boundaries" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_bounds_interpolation.svg" alt="ci bounds interpolation" width="100%">
</div>
<div class="title">Figure 8.4. Example of 2D bounds interpolation showing the bounds tie points and reconstituted bound points within a continuous area consisting of four interpolation subareas. The dimensions are shown for one of the two axes only. The index relationship between coordinate point indices and the related bound points indices is indicated.</div>
</div>
<div class="paragraph">
<p>Both the process of compressing bounds and the process of uncompressing bounds requires the steps to be carried out for a full continuous area, however, individual continuous areas can be processed independently.
In the following description of these processes, indices relative to the origin of each continuous area are used for the interpolated dimension and the interpolated bounds dimension.
Consequently, for both coordinate tie points and bounds tie points, the first point in index space of the continuous area has got index 0 in all the interpolated dimensions and interpolated bounds dimensions, respectively.</p>
</div>
<div class="paragraph">
<p>Note that the numbering of the bounds <code>B0</code>, <code>B1</code>, etc, in this section is identical to the numbering in <a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a>.</p>
</div>
<div class="paragraph">
<p>A bounds tie point is located in the same interpolation subarea  as its corresponding coordinate tie point.
The interpolation subareas do not overlap, ensuring that each bound point is computed from a unique interpolation subarea, see also the description of interpolation subareas in <a href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas">Section 8.3.1, "Tie Points and Interpolation Subareas"</a>.
That bounds are computed only once ensures that the reconstituted bounds are contiguous.</p>
</div>
<div class="paragraph">
<p>For the generation of bounds tie points as part of the process of compressing bounds, the indices of the corresponding coordinate tie points are available in the tie point index variables, see <a href="#compression-by-coordinate-subsampling-tie-point-index-mapping">Section 8.3.7, "Tie Point Index Mapping"</a>.</p>
</div>
<div id="compressing_one_dimensional" class="paragraph">
<p><strong>Compressing one-dimensional coordinate bounds</strong><br>
In the one-dimensional case, a coordinate point at index <code>i</code> in the interpolated dimension will be bounded by the two bounds:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>B0 = (n0) = (i)
B1 = (n1) = (i+1)</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>n</code> is the bound index in the interpolated bound dimension.</p>
</div>
<div class="paragraph">
<p>For one-dimensional bound interpolation, an interpolation subarea is defined by two bounds tie points.
The full set of bounds tie points is formed by appending, for each continuous area of the domain, the bound point <code>B0</code> of the first coordinate tie points of the continuous area, followed by the bound points <code>B1</code> of all subsequent coordinate tie point of the continuous area.</p>
</div>
<div id="compressing_two_dimensional" class="paragraph">
<p><strong>Compressing two-dimensional coordinate bounds</strong><br>
In the two-dimensional case, a coordinate point at indices <code>(j, i)</code> in the interpolated dimension will be bounded by the four bounds:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>B0 = (n0, m0) = (j, i)
B1 = (n1, m1) = (j, i+1)
B3 = (n3, m3) = (j+1, i)
B2 = (n2, m2) = (j+1, i+1)</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>(n, m)</code> are the bounds point indices in the interpolated bound dimensions.</p>
</div>
<div class="paragraph">
<p>For two-dimensional bound interpolation, an interpolation subarea is defined by four bounds tie points.
The full set of bounds tie points is formed by appending, for each continuous area of the domain, the bound point <code>B0</code> of the coordinate tie point at origin the of the continuous area <code>(0, 0)</code>, followed by the bound points <code>B1</code> of all remaining coordinate tie point of the continuous area with index <code>j = 0</code>, followed by the bound points <code>B3</code> of all remaining coordinate tie point of the continuous area with index <code>i = 0</code>, followed by the bound points <code>B2</code> of all remaining coordinate tie point of the continuous area.</p>
</div>
<div class="paragraph">
<p><strong>Bounds Tie Point Attribute and Bounds Tie Point Variable</strong><br>
A <strong><code>bounds_tie_points</code></strong> attribute must be defined for each tie point coordinate variable corresponding to reconstituted coordinates with cell boundaries.
It is a single word of the form <em>“bounds_tie_point_variable”</em> that identifies a bounds tie point variable, containing a bounds tie point coordinate value for each tie point stored in its tie point coordinate variable, and therefore the bounds tie point variable has the same set of dimensions as its tie point coordinate variable.
An example of the usage of the <strong><code>bounds_tie_points</code></strong> is shown in <a href="#example-interpolation-of-cell-boundaries">Interpolation of 2D Cell Boundaries corresponding to [figure_interpolation_of_cell_boundaries]</a>.
Since a bounds tie point variable is considered to be part of a tie point coordinate variable’s metadata, it is not necessary to provide it with attributes such as long_name and units, following the same rules as for the bounds of an uncompressed coordinate variable, see <a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a>.</p>
</div>
<div class="paragraph">
<p><strong>Uncompressing coordinate bounds</strong><br>
The reconstitution of the full set of bounds from the bounds tie point is a two-step process.
In a first step, which must be carried out for a full continuous area at a time, each bound point is reconstituted by interpolation between the bounds tie points within each interpolation subarea, using the same interpolation method as defined for the ordinary tie points.
This step results in a grid of bound points spanning the interpolated bound dimensions.
In a second step the reconstituted bounds vertices are replicated to the boundary variables of the reconstituted coordinates.</p>
</div>
<div class="paragraph">
<p><strong>Uncompressing one-dimensional coordinate bounds</strong><br>
For one-dimensional coordinate bounds, in the second step of the process, for each index <code>i</code> of the interpolated dimension, the two bounds of the boundary variable are set to the value of the interpolated bounds point grid at the indices <code>B0</code>  and <code>B1</code>, respectively, where the indices are defined above under <a href="#compressing_one_dimensional">"Compressing one-dimensional coordinate bounds"</a>.</p>
</div>
<div class="paragraph">
<p><strong>Uncompression of two-dimensional coordinate bounds</strong><br>
For two-dimensional coordinate bounds, in the second step of the process, for each index pair <code>(j, i)</code> of the interpolated dimension, the four bounds of the boundary variable is set to the value of the interpolated bounds point grid at index pairs <code>B0</code>, <code>B1</code>, <code>B2</code> and <code>B3</code>, respectively, where the index pairs are defined above under <a href="#compressing_two_dimensional">"Compressing two-dimensional coordinate bounds"</a>.</p>
</div>
<div id="example-interpolation-of-cell-boundaries" class="exampleblock">
<div class="title">Example 8.7. Interpolation of 2D Cell Boundaries corresponding to <a href="#figure_interpolation_of_cell_boundaries">[figure_interpolation_of_cell_boundaries]</a></div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>dimensions:
  ic = 10;
  itp = 3;

  jc = 10;
  jtp = 3;

variables:
  // Data variable
  float Temperature(jc, ic) ;
    Temperature:standard_name = "air_temperature" ;
    Temperature:units = "K" ;
    Temperature:coordinate_interpolation = "lat: lon: bl_interpolation" ;

  // Interpolation variable
  char bl_interpolation ;
    bl_interpolation:interpolation_name = "bi_linear" ;
    bl_interpolation:tie_point_mapping = "ic: i_indices itp  jc: j_indices jtp"  ;
    bl_interpolation:computational_precision = "64" ;

  // Tie point index variables
  int i_indices(itp) ;
  int j_indices(jtp) ;

  // Tie point coordinate variables
  double lat(jtp, itp) ;
    lat:units = "degrees_north" ;
    lat:standard_name = "latitude" ;
    lat:bounds_tie_points = "lat_bounds" ;

  double lon(jtp, itp) ;
    lon:units = "degrees_east" ;
    lon:standard_name = "longitude" ;
    lon:bounds_tie_points = "lon_bounds" ;

  // Bounds tie point variables
  double lat_bounds(jtp, itp) ;
  double lon_bounds(jtp, itp) ;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="compression-by-coordinate-subsampling-interpolation-method-implementation"><a class="anchor" href="#compression-by-coordinate-subsampling-interpolation-method-implementation"></a>8.3.10. Interpolation Method Implementation</h4>
<div class="paragraph">
<p>The accuracy of the reconstituted coordinates depends mainly on the degree of subsampling and the choice of interpolation method, both of which are set by the creator of the dataset.
The accuracy and reproducibility will also depend, however, on how the interpolation method is implemented and on the computer platform carrying out the computations.
To facilitate a good level of reproducibility of the processes of compressing and uncompressing coordinates, requirements are placed on the specification of interpolation methods and on stating the computational precision.</p>
</div>
<div class="paragraph">
<p><strong>Interpolation Method Specification</strong><br>
The interpolation method specifications provided in <a href="#appendix-coordinate-subsampling">Appendix J, Coordinate Interpolation Methods</a> are complete in their description of steps and formulas required for compressing and uncompressing coordinate data. Formulas are structured in a way that encourages an efficient implementation of the interpolation method in a high-level programming language.
For instance, expressions that are constant within a computational loop should be externalised from that loop.</p>
</div>
<div class="paragraph">
<p><strong>Computational Precision Attribute</strong><br>
The data creator shall specify the floating-point arithmetic precision used during the preparation and validation of the compressed coordinates by setting the interpolation variable’s <strong><code>computational_precision</strong></code> attribute to one of the following values:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 23.0769%;">
<col style="width: 76.9231%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong> Value </strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong> Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"32"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32-bit floating-point arithmetic, comparable to the binary32 standard in [<a href="#IEEE_754">[IEEE_754]</a>]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">"64"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64-bit floating-point arithmetic, comparable to the binary64 standard in [<a href="#IEEE_754">[IEEE_754]</a>]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Using the given computational precision in the interpolation computations is a necessary, but not sufficient, condition for the data user to be able to reconstitute the coordinates to an accuracy comparable to that intended by the data creator.
For instance, a <strong><code>computational_precision</strong></code> value of <strong><code>"64"</strong></code> would specify that, using the same implementation and hardware as the creator of the compressed dataset, sufficient accuracy could not be reached when using a floating-point precision lower than 64-bit floating-point arithmetic in the interpolation computations required to reconstitute the coordinates.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="discrete-sampling-geometries"><a class="anchor" href="#discrete-sampling-geometries"></a>9. Discrete Sampling Geometries</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides representations for <strong>discrete sampling geometries</strong>, such as time series, vertical profiles and trajectories.
Discrete sampling geometry datasets are characterized by a dimensionality that is lower than that of the space-time region that is sampled; discrete sampling geometries are typically &#8220;paths&#8221; through space-time.  </p>
</div>
<div class="sect2">
<h3 id="_features_and_feature_types"><a class="anchor" href="#_features_and_feature_types"></a>9.1. Features and feature types</h3>
<div class="paragraph">
<p>Each type of discrete sampling geometry (point, time series, profile or trajectory) is defined by the relationships among its spatiotemporal coordinates.
We refer to the type of discrete sampling geometry as its <strong>featureType</strong>.
The term &#8220; <strong>feature</strong> &#8221; refers herein to a single instance of the <strong>discrete sampling geometry</strong> (such as a single time series).
The representation of such features in a CF dataset was supported previous to the introduction of this chapter using a particular convention, which is still supported (that described by section 9.3.1).
This chapter describes further conventions which offer advantages of efficiency and clarity for storing a collection of features in a single file.
When using these new conventions, <em>the features contained within a collection must always be of the same type; and all the collections in a CF file must be of the same feature type</em>.
(Future versions of CF may allow mixing of multiple feature types within a file.)
Table 9.1 presents the feature types covered by this chapter.
Details and examples of storage of each of these feature types are provided in Appendix H, as indicated in the table.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">featureType</th>
<th class="tableblock halign-left valign-top" colspan="2">Description of a single feature with this discrete sampling geometry</th>
<th class="tableblock halign-left valign-top">Link</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<th class="tableblock halign-left valign-top"><p class="tableblock">Form of a data variable containing values defined on a collection of these features</p></th>
<th class="tableblock halign-left valign-top"><p class="tableblock">Mandatory space-time coordinates for a collection of these features</p></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>point</strong></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">a single data point (having no implied coordinate relationship to other points)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data(i)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x(i) y(i)  t(i)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#point-data">Section H.1, "Point Data"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>timeSeries</strong></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">a series of data points at the same spatial location with time values in strict monotonically increasing order</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data(i,o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x(i) y(i) t(i,o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#time-series-data">Section H.2, "Time Series Data"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>trajectory</strong></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">a series of data points along a path through space with time values in strict monotonically increasing order</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data(i,o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x(i,o) y(i,o) t(i,o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#trajectory-data">Section H.4, "Trajectory Data"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>profile</strong></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">an ordered set of data points along a vertical line at a fixed horizontal position and fixed time</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data(i,o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x(i) y(i) z(i,o) t(i)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#profile-data">Section H.3, "Profile Data"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>timeSeriesProfile</strong></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">a series of profile features at the same horizontal position with time values in strict monotonically increasing order</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data(i,p,o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x(i) y(i) z(i,p,o) t(i,p)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#time-series-profiles">Section H.5, "Time Series of Profiles"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>trajectoryProfile</strong></p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">a series of profile features located at points ordered along a trajectory</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">data(i,p,o)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">x(i,p) y(i,p) z(i,p,o) t(i,p)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#trajectory-profiles">Section H.6, "Trajectory of Profiles"</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Table 9.1.</strong> Logical structure and mandatory coordinates for discrete sampling geometry featureTypes.
Other space-time coordinates may be included which are not mandatory.</p>
</div>
<div class="paragraph">
<p>In Table 9.1 the spatial coordinates x and y typically refer to longitude and latitude but other horizontal coordinates could also be used (see sections 4 and 5.6).  
The spatial coordinate z refers to vertical position.
The time coordinate is indicated as t.
The space-time coordinates that are indicated for each feature are mandatory.
However a featureType may also include other space-time coordinates which are not mandatory (notably the z coordinate, and for instance a <strong><code>forecast_reference_time</code></strong> coordinate in addition to a mandatory time coordinate).
The array subscripts that are shown illustrate only the <em>logical</em> structure of the data.
The subscripts found in actual CF files are determined by the specific type of representations (see section 9.3).</p>
</div>
<div class="paragraph">
<p>The designation of dimensions as mandatory precludes the encoding of data variables where geo-positioning cannot be described as a discrete point location.
Problematic examples include:  </p>
</div>
<div class="ulist">
<ul>
<li>
<p>time series that refer to a geographical region (e.g. the northern hemisphere), a volume (e.g. the troposphere), or a geophysical quantity in which geolocation information is inherent (e.g. the Southern Oscillation Index (SOI) is the difference between values at two point locations);</p>
</li>
<li>
<p>vertical profiles that similarly represent geographically area-averaged values;  and</p>
</li>
<li>
<p>paths in space that indicate a geographically located feature, but lack a suitable time coordinate (e.g. a meteorological front).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Future versions of CF will generalize the concepts of geolocation to encompass these cases.
As of CF version 1.6 such data can be stored using the representations that are documented here by two means: 1) by utilizing the orthogonal multidimensional array representation and omitting the featureType attribute; or 2) by assigning arbitrary coordinates to the mandatory dimensions.
For example a globally-averaged latitude position (90s to 90n) could be represented arbitrarily (and poorly) as a latitude position at the equator.</p>
</div>
</div>
<div class="sect2">
<h3 id="collections-instances-elements"><a class="anchor" href="#collections-instances-elements"></a>9.2. Collections, instances and elements</h3>
<div class="paragraph">
<p>In Table 9.1 the dimension with subscript i identifies a particular feature within a collection of features.
It is called the <strong>instance dimension</strong>.
One-dimensional variables in a Discrete Geometry CF file, which have <em>only</em> this dimension (such as x(i), y(i) and z(i) for a timeseries), are <strong>instance variables</strong>.
Instance variables provide the metadata that differentiates individual features.</p>
</div>
<div class="paragraph">
<p>The subscripts o and p distinguish the data elements that compose a single feature.
For example in a collection of <strong>timeSeries</strong> features, each time series instance, i, has data values at various times, o.
In a collection of <strong>profile</strong> features, the subscript, o, provides the index position along the vertical axis of each profile instance.
We refer to data values in a feature as its <strong>elements</strong>, and to the dimensions of o and p as <strong>element dimensions</strong>.
Each feature can have its own set of element subscripts o and p.
For instance, in a collection of timeSeries features, each individual timeSeries can have its own set of times.
The notation t(i,o) means there is a set of times with subscripts o for the elements of each feature i.  
Feature instances within a collection need not have the same numbers of elements.
If the features do all have the same number of elements, and the sequence of element coordinates is identical for all features, savings in simplicity and space are achievable by storing only one copy of these coordinates.
This is the essence of the orthogonal multidimensional representation (see section 9.3.1).</p>
</div>
<div class="paragraph">
<p>If there is only a single feature to be stored in a data variable, there is no need for an instance dimension and it is permitted to omit it.
The data will then be one-dimensional, which is a special (degenerate) case of the multidimensional array representation.
The instance variables will be scalar coordinate variables; the data variable and other auxiliary coordinate variables will have only an element dimension and not have an instance dimension, e.g. data(o) and t(o) for a single timeSeries.</p>
</div>
</div>
<div class="sect2">
<h3 id="representations-features"><a class="anchor" href="#representations-features"></a>9.3. Representations of collections of features in data variables</h3>
<div class="paragraph">
<p>The individual features within a collection need not necessarily contain the same number of elements.  
For instance observed in situ time series will commonly contain unique numbers of time points, reflecting different deployment dates of the instruments.  
Other data sources, such as the output of numerical models, may commonly generate features of identical size.
CF offers multiple representations to allow the storage to be optimized for the character of the data.
Four types of representation are utilized in this chapter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>two <strong>multidimensional array representations</strong>, in which each feature instance is allocated the identical amount of storage space.
In these representations the instance dimension and the element dimension(s) are distinct CF coordinate axes (typical of coordinate axes discussed in chapter 4); and</p>
</li>
<li>
<p>two <strong>ragged array representations</strong>, in which each feature is provided with the minimum amount of space that it requires.
In these representations the instances of the individual features are stacked sequentially along the same array dimension as the elements of the features; we refer to this combined dimension as the <strong>sample dimension</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the multidimensional array representations, data variables have both an instance dimension and an element dimension.
The dimensions may be given in any order.
If there is a need for either the instance or an element dimension to be the netCDF unlimited dimension (so that more features or more elements can be appended), then that dimension must be the outer dimension of the data variable i.e. the leading dimension in CDL.</p>
</div>
<div class="paragraph">
<p>In the ragged array representations, the instance dimension (<strong><code>i</code></strong>), which sequences the individual features within the collection, and the element dimension, which sequences the data elements of each feature (<strong><code>o</code></strong> and <strong><code>p</code></strong>), both occupy the same dimension (the sample dimension).  
If the sample dimension is the netCDF unlimited dimension, new data can be appended to the file.  </p>
</div>
<div class="paragraph">
<p>In all representations, the instance dimension (which is also the sample dimension in ragged representations) may be set initially to a size that is arbitrarily larger than what is required for the features which are available at the time that the file is created.  
Allocating unused array space in this way (pre-filled with missing values&#8201;&#8212;&#8201;see also section 9.6, <em>Missing data</em>), can be useful as a means to reserve space that will be available to add features at a later time.</p>
</div>
<div class="sect3">
<h4 id="_orthogonal_multidimensional_array_representation"><a class="anchor" href="#_orthogonal_multidimensional_array_representation"></a>9.3.1. Orthogonal multidimensional array representation</h4>
<div class="paragraph">
<p>The <strong>orthogonal multidimensional array representation</strong>, the simplest representation, can be used if each feature instance in the collection has identical coordinates along the element axis of the features.
For example, for a collection of the timeSeries that share a common set of times, or a collection of profiles that share a common set of vertical levels, this is likely to be the natural representation to use.
In both examples, there will be longitude and latitude coordinate variables, x(i), y(i), that are one-dimensional and defined along the instance dimension.</p>
</div>
<div class="paragraph">
<p>Table 9.2 illustrates the storage of a data variable using the orthogonal multidimensional array representation.
The data variable holds a collection of 4 features.
The individual features, distinguished by color, are sequenced along the horizontal axis by the instance dimension indices, i1, i2, i3, i4.
Each instance contains three elements, sequenced along the vertical with element dimension indices, o1, o2, o3.
The i and o subscripts would be interchanged (i.e. Table 9.2 would be transposed) if the element dimension were the netCDF unlimited dimension.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o1)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o1)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o1)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o2)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o2)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o2)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o3)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o3)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o3)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o3)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table 9.2  The storage of a data variable using the orthogonal multidimensional array representation (subscripts in CDL order).</p>
</div>
<div class="paragraph">
<p>The instance variables of a dataset corresponding to Table 9.2 will be one-dimensional with size 4 (for example, the latitude locations of timeSeries),</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">lat(i1)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">lat(i2)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">lat(i3)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">lat(i4)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>and the element coordinate axis will be one-dimensional with size 3 (for example, the time</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 25%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #dddddd;"><p class="tableblock">time(o1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #dddddd;"><p class="tableblock">time(o2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #dddddd;"><p class="tableblock">time(o3)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>coordinates that are shared by all of the timeSeries).
This representation is consistent with the multidimensional fields described in chapter 5; the characteristic that makes it atypical from chapter 5 (though not incompatible) is that the instance dimension is a discrete axis (see section 4.5).</p>
</div>
</div>
<div class="sect3">
<h4 id="_incomplete_multidimensional_array_representation"><a class="anchor" href="#_incomplete_multidimensional_array_representation"></a>9.3.2.  Incomplete multidimensional array representation</h4>
<div class="paragraph">
<p>The <strong>incomplete multidimensional array representation</strong> can used if the features within a collection do not all have the same number of elements, but sufficient storage space is available to allocate the number of elements required by the longest feature to all features.
That is, features that are shorter than the longest feature must be padded with missing values to bring all instances to the same storage size.
This representation sacrifices storage space to achieve simplicity for reading and writing.  </p>
</div>
<div class="paragraph">
<p>Table 9.3 illustrates the storage of a data variable using the orthogonal multidimensional array representation.  
The data variable holds a collection of 4 features.
The individual features, distinguished by color, are sequenced by the instance dimension indices, i1, i2, i3, i4.
The instances contain respectively 2, 4, 3 and 6 elements, sequenced by the element dimension index with values of o1, o2, o3, &#8230;&#8203; .
The i and o subscripts would be interchanged (i.e. Table 9.3 would be transposed) if the element dimension were the netCDF unlimited dimension.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock"> (i1, o1)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o1)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o1)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o2)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o2)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o2)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o3)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o3)</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o3)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o4)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o6)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table 9.3.   The storage of data using the incomplete multidimensional array representation (subscripts in CDL order).</p>
</div>
</div>
<div class="sect3">
<h4 id="_contiguous_ragged_array_representation"><a class="anchor" href="#_contiguous_ragged_array_representation"></a>9.3.3.  Contiguous ragged array representation</h4>
<div class="paragraph">
<p>The <strong>contiguous ragged array representation</strong> can be used only if the size of each feature is known at the time that it is created.
In this representation the data for each feature will be contiguous on disk, as shown in Table 9.4.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 25%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o3)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o3)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o3)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o6)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table 9.4. The storage of data using the contiguous ragged representation (subscripts in CDL order).</p>
</div>
<div class="paragraph">
<p>In this representation, the file contains a <strong>count variable</strong>, which must be an integer type and</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">count(i1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">count(i2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">count(i3)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">count(i4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">6</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>must have the instance dimension as its sole dimension.
The count variable contains the number of elements that each feature has.
This representation and its count variable are identifiable by the presence of an attribute, <strong><code>sample_dimension</code></strong>, found on the count variable, which names the sample dimension being counted.
For indices that correspond to features, whose data have not yet been written, the count variable should  have a value of zero or a missing value.</p>
</div>
</div>
<div class="sect3">
<h4 id="_indexed_ragged_array_representation"><a class="anchor" href="#_indexed_ragged_array_representation"></a>9.3.4. Indexed ragged array representation</h4>
<div class="paragraph">
<p>The <strong>indexed ragged array representation</strong> stores the features interleaved along the sample dimension in the data variable as shown in Table 9.4.
The canonical use case for this representation is the storage of real-time data streams that contain reports from many sources; the data can be written as it arrives.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">       </p></td>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o1)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o1)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o1)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o2)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o2)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o3)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o4)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">(i1, o2)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #99dddd;"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o3)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o2)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o5)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">(i3, o3)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #d4b4de;"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">(i2, o4)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #f6c682;"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">(i4, o6)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" style="background-color: #ddaaaa;"><p class="tableblock">3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Table 9.4 The storage of data using the indexed ragged representation (subscripts in CDL order).
The left hand side of the table illustrates a data variable; the right hand side of the table contains the values of the index variable.</p>
</div>
<div class="paragraph">
<p>In this representation, the file contains an <strong>index variable</strong>, which must be an integer type, and must have the sample dimension as its single dimension.
The index variable contains the zero-based index of the feature to which each element belongs.
This representation is identifiable by the presence of an attribute, <strong><code>instance_dimension</code></strong>, on the index variable, which names the dimension of the instance variables.
For those indices of the sample dimension, into which data have not yet been written, the index variable should be pre-filled with missing values.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="featureType"><a class="anchor" href="#featureType"></a>9.4. The featureType  attribute</h3>
<div class="paragraph">
<p>A global attribute, <strong>featureType</strong>, is required for all Discrete Geometry representations except the orthogonal multidimensional array representation, for which it is highly recommended.
The exception is allowed for backwards compatibility, as discussed in 9.3.1.
A Discrete Geometry file may include arbitrary numbers of data variables, but (as of CF v1.6) all of the data variables contained in a single file must be of the single feature type indicated by the global <strong><code>featureType</code></strong> attribute, if it is present.1   The value assigned to the <strong><code>featureType</code></strong> attribute is case-insensitive;  it must be one of the string values listed in the left column of Table 9.1.</p>
</div>
</div>
<div class="sect2">
<h3 id="coordinates-metadata"><a class="anchor" href="#coordinates-metadata"></a>9.5. Coordinates and metadata</h3>
<div class="paragraph">
<p>Every feature within a Discrete Geometry CF file must be unambiguously associated with an extensible collection of instance variables that identify the feature and provide other metadata as needed to describe it.
Every element of every feature must be unambiguously associated with its space and time coordinates and with the feature that contains it.
The <strong><code>coordinates</code></strong> attribute must be attached to every data variable to indicate the spatiotemporal coordinate variables that are needed to geo-locate the data.</p>
</div>
<div class="paragraph">
<p>Where feasible, one of the coordinate or auxiliary coordinate variables of a discrete sampling geometry should have an attribute named <strong><code>cf_role</code></strong>.
This attribute has no other function in the CF convention (despite its general-sounding name), and its only permitted values are <strong><code>timeseries_id</code></strong>, <strong><code>profile_id</code></strong>, and <strong><code>trajectory_id</code></strong>.
The variable carrying the <strong><code>cf_role</code></strong> attribute may have any data type.
When a variable is assigned this attribute, it must provide a unique identifier for each feature instance.  
CF files that contain timeSeries, profile or trajectory featureTypes, should include only a single occurrence of a <strong><code>cf_role</code></strong> attribute;  CF files that contain timeSeriesProfile or trajectoryProfile may contain two occurrences, corresponding to the two levels of structure in these feature types.</p>
</div>
<div class="paragraph">
<p>It is not uncommon for observational data to have two sets of coordinates for particular coordinate axes of a feature: a nominal point location and a more precise location that varies with the elements in the feature.
For example, although an idealized vertical profile is measured at a fixed horizontal position and time, a realistic representation might include the time variations and horizontal drift that occur during the duration of the sampling.
Similarly, although an idealized time series exists at a fixed lat-long position, a realistic representation of a moored ocean time series might include the &#8220;watch cycle&#8221; excursions of horizontal position that occur as a result of tidal currents.</p>
</div>
<div class="paragraph">
<p>CF Discrete Geometries provides a mechanism to encode both the nominal and the precise positions, while retaining the semantics of the idealized feature type.
Only the set of coordinates which are regarded as the nominal (default or preferred) positions should be indicated by the attribute <strong><code>axis</code></strong>, which should be assigned string values to indicate the orientations of the axes (<strong><code>X</code></strong>, <strong><code>Y</code></strong>, <strong><code>Z</code></strong>, or <strong><code>T</code></strong>).
See <a href="#example-h.5">A single timeseries with time-varying deviations from a nominal point spatial location</a> (a single timeseries with time-varying deviations from a nominal point spatial location):
Auxiliary coordinate variables containing the nominal and the precise positions should be listed in the relevant <strong><code>coordinates</code></strong> attributes of data variables.
In orthogonal representations the nominal positions could be  coordinate variables, which do not need to be listed in the <strong><code>coordinates</code></strong> attribute, rather than auxiliary coordinate variables.</p>
</div>
<div class="paragraph">
<p>Coordinate bounds may optionally be associated with coordinate variables and auxiliary coordinate variables using the bounds attribute, following the conventions described in section 7.1.
Coordinate bounds are especially important for accurate representations of model output data using discrete geometry representations; they record the boundaries of the model grid cells.</p>
</div>
<div class="paragraph">
<p>If there is a vertical coordinate variable or auxiliary coordinate variable, it must be identified by the means specified in section 4.3.  
The use of the attribute <strong><code>axis=Z</code></strong> is recommended for clarity.
A <strong><code>standard_name</code></strong> attribute (see section 3.3) that identifies the vertical coordinate is recommended, e.g. "altitude", "height", etc.
(See the CF Standard Name Table).</p>
</div>
</div>
<div class="sect2">
<h3 id="ch9-missing-data"><a class="anchor" href="#ch9-missing-data"></a>9.6. Missing Data</h3>
<div class="paragraph">
<p>In data for discrete sampling geometries written according to the rules of this section, wherever there are unused elements in data storage, the data variable and all its auxiliary coordinate variables (spatial and time) must contain missing values.
This situation may arise for the incomplete multidimensional array representation, and in any representation if the instance dimension is set to a larger size than the number of features currently stored.
Data variables should (as usual) also contain missing values to indicate when there is no valid data available for the element, although the coordinates are valid.</p>
</div>
<div class="paragraph">
<p>Similarly, for indices where the instance variable identified by <strong><code>cf_role</code></strong> contains a missing value indicator, all other instance variables should also contain missing values.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="attribute-appendix"><a class="anchor" href="#attribute-appendix"></a>Appendix A: Attributes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All CF attributes are listed here except for those that are used to describe grid mappings and mesh topologies.
See Appendix F for the grid mapping attributes, and Appendix K for mesh topology attributes.</p>
</div>
<div class="paragraph">
<p>The "Type" values are <strong>S</strong> for string, <strong>N</strong> for numeric, and <strong>D</strong> for the type of the data variable.
Each attribute may be used in any of the ways shown in its "Use" entry.
<strong>G</strong> indicates it can appear as a global attribute, and <strong>Gr</strong> as a group attribute; if use of an attribute is restricted to certain kinds of variables this is indicated as follows: <strong>C</strong> for variables containing coordinate data, <strong>D</strong> for data variables, <strong>M</strong> for geometry container variables, <strong>Do</strong> for domain variables, <strong>BI</strong> and <strong>BO</strong> for boundary variables (see <a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a> for the distinction between <strong>BI</strong> and <strong>BO</strong>), and <strong>-</strong> for variables with some other purpose.
"Links" indicates the location of the attribute"s original definition (first link) and sections where the attribute is discussed in this document (additional links as necessary).</p>
</div>
<table id="table-attributes" class="tableblock frame-all grid-all stretch">
<caption class="title">Table A.1. Attributes</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 6.6666%;">
<col style="width: 6.6666%;">
<col style="width: 26.6666%;">
<col style="width: 40.0002%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Use</th>
<th class="tableblock halign-left valign-top">Links</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>actual_range</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#missing-data">Section 2.5.1, "Missing data, valid and actual range of data"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The smallest and the largest valid non-missing values occurring in the variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>add_offset</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a>, and <a href="#packed-data">Section 8.1, "Packed Data"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present for a variable, this number is to be added to the data after it is read by an application.
If both <strong><code>scale_factor</code></strong> and <strong><code>add_offset</code></strong> attributes are present, the data are first scaled before the offset is added.
In cases where there is a strong constraint on dataset size, it is allowed to pack the coordinate variables (using add_offset and/or scale_factor), but this is not recommended in general.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>ancillary_variables</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#ancillary-data">Section 3.4, "Ancillary Data"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a variable that contains closely associated data, e.g., the measurement uncertainties of instrument data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>axis</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#coordinate-types">Chapter 4, Coordinate Types</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies latitude, longitude, vertical, or time axes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>bounds</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cell-boundaries">Section 7.1, "Cell Boundaries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a boundary variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>calendar</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#calendar">Section 4.4.1, "Calendar"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Calendar used for encoding time axes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>cell_measures</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cell-measures">Section 7.2, "Cell Measures"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies variables that contain cell areas or volumes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>cell_methods</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#cell-methods">Section 7.3, "Cell Methods"</a>, <a href="#climatological-statistics">Section 7.4, "Climatological Statistics"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Records the method used to derive data that represents cell values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>cf_role</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#coordinates-metadata">Section 9.5, "Coordinates and metadata"</a>, and <a href="#mesh-topology-variables">Section 5.9, "Mesh Topology Variables"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the roles of variables that identify features in discrete sampling geometries; and the roles of mesh topology and location index set variables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>climatology</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#climatological-statistics">Section 7.4, "Climatological Statistics"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a climatology variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>comment</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G, C, D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#description-of-file-contents">Section 2.6.2, "Description of file contents"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Miscellaneous information about the data or methods used to produce it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>compress</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-gathering">Section 8.2, "Lossless Compression by Gathering"</a>, <a href="#reduced-horizontal-grid">Section 5.3, "Reduced Horizontal Grid"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Records dimensions which have been compressed by gathering.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>computed_standard_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#parametric-vertical-coordinate">Section 4.3.3, "Parametric Vertical Coordinate"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the standard name, from the standard name table, of the computed vertical coordinate values, computed according to the formula in the definition.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>Conventions</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the conventions followed by the dataset.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>coordinate_interpolation</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling">Section 8.3, "Lossy Compression by Coordinate Subsampling"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates that coordinates have been compressed by sampling and identifies the tie point coordinate variables and their associated interpolation variables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>coordinates</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, M, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#coordinate-system">Chapter 5, Coordinate Systems and Domain</a>, <a href="#labels">Section 6.1, "Labels"</a>, <a href="#alternative-coordinates">Section 6.2, "Alternative Coordinates"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies auxiliary coordinate variables, label variables, and alternate coordinate variables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>dimensions</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#domain-variables">Section 5.8, "Domain Variables"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the dimensions that define a domain variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>external_variables</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#external-variables">Section 2.6.3, "External variables"</a>, <a href="#cell-measures">Section 7.2, "Cell Measures"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies variables which are named by <strong><code>cell_measures</code></strong> attributes in the file but which are not present in the file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>_FillValue</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a>, and <a href="#missing-data">Section 2.5.1, "Missing data, valid and actual range of data"</a>, and <a href="#ch9-missing-data">Section 9.6, "Missing Data"</a>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A value used to represent missing or undefined data.
Allowed for auxiliary coordinate variables but not allowed for coordinate variables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>featureType</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#featureType">Section 9.4, "The featureType  attribute"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the type of discrete sampling geometry to which the data in the scope of this attribute belongs, and implies that all data variables in the scope of this attribute contain collections of features of that type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>flag_masks</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#flags">Section 3.5, "Flags"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a list of bit fields expressing Boolean or enumerated flags.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>flag_meanings</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#flags">Section 3.5, "Flags"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use in conjunction with <strong><code>flag_values</code></strong>  to provide descriptive words or phrases for each flag value.
If multi-word phrases are used to describe the flag values, then the words within a phrase should be connected with underscores.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>flag_values</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#flags">Section 3.5, "Flags"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a list of the flag values.
Use in conjunction with <strong><code>flag_meanings</code></strong>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>formula_terms</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#parametric-vertical-coordinate">Section 4.3.3, "Parametric Vertical Coordinate"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies variables that correspond to the terms in a formula.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>geometry</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geometries">Section 7.5, "Geometries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a variable that defines geometry.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>geometry_type</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geometries">Section 7.5, "Geometries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the type of geometry present.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>grid_mapping</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, M, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#grid-mappings-and-projections">Section 5.6, "Horizontal Coordinate Reference Systems, Grid Mappings, and Projections"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a variable that defines a grid mapping.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>history</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G, Gr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of the applications that have modified the original data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>instance_dimension</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#representations-features">Section 9.3, "Representations of collections of features in data variables"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An attribute which identifies an index variable and names the instance dimension to which it applies.
The index variable indicates that the indexed ragged array representation is being used for a collection of features.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>institution</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G, D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#description-of-file-contents">Section 2.6.2, "Description of file contents"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Where the original data was produced.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>interior_ring</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geometries">Section 7.5, "Geometries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a variable that indicates if polygon parts are interior rings (i.e., holes) or not.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>leap_month</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#calendar">Section 4.4.1, "Calendar"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies which month is lengthened by a day in leap years for a user defined calendar.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>leap_year</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#calendar">Section 4.4.1, "Calendar"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides an example of a leap year for a user defined calendar.
It is assumed that all years that differ from this year by a multiple of four are also leap years.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>location</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mesh-topology-variables">Section 5.9, "Mesh Topology Variables"</a>, and <a href="#appendix-mesh-topology-attributes">Appendix K, Mesh Topology Attributes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the location type within the mesh topology at which the variable is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>location_index_set</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mesh-topology-variables">Section 5.9, "Mesh Topology Variables"</a>, and <a href="#appendix-mesh-topology-attributes">Appendix K, Mesh Topology Attributes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a variable that defines the subset of locations of a mesh topology at which the variable is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>long_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, Do, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a>, and <a href="#long-name">Section 3.2, "Long Name"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A descriptive name that indicates a variable&#8217;s content.
This name is not standardized.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>mesh</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#mesh-topology-variables">Section 5.9, "Mesh Topology Variables"</a>, and <a href="#appendix-mesh-topology-attributes">Appendix K, Mesh Topology Attributes</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a variable that defines a mesh topology.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>missing_value</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#missing-data">Section 2.5.1, "Missing data, valid and actual range of data"</a>, and <a href="#ch9-missing-data">Section 9.6, "Missing Data"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A value or values used to represent missing or undefined data.
Allowed for auxiliary coordinate variables but not allowed for coordinate variables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>month_lengths</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#calendar">Section 4.4.1, "Calendar"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the length of each month in a non-leap year for a user defined calendar.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>node_coordinates</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geometries">Section 7.5, "Geometries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies variables that contain geometry node coordinates.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>node_count</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geometries">Section 7.5, "Geometries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a variable indicating the count of nodes per geometry.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>nodes</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geometries">Section 7.5, "Geometries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a coordinate node variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>part_node_count</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#geometries">Section 7.5, "Geometries"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies a variable providing the count of nodes per geometry part.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>positive</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#COARDS">[COARDS]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Direction of increasing vertical coordinate value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>references</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G, D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#description-of-file-contents">Section 2.6.2, "Description of file contents"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">References that describe the data or methods used to produce it.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>sample_dimension</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#representations-features">Section 9.3, "Representations of collections of features in data variables"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An attribute which identifies a count variable and names the sample dimension to which it applies.
The count variable indicates that the contiguous ragged array representation is being used for a collection of features.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>scale_factor</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a>, and <a href="#packed-data">Section 8.1, "Packed Data"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If present for a variable, the data are to be multiplied by this factor after the data are read by an application.
See also the <strong><code>add_offset</code></strong> attribute.
In cases where there is a strong constraint on dataset size, it is allowed to pack the coordinate variables (using add_offset and/or scale_factor), but this is not recommended in general.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>source</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G, D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#description-of-file-contents">Section 2.6.2, "Description of file contents"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method of production of the original data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>standard_error_multiplier</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a data variable with a standard_name modifier of standard_error has this attribute, it indicates that the values are the stated multiple of one standard error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>standard_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#standard-name">Section 3.3, "Standard Name"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A standard name that references a description of a variable"s content in the standard name table.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>title</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G, Gr</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short description of the file contents.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>units</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a>, and <a href="#units">Section 3.1, "Units"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Units of a variable&#8217;s content.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>units_metadata</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#units">Section 3.1, "Units"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the interpretation (on-scale, difference or unknown) of the unit of temperature appearing in the <strong><code>units</code></strong> attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>valid_max</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Largest valid value of a variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>valid_min</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Smallest valid value of a variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>valid_range</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, D, BO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.unidata.ucar.edu/software/netcdf/docs/attribute_conventions.html">NUG Appendix A, "Attribute Conventions"</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Smallest and largest valid values of a variable.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="standard-name-table-format"><a class="anchor" href="#standard-name-table-format"></a>Appendix B: Standard Name Table Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CF standard name table is an XML document (i.e., its format adheres to the XML 1.0 <a href="#XML">[XML]</a> recommendation).
The XML suite of protocols provides a reasonable balance between human and machine readability.
It also provides extensive support for internationalization.
See the W3C <a href="#W3C">[W3C]</a> home page for more information.</p>
</div>
<div class="paragraph">
<p>The document begins with a header that identifies it as an XML file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;?xml version="1.0"?&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Next is the <strong><code>standard_name_table</code></strong> itself, which is bracketed by the tags <strong><code>&lt;standard_name_table&gt;</code></strong> and <strong><code>&lt;/standard_name_table&gt;</code></strong>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;standard_name_table
 xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="CFStandardNameTable.xsd"&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The content (delimited by the <code>&lt;standard_name_table&gt;</code> tags) consists of, in order,</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  &lt;institution&gt;Name of institution here ... &lt;/institution&gt;
  &lt;contact&gt;E-mail address of contact person ... &lt;/contact&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>followed by a sequence of <strong><code>entry</code></strong> elements which may optionally be followed by a sequence of <strong><code>alias</code></strong> elements.
The <strong><code>entry</code></strong> and <strong><code>alias</code></strong> elements take the following forms:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  &lt;entry id="an_id"&gt;
      Define the variable whose standard_name attribute has the value "an_id".
  &lt;/entry&gt;
  &lt;alias id="another_id"&gt;
      Provide alias for a variable whose standard_name attribute has the
        value "another_id".
  &lt;/alias&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The value of the <strong><code>id</code></strong> attribute appearing in the <strong><code>entry</code></strong> and <strong><code>alias</code></strong> tags is a case sensitive string, containing no whitespace, which uniquely identifies the entry relative to the table.
<em>This is the value used for a variable&#8217;s <code>standard_name</code> attribute.</em></p>
</div>
<div class="paragraph">
<p>The purpose of the <strong><code>entry</code></strong> elements are to provide definitions for the <strong><code>id</code></strong> strings.
Each <strong><code>entry</code></strong> element contains the following elements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  &lt;entry id="an_id"&gt;
    &lt;canonical_units&gt;Representative units for the variable ... &lt;/canonical_units&gt;
    &lt;description&gt;Description of the variable ... &lt;/description&gt;
  &lt;/entry&gt;</pre>
</div>
</div>
<div class="paragraph">
<p><code>Entry</code> elements may optionally also contain the following elements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  &lt;grib&gt;GRIB parameter code&lt;/grib&gt;
  &lt;amip&gt;AMIP identifier string&lt;/amip&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Not all variables have equivalent AMIP or GRIB codes.
ECMWF GRIB codes start with <strong><code>E</code></strong>, NCEP codes with <strong><code>N</code></strong>.
Standard codes (in the range 1-127) are not prefaced.
When a variable has more than one equivalent GRIB code, the alternatives are given as a blank-separated list.</p>
</div>
<div class="paragraph">
<p>The <strong><code>alias</code></strong> elements do not contain definitions.
Rather they contain the value of the <strong><code>id</code></strong> attribute of an <strong><code>entry</code></strong> element that contains the sought after definition.
The purpose of the <strong><code>alias</code></strong> elements are to provide a means for maintaining the table in a backwards compatible fashion.
For example, if more than one <strong><code>id</code></strong> string was found to correspond to identical definitions, then the redundant definitions can be converted into aliases.
It is not intended that the <strong><code>alias</code></strong> elements be used to accommodate the use of local naming conventions in the <strong><code>standard_name</code></strong> attribute strings.
Each <strong><code>alias</code></strong> element contains a single element:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  &lt;alias id="an_id"&gt;
    &lt;entry_id&gt;Identifier of the defining entry ... &lt;/entry_id&gt;
  &lt;/alias&gt;</pre>
</div>
</div>
<div id="name-table-three-entries-ex" class="exampleblock">
<div class="title">Example B.1. A name table containing three entries</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>  &lt;?xml version="1.0"?&gt;
  &lt;standard_name_table&gt;
    &lt;institution&gt;Program for Climate Model Diagnosis and Intercomparison&lt;/institution&gt;
    &lt;contact&gt;support@pcmdi.llnl.gov&lt;/contact&gt;
    &lt;entry id="surface_air_pressure"&gt;
      &lt;canonical_units&gt;Pa&lt;/canonical_units&gt;
      &lt;grib&gt;E134&lt;/grib&gt;
      &lt;amip&gt;ps&lt;/amip&gt;
      &lt;description&gt;
          The surface called "surface" means the lower boundary of the atmosphere.
      &lt;/description&gt;
    &lt;/entry&gt;
    &lt;entry id="air_pressure_at_sea_level"&gt;
      &lt;canonical_units&gt;Pa&lt;/canonical_units&gt;
      &lt;grib&gt;2 E151&lt;/grib&gt;
      &lt;amip&gt;psl&lt;/amip&gt;
      &lt;description&gt;
          Air pressure at sea level is the quantity often abbreviated
          as MSLP or PMSL. sea_level means mean sea level, which is close
          to the geoid in sea areas.
      &lt;/description&gt;
    &lt;/entry&gt;
    &lt;alias id="mean_sea_level_pressure"&gt;
      &lt;entry_id&gt;air_pressure_at_sea_level&lt;/entry_id&gt;
    &lt;/alias&gt;
  &lt;/standard_name_table&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The definition of a variable with the <strong><code>standard_name</code></strong> attribute <strong><code>surface_air_pressure</code></strong> is found directly since the element with <strong><code>id="surface_air_pressure"</code></strong> is an <strong><code>entry</code></strong> element which contains the definition.</p>
</div>
<div class="paragraph">
<p>The definition of a variable with the <strong><code>standard_name</code></strong> attribute mean_sea_level_pressure is found indirectly by first finding the element with the <strong><code>id="mean_sea_level_pressure"</code></strong>, and then, since this is an alias element, by searching for the element with <strong><code>id="air_pressure_at_sea_level"</code></strong> as indicated by the value of the <strong><code>entry_id</code></strong> tag.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>It is possible that new tags may be added in the future.
Any applications that parse the standard table should be written so that unrecognized tags are gracefully ignored.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="standard-name-modifiers"><a class="anchor" href="#standard-name-modifiers"></a>Appendix C: Standard Name Modifiers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the <em>Units</em> column, <em>u</em> indicates units dimensionally equivalent to those for the unmodified standard name.</p>
</div>
<table id="table-standard-name-modifiers" class="tableblock frame-all grid-all stretch">
<caption class="title">Table C.1. Standard Name Modifiers</caption>
<colgroup>
<col style="width: 21.4285%;">
<col style="width: 7.1428%;">
<col style="width: 71.4287%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Modifier</th>
<th class="tableblock halign-left valign-top">Units</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>detection_minimum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The smallest data value which is regarded as a detectable signal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>number_of_observations</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of discrete observations or measurements from which a data value has been derived.
The use of this modifier is deprecated and the standard_name number_of_observations is preferred to describe this type of metadata variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standard_error</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*The uncertainty of the data value.
The standard error includes both systematic and statistical uncertainty.
By default it is assumed that the values supplied are for one standard error.
If the values supplied are for some multiple of the standard error, the <code>standard_error</code> ancillary variable should have an attribute <strong><code>standard_error_multiplier</code></strong> stating the multiplication factor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status_flag</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag values indicating the quality or other status of the data values.
The variable should have <strong><code>flag_values</code></strong> or <strong><code>flag_masks</code></strong> (or both) and <strong><code>flag_meanings</code></strong> attributes to show how it should be interpreted (<a href="#flags">Section 3.5, "Flags"</a>).
The use of this modifier is deprecated and the standard_name status_flag is preferred to describe this type of metadata variable.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>*The definition of this modifier implies that if <em>u</em> is a either unit of temperature, or a unit of temperature multiplied by some other unit, the temperature in <em>u</em> must be interpreted as a temperature difference.
Therefore the <strong><code>units_metadata</code></strong> attribute, if present, must have the value <code>temperature: difference</code>, even if the corresponding data variable without the modifier would have <code>units_metadata="temperature: on_scale"</code>.
See <a href="#temperature-units">Section 3.1.2, "Temperature units"</a> for explanation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="parametric-v-coord"><a class="anchor" href="#parametric-v-coord"></a>Appendix D: Parametric Vertical Coordinates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The definitions given here allow an application to compute dimensional coordinate values from the parametric vertical coordinate values (usually dimensionless) and associated variables.
The formulas are expressed for a gridpoint <code>(n,k,j,i)</code> where <code>i</code> and <code>j</code> are the horizontal indices, <code>k</code> is the vertical index and <code>n</code> is the time index.
A coordinate variable is associated with its definition by the value of the <code>standard_name</code> attribute.
The terms in the definition are associated with file variables by the <code>formula_terms</code> attribute.
The <code>formula_terms</code> attribute takes a string value, the string being comprised of blank-separated elements of the form "<code>term: variable</code>", where <code>term</code> is a case-insensitive keyword that represents one of the terms in the definition, and <code>variable</code> is the name of the variable in a netCDF file that contains the values for that term.
The order of elements is not significant.</p>
</div>
<div class="paragraph">
<p>The gridpoint indices are not formally part of the definitions, but are included to illustrate the indices that <em>might</em> be present in the file variables.
For example, a vertical coordinate whose definition contains a time index is not necessarily time dependent in all netCDF files.
Also, the definitions are given in general forms that may be simplified by omitting certain terms.
A term that is omitted from the <strong><code>formula_terms</code></strong> attribute should be assumed to be zero.</p>
</div>
<div class="paragraph">
<p>The variables containing the terms may optionally have <code>standard_name</code> attributes, with values as indicated in this Appendix.
The <code>standard_name</code> of the dimensional coordinate values which are computed by the formula may optionally be specified by the <code>computed_standard_name</code> attribute of the vertical coordinate variable, as indicated in this Appendix.
A <code>computed_standard_name</code> is uniquely implied by the formula in some cases, while in others it depends on the <code>standard_name</code> of one or more of the terms, with which it must be consistent.</p>
</div>
<div class="sect2">
<h3 id="atmosphere-natural-log-pressure-coordinate"><a class="anchor" href="#atmosphere-natural-log-pressure-coordinate"></a>Atmosphere natural log pressure coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "atmosphere_ln_pressure_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>p(k) = p0 * exp(-lev(k))</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <strong><code>p(k)</code></strong> is the pressure at gridpoint <strong><code>(k)</code></strong>, <strong><code>p0</code></strong> is a reference pressure, <strong><code>lev(k)</code></strong> is the dimensionless coordinate at vertical gridpoint <strong><code>(k)</code></strong>.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "p0: var1 lev: var2"</pre>
</div>
</div>
<div class="paragraph">
<p>The standard_name of <code>p0</code> is <code>reference_air_pressure_for_atmosphere_vertical_coordinate</code>.
The <code>computed_standard_name</code> is <code>air_pressure</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_atmosphere_sigma_coordinate"><a class="anchor" href="#_atmosphere_sigma_coordinate"></a>Atmosphere sigma coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "atmosphere_sigma_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>p(n,k,j,i) = ptop + sigma(k)*(ps(n,j,i)-ptop)</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <strong><code>p(n,k,j,i)</code></strong> is the pressure at gridpoint <strong><code>(n,k,j,i)</code></strong>, <strong><code>ptop</code></strong> is the pressure at the top of the model, <strong><code>sigma(k)</code></strong> is the dimensionless coordinate at vertical gridpoint <strong><code>(k)</code></strong>, and <strong><code>ps(n,j,i)</code></strong> is the surface pressure at horizontal gridpoint <strong><code>(j,i)</code></strong>and time <strong><code>(n)</code></strong>.</p>
</div>
<div class="paragraph">
<p>The format for the formula_terms attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "sigma: var1 ps: var2 ptop: var3"</pre>
</div>
</div>
<div class="paragraph">
<p>The standard_name of <code>ptop</code> is <code>air_pressure_at_top_of_atmosphere_model</code>, and of <code>ps</code> is <code>surface_air_pressure</code>.
The <code>computed_standard_name</code> is <code>air_pressure</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_atmosphere_hybrid_sigma_pressure_coordinate"><a class="anchor" href="#_atmosphere_hybrid_sigma_pressure_coordinate"></a>Atmosphere hybrid sigma pressure coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "atmosphere_hybrid_sigma_pressure_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>p(n,k,j,i) = a(k)*p0 + b(k)*ps(n,j,i)</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre>p(n,k,j,i) = ap(k) + b(k)*ps(n,j,i)</pre>
</div>
</div>
<div class="paragraph">
<p>where <strong><code>p(n,k,j,i)</code></strong> is the pressure at gridpoint <strong><code>(n,k,j,i)</code></strong>, <strong><code>a(k)</code></strong> or <strong><code>ap(k)</code></strong> and <strong><code>b(k)</code></strong> are components of the hybrid coordinate at level <strong><code>k</code></strong>, <strong><code>p0</code></strong> is a reference pressure, and <strong><code>ps(n,j,i)</code></strong> is the surface pressure at horizontal gridpoint <strong><code>(j,i)</code></strong> and time <strong><code>(n)</code></strong>.
The choice of whether <strong><code>a(k)</code></strong> or <strong><code>ap(k)</code></strong> is used depends on model formulation; the former is a dimensionless fraction, the latter a pressure value.
In both formulations, <strong><code>b(k)</code></strong> is a dimensionless fraction.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "a: var1 b: var2 ps: var3 p0: var4"</pre>
</div>
</div>
<div class="paragraph">
<p>where <strong><code>a</code></strong> is replaced by <strong><code>ap</code></strong> if appropriate.</p>
</div>
<div class="paragraph">
<p>The hybrid sigma-pressure coordinate for level <strong><code>k</code></strong> is defined as <strong><code>a(k)+b(k)</code></strong> or <strong><code>ap(k)/p0+b(k)</code></strong>, as appropriate.</p>
</div>
<div class="paragraph">
<p>The <code>standard_name</code> of <code>p0</code> is <code>reference_air_pressure_for_atmosphere_vertical_coordinate</code>, and of <code>ps</code> is <code>surface_air_pressure</code>.
The <code>computed_standard_name</code> is <code>air_pressure</code>.
No <code>standard_name</code> has been defined for <code>a</code>, <code>b</code> or <code>ap</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="atmosphere-hybrid-height-coordinate"><a class="anchor" href="#atmosphere-hybrid-height-coordinate"></a>Atmosphere hybrid height coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "atmosphere_hybrid_height_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>z(n,k,j,i) = a(k) + b(k)*orog(n,j,i)</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <code>z(n,k,j,i)</code> is the height above the datum (e.g. the geoid, which is approximately mean sea level) at gridpoint <code>(k,j,i)</code> and <code>time (n)</code>, <code>orog(n,j,i)</code> is the height of the surface above the datum at <code>(j,i)</code> and <code>time (n)</code>, and <code>a(k)</code> and <code>b(k)</code> are the coordinates which define hybrid height level <code>k</code>.
<code>a(k)</code> has the dimensions of height and <code>b(i)</code> is dimensionless.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "a: var1 b: var2 orog: var3"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code> of <code>orog</code> may be <code>surface_altitude</code> (i.e. above the geoid) or <code>surface_height_above_geopotential_datum</code>.
The <code>computed_standard_name</code> is <code>altitude</code> or <code>height_above_geopotential_datum</code> in these cases respectively.
No <code>standard_name</code> has been defined for <code>b</code>.
There is no dimensionless coordinate because <code>a</code>, which has the <code>standard_name</code> of <code>atmosphere_hybrid_height_coordinate</code>, is the best choice for a level-dependent but geographically constant coordinate.</p>
</div>
</div>
<div class="sect2">
<h3 id="_atmosphere_smooth_level_vertical_sleve_coordinate"><a class="anchor" href="#_atmosphere_smooth_level_vertical_sleve_coordinate"></a>Atmosphere smooth level vertical (SLEVE) coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "atmosphere_sleve_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>z(n,k,j,i) = a(k)*ztop + b1(k)*zsurf1(n,j,i) + b2(k)*zsurf2(n,j,i)</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <code>z(n,k,j,i)</code> is the height above the datum (e.g. the geoid, which is approximately mean sea level) at gridpoint <code>(k,j,i)</code> and time <code>(n)</code>, <code>ztop</code> is the height of the top of the model above the datum, and <code>a(k)</code>, <code>b1(k)</code>, and <code>b2(k)</code> are the dimensionless coordinates which define hybrid level <code>k</code>.
<code>zsurf1(n,j,i)</code> and <code>zsurf2(n,j,i)</code> are respectively the large-scale and small-scale components of the topography, and <code>a</code>, <code>b1</code> and <code>b2</code> are all functions of the dimensionless SLEVE coordinate.
See Shaer et al <a href="#SCH02">[SCH02]</a> for details.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "a: var1 b1: var2 b2: var3 ztop: var4 zsurf1: var5
                zsurf2: var6"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code> of <code>ztop</code> may be <code>altitude_at_top_of_atmosphere_model</code> (i.e.  above the geoid) or <code>height_above_geopotential_datum_at_top_of_atmosphere_model</code>.
The <code>computed_standard_name</code> is <code>altitude</code> or <code>height_above_geopotential_datum</code> in these cases respectively.
No <code>standard_name</code> has been defined for <code>b1</code>, <code>zsurf1</code>, <code>b2</code> or <code>zsurf2</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocean_sigma_coordinate"><a class="anchor" href="#_ocean_sigma_coordinate"></a>Ocean sigma coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "ocean_sigma_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>z(n,k,j,i) = eta(n,j,i) + sigma(k)*(depth(j,i)+eta(n,j,i))</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <code>z(n,k,j,i)</code> is height (positive upwards) relative to the datum (e.g. mean sea level) at gridpoint <code>(n,k,j,i)</code>, <code>eta(n,j,i)</code> is the height of the sea surface (positive upwards) relative to the datum at gridpoint <code>(n,j,i)</code>, <code>sigma(k)</code> is the dimensionless coordinate at vertical gridpoint <code>(k)</code>, and <code>depth(j,i)</code> is the distance (a positive value) from the datum to the sea floor at horizontal gridpoint <code>(j,i)</code>.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "sigma: var1 eta: var2 depth: var3"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code>s for <code>eta</code> and <code>depth</code> and the <code>computed_standard_name</code> must be one of the consistent sets shown in <a href="#table-computed-standard-names">Table D.1</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocean_s_coordinate"><a class="anchor" href="#_ocean_s_coordinate"></a>Ocean s-coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "ocean_s_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>z(n,k,j,i) = eta(n,j,i)*(1+s(k)) + depth_c*s(k) +
             (depth(j,i)-depth_c)*C(k)</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>C(k) = (1-b)*sinh(a*s(k))/sinh(a) +
       b*[tanh(a*(s(k)+0.5))/(2*tanh(0.5*a)) - 0.5]</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <code>z(n,k,j,i)</code> is height (positive upwards) relative to the datum (e.g. mean sea level) at gridpoint <code>(n,k,j,i)</code>, <code>eta(n,j,i)</code> is the height of the sea surface (positive upwards) relative to the datum at gridpoint <code>(n,j,i)</code>, <code>s(k)</code> is the dimensionless coordinate at vertical gridpoint <code>(k)</code>, and <code>depth(j,i)</code> is the distance (a positive value) from the datum to the sea floor at horizontal gridpoint <code>(j,i)</code>.
The constants <code>a</code>, <code>b</code>, and <code>depth_c</code> control the stretching.
The constants <code>a</code> and <code>b</code> are dimensionless, and <code>depth_c</code> must have units of length.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "s: var1 eta: var2 depth: var3 a: var4 b: var5 depth_c: var6"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code>s for <code>eta</code> and <code>depth</code> and the <code>computed_standard_name</code> must be one of the consistent sets shown in <a href="#table-computed-standard-names">Table D.1</a>.
No <code>standard_name</code> has been defined for <code>a</code>, <code>b</code> or <code>depth_c</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocean_s_coordinate_generic_form_1"><a class="anchor" href="#_ocean_s_coordinate_generic_form_1"></a>Ocean s-coordinate, generic form 1</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "ocean_s_coordinate_g1"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>    z(n,k,j,i) = S(k,j,i) + eta(n,j,i) * (1 + S(k,j,i) / depth(j,i))</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  S(k,j,i) = depth_c * s(k) + (depth(j,i) - depth_c) * C(k)</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <strong><code>z(n,k,j,i)</code></strong> is height, positive upwards, relative to ocean datum (e.g. mean sea level) at gridpoint <strong><code>(n,k,j,i)</code></strong>, <strong><code>eta(n,j,i)</code></strong> is the height of the ocean surface, positive upwards, relative to ocean datum at gridpoint <strong><code>(n,j,i)</code></strong>, <strong><code>s(k)</code></strong> is the dimensionless coordinate at vertical gridpoint <strong><code>(k)</code></strong> with a range of <strong><code>-1 &lt;= s(k) &lt;= 0</code></strong>, <strong><code>s(0)</code></strong> corresponds to <strong><code>eta(n,j,i)</code></strong> whereas <strong><code>s(-1)</code></strong> corresponds to <strong><code>depth(j,i)</code></strong>; <strong><code>C(k)</code></strong> is the dimensionless vertical coordinate stretching function at gridpoint <strong><code>(k)</code></strong> with a range of <strong><code>-1 &lt;= C(k) &lt;= 0</code></strong>, <strong><code>C(0)</code></strong> corresponds to <strong><code>eta(n,j,i)</code></strong> whereas <strong><code>C(-1)</code></strong> corresponds to <strong><code>depth(j,i)</code></strong>; the constant <strong><code>depth_c</code></strong>, (positive value), is a critical depth controlling the stretching and <strong><code>depth(j,i)</code></strong> is the distance from ocean datum to sea floor (positive value) at horizontal gridpoint <strong><code>(j,i)</code></strong>.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "s: var1 C: var2 eta: var3 depth: var4 depth_c: var5"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code>s for <code>eta</code> and <code>depth</code> and the <code>computed_standard_name</code> must be one of the consistent sets shown in <a href="#table-computed-standard-names">Table D.1</a>.
No <code>standard_name</code> has been defined for <code>C</code> or <code>depth_c</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocean_s_coordinate_generic_form_2"><a class="anchor" href="#_ocean_s_coordinate_generic_form_2"></a>Ocean s-coordinate, generic form 2</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "ocean_s_coordinate_g2"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>    z(n,k,j,i) = eta(n,j,i) + (eta(n,j,i) + depth(j,i)) * S(k,j,i)</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  S(k,j,i) = (depth_c * s(k) + depth(j,i) * C(k)) / (depth_c + depth(j,i))</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <strong><code>z(n,k,j,i)</code></strong> is height, positive upwards, relative to ocean datum (e.g. mean sea level) at gridpoint <strong><code>(n,k,j,i)</code></strong>, <strong><code>eta(n,j,i)</code></strong> is the height of the ocean surface, positive upwards, relative to ocean datum at gridpoint <strong><code>(n,j,i)</code></strong>, <strong><code>s(k)</code></strong> is the dimensionless coordinate at vertical gridpoint <strong><code>(k)</code></strong> with a range of <strong><code>-1 &lt;= s(k) &lt;= 0</code></strong>, <strong><code>S(0)</code></strong> corresponds to <strong><code>eta(n,j,i)</code></strong> whereas <strong><code>s(-1)</code></strong> corresponds to <strong><code>depth(j,i)</code></strong>; <strong><code>C(k)</code></strong> is the dimensionless vertical coordinate stretching function at gridpoint <strong><code>(k)</code></strong> with a range of <strong><code>-1 &lt;= C(k) &lt;= 0</code></strong>, <strong><code>C(0)</code></strong> corresponds to <strong><code>eta(n,j,i)</code></strong> whereas <strong><code>C(-1)</code></strong> corresponds to <strong><code>depth(j,i)</code></strong>; the constant <strong><code>depth_c</code></strong>, (positive value), is a critical depth controlling the stretching and <strong><code>depth(j,i)</code></strong> is the distance from ocean datum to sea floor (positive value) at horizontal gridpoint <strong><code>(j,i)</code></strong>.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "s: var1 C: var2 eta: var3 depth: var4 depth_c: var5"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code>s for <code>eta</code> and <code>depth</code> and the <code>computed_standard_name</code> must be one of the consistent sets shown in <a href="#table-computed-standard-names">Table D.1</a>.
No <code>standard_name</code> has been defined for <code>C</code> or <code>depth_c</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocean_sigma_over_z_coordinate"><a class="anchor" href="#_ocean_sigma_over_z_coordinate"></a>Ocean sigma over z coordinate</h3>
<div class="paragraph">
<p><strong>The description of this type of parametric vertical coordinate is defective in version 1.8 and earlier versions of the standard, in that it does not state what values the vertical coordinate variable should contain.
Therefore, in accordance with the rules, all versions of the standard before 1.9 are deprecated for datasets that use the "ocean sigma over z" coordinate.</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre>standard_name = "ocean_sigma_z_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>for levels k where sigma(k) has a defined value and zlev(k) is not defined:

  z(n,k,j,i) = eta(n,j,i) + sigma(k)*(min(depth_c,depth(j,i))+eta(n,j,i))

for levels k where zlev(k) has a defined value and sigma(k) is not defined:

  z(n,k,j,i) = zlev(k)</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <code>z(n,k,j,i)</code> is height, positive upwards, relative to ocean datum (e.g. mean sea level) at gridpoint <code>(n,k,j,i)</code>, <code>eta(n,j,i)</code> is the height of the ocean surface, positive upwards, relative to ocean datum at gridpoint <code>(n,j,i)</code>, and <code>depth(j,i)</code> is the distance from ocean datum to sea floor (positive value) at horizontal gridpoint <code>(j,i)</code>.</p>
</div>
<div class="paragraph">
<p>The parameter <code>sigma(k)</code> is defined only for the <code>nsigma</code> layers nearest the ocean surface, while <code>zlev(k)</code> is defined for the <code>nlayer - nsigma</code> deeper layers, where <code>0 &lt;= nsigma &lt;= nlayer</code> and <code>nlayer</code> is the size of the dimension of the vertical coordinate variable.
Both <code>sigma</code> and <code>zlev</code> must have this dimension.
For any <code>k</code>, whichever of <code>sigma(k)</code> or <code>zlev(k)</code> is undefined must contain missing data, while the other must not.</p>
</div>
<div class="paragraph">
<p>The format for the <code>formula_terms</code> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "sigma: var1 eta: var2 depth: var3 depth_c: var4 nsigma: var5
                zlev: var6"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code>s for <code>eta</code>, <code>depth</code>, <code>zlev</code> and the <code>computed_standard_name</code> must be one of the consistent sets shown in <a href="#table-computed-standard-names">Table D.1</a>.
The <code>standard_name</code> for <code>sigma</code> is <code>ocean_sigma_coordinate</code>.
No <code>standard_name</code> has been defined for <code>depth_c</code> or <code>nsigma</code>.
The <code>nsigma</code> parameter is deprecated and optional in <code>formula_terms</code>; if supplied, it must equal the number of elements of <code>zlev</code> which contain missing data.</p>
</div>
<div class="paragraph">
<p>The <code>standard_name</code> for the vertical coordinate variable is <code>ocean_sigma_z_coordinate</code>.
This variable should contain <code>sigma(k)*depth_c</code> for the layers where <code>sigma</code> is defined and <code>zlev(k)</code> for the other layers, with units of length.
The layers must be arranged so that the vertical coordinate variable contains a strictly monotonic set of indicative values for the heights of the levels relative to the datum, either increasing or decreasing, and the direction must be indicated by the <code>positive</code> attribute, in the usual way for a vertical coordinate variable.</p>
</div>
</div>
<div class="sect2">
<h3 id="_ocean_double_sigma_coordinate"><a class="anchor" href="#_ocean_double_sigma_coordinate"></a>Ocean double sigma coordinate</h3>
<div class="listingblock">
<div class="content">
<pre>standard_name = "ocean_double_sigma_coordinate"</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Definition</dt>
<dd>
<div class="listingblock">
<div class="content">
<pre>for k &lt;= k_c:

  z(k,j,i)= sigma(k)*f(j,i)

for k &gt; k_c:

  z(k,j,i)= f(j,i) + (sigma(k)-1)*(depth(j,i)-f(j,i))

f(j,i)= 0.5*(z1+ z2) + 0.5*(z1-z2)* tanh(2*a/(z1-z2)*(depth(j,i)-href))</pre>
</div>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>where <code>z(k,j,i)</code> is height (positive upwards) relative to the datum (e.g. mean sea level) at gridpoint <code>(k,j,i)</code>, <code>sigma(k)</code> is the dimensionless coordinate at vertical gridpoint <code>(k)</code> for <code>k &lt;= k_c</code>, and <code>depth(j,i)</code> is the distance (a positive value) from the datum to sea floor at horizontal gridpoint <code>(j,i)</code>.
<code>z1</code>, <code>z2</code>, <code>a</code>, and <code>href</code> are constants with units of length.</p>
</div>
<div class="paragraph">
<p>The format for the <strong><code>formula_terms</code></strong> attribute is</p>
</div>
<div class="listingblock">
<div class="content">
<pre>formula_terms = "sigma: var1 depth: var2 z1: var3 z2: var4 a: var5 href: var6
                k_c: var7"</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>standard_name</code> for <code>depth</code> and the <code>computed_standard_name</code> must be one of the consistent sets shown in <a href="#table-computed-standard-names">Table D.1</a>.
No <code>standard_name</code> has been defined for <code>z1</code>, <code>z2</code>, <code>a</code>, <code>href</code> or <code>k_c</code>.</p>
</div>
<div id="table-computed-standard-names" class="imageblock">
<div class="content">
<img src="NFFFFFF-1.0.png" alt="NFFFFFF 1.0">
</div>
<div class="title">Consistent sets of values for the standard_names of formula terms and the computed_standard_name needed in defining the ocean sigma coordinate, the ocean s-coordinate, the ocean_sigma over z coordinate, and the ocean double sigma coordinate.</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 22.2222%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">option</th>
<th class="tableblock halign-left valign-top">standard_name of computed  dimensional coordinate</th>
<th class="tableblock halign-left valign-top">formula term name</th>
<th class="tableblock halign-left valign-top">standard_name of formula term</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">altitude</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">zlev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">altitude</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">eta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_surface_height_above_geoid</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">depth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_floor_depth_below_geoid</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">height_above_geopotential_ datum</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">zlev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">height_above_geopotential_datum</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">eta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_surface_height_above_ geopotential_datum</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">depth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_floor_depth_below_ geopotential_datum</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">height_above_reference_ ellipsoid</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">zlev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">height_above_reference_ellipsoid</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">eta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_surface_height_above_ reference_ellipsoid</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">depth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_floor_depth_below_ reference_ellipsoid</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-middle" rowspan="3"><p class="tableblock">height_above_mean_sea_ level</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">zlev</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">height_above_mean_sea_level</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">eta</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_surface_height_above_mean_ sea_level</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">depth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sea_floor_depth_below_mean_ sea_level</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-cell-methods"><a class="anchor" href="#appendix-cell-methods"></a>Appendix E: Cell Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the <em>Units</em> column, <em>u</em> indicates the units of the physical quantity before the method is applied.</p>
</div>
<table id="table-cell-methods" class="tableblock frame-all grid-all stretch">
<caption class="title">Table E.1. Cell Methods</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong><code>cell_methods</code></strong></th>
<th class="tableblock halign-left valign-top">Units</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>point</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data values are representative of points in space or time (instantaneous).
This is the default method for a quantity that is intensive with respect to the specified dimension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The data values are representative of a sum or accumulation over the cell.
This is the default method for a quantity that is extensive with respect to the specified dimension.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maximum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maximum_absolute_value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum absolute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>median</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Median</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mid_range</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Average of maximum and minimum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minimum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minimum_absolute_value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum absolute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mean (average value)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mean_absolute_value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mean absolute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mean_of_upper_decile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mean of the upper group of data values defined by the upper tenth of their distribution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode (most common value)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>range</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*Absolute difference between maximum and minimum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>root_mean_square</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Root mean square (RMS)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>standard_deviation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*Standard deviation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sum_of_squares</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u<sup>2</sup></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sum of squares</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>variance</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>u<sup>2</sup></em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">*Variance</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>*The definition of this method implies that if <em>u</em> is a either a unit of temperature, or a unit of temperature multiplied by some other unit, the temperature in <em>u</em> must be interpreted as a temperature difference.
Therefore the <strong><code>units_metadata</code></strong> attribute, if present, must have the value <code>temperature: difference</code>.
See <a href="#temperature-units">Section 3.1.2, "Temperature units"</a> for explanation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-grid-mappings"><a class="anchor" href="#appendix-grid-mappings"></a>Appendix F: Grid Mappings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each recognized grid mapping is described in one of the sections below.
Each section contains: the valid name that is used with the <strong><code>grid_mapping_name</code></strong> attribute; a list of the specific attributes that may be used to assign values to the mapping&#8217;s parameters; the standard names used to identify the coordinate variables that contain the mapping&#8217;s independent variables; and references to the mapping&#8217;s definition or other information that may help in using the mapping.
Since the attributes used to set a mapping&#8217;s parameters may be shared among several mappings, their definitions are contained in a table in the final section.
The attributes which describe the ellipsoid and prime meridian may be included, when applicable, with any grid mapping.
These are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>earth_radius</code></p>
</li>
<li>
<p><code>inverse_flattening</code></p>
</li>
<li>
<p><code>longitude_of_prime_meridian</code></p>
</li>
<li>
<p><code>prime_meridian_name</code></p>
</li>
<li>
<p><code>reference_ellipsoid_name</code></p>
</li>
<li>
<p><code>semi_major_axis</code></p>
</li>
<li>
<p><code>semi_minor_axis</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In general we have used the FGDC "Content Standard for Digital Geospatial Metadata" <a href="#FGDC">[FGDC]</a> as a guide in choosing the values for <strong><code>grid_mapping_name</code></strong> and the attribute names for the parameters describing map projections.</p>
</div>
<div class="sect2">
<h3 id="_albers_equal_area"><a class="anchor" href="#_albers_equal_area"></a>Albers Equal Area</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = albers_conical_equal_area</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>standard_parallel</code></strong> - There may be 1 or 2 values.</p>
</li>
<li>
<p><strong><code>longitude_of_central_meridian</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software package for computing the mapping may be found at
<a href="https://proj.org/operations/projections/aea.html"><a href="https://proj.org/operations/projections/aea.html" class="bare">https://proj.org/operations/projections/aea.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/albers_equal_area_conic.html"><a href="http://geotiff.maptools.org/proj_list/albers_equal_area_conic.html" class="bare">http://geotiff.maptools.org/proj_list/albers_equal_area_conic.html</a></a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="azimuthal-equidistant"><a class="anchor" href="#azimuthal-equidistant"></a>Azimuthal equidistant</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = azimuthal_equidistant</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software package for computing the mapping may be found at
<a href="http://geotiff.maptools.org/proj_list/azimuthal_equidistant.html"><a href="http://geotiff.maptools.org/proj_list/azimuthal_equidistant.html" class="bare">http://geotiff.maptools.org/proj_list/azimuthal_equidistant.html</a></a>
and
<a href="http://proj.org/operations/projections/aeqd.html"><a href="https://proj.org/operations/projections/aeqd.html" class="bare">https://proj.org/operations/projections/aeqd.html</a></a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_geostationary_projection"><a class="anchor" href="#_geostationary_projection"></a>Geostationary projection</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = geostationary</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>perspective_point_height</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>sweep_angle_axis</code></strong></p>
</li>
<li>
<p><strong><code>fixed_angle_axis</code></strong></p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_angular_coordinate</code></strong> and <strong><code>projection_y_angular_coordinate</code></strong>, respectively.
It is assumed that the y-axis is aligned to the Earth&#8217;s N/S axis, whereas the x-axis aligns with the E/W axis.
CF specified the standard names <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> for these coordinates prior to version 1.9, but that use is deprecated.
In the case of this projection, the projection coordinates are the scanning angle of the satellite instrument.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>The geostationary projection assumes a hypothetical view of the Earth from a perspective above the Earth where the azimuth and elevation viewing angles are described using a hypothetical gimbal model.
This model is independent of the physical scan principles of any observing instrument.
The model consists conceptually of a set of two rotating circles with a colocated centre, whose axes of rotation are perpendicular to each other.
The axis of the outer circle is stationary, while the axis of the inner circle moves about the stationary axis.
This means that a given viewing angle described using this model is the result of matrix multiplications, which is not commutative, so that order of operations is essential in achieving accurate results.
The two axes are conventionally called the sweep-angle and fixed-angle axes; we adhere to this terminology, although some find these terms confusing, for the sake of interoperability with existing implementations.</p>
<div class="paragraph">
<p>The algorithm for computing the mapping may be found at <a href="https://www.cgms-info.org/documents/pdf_cgms_03.pdf"><a href="https://www.cgms-info.org/documents/pdf_cgms_03.pdf" class="bare">https://www.cgms-info.org/documents/pdf_cgms_03.pdf</a></a>.
This document assumes the point of observation is directly over the equator, and that the <strong><code>sweep_angle_axis</code></strong> is y.</p>
</div>
<div class="paragraph">
<p>Explanatory diagrams for the projection may be found <a href="https://proj.org/operations/projections/geos.html">on the PROJ website</a>, as well as notes on using the PROJ software for computing the mapping.</p>
</div>
<div class="paragraph">
<p>The <strong><code>perspective_point_height</code></strong> is the distance to the surface of the ellipsoid.</p>
</div>
<div class="paragraph">
<p>The <strong><code>sweep_angle_axis</code></strong> attribute indicates the axis on which the view sweeps.
It corresponds to the outer-gimbal (stable) axis of the gimbal view model.
For example, the value = "y" corresponds to the Meteosat satellites, the value = "x" to the GOES satellites.</p>
</div>
<div class="paragraph">
<p>The <strong><code>fixed_angle_axis</code></strong> attribute indicates the axis on which the view is fixed.
It corresponds to the inner-gimbal axis of the gimbal view model, whose axis of rotation moves about the outer-gimbal axis.
If <strong><code>fixed_angle_axis</code></strong> is "x", <strong><code>sweep_angle_axis</code></strong> is "y", and vice versa.
Only one of those the attributes <strong><code>fixed_angle_axis</code></strong> or <strong><code>sweep_angle_axis</code></strong> is mandatory, as they can be used to infer each other.
Note also that the values "x" and "y" are not case-sensitive.</p>
</div>
<div class="paragraph">
<p>The use of <code>projection_x_coordinate</code> and <code>projection_y_coordinate</code> was deprecated in version 1.9 of the CF Conventions.
The initial definition of this projection used these standard names to identify the projection coordinates even though their canonical units (meters) do not match those required for this projection (radians).</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="lambert-azimuthal-equal-area"><a class="anchor" href="#lambert-azimuthal-equal-area"></a>Lambert azimuthal equal area</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = lambert_azimuthal_equal_area</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software package for computing the mapping may be found at
<a href="https://proj.org/operations/projections/laea.html"><a href="https://proj.org/operations/projections/laea.html" class="bare">https://proj.org/operations/projections/laea.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/lambert_azimuthal_equal_area.html"><a href="http://geotiff.maptools.org/proj_list/lambert_azimuthal_equal_area.html" class="bare">http://geotiff.maptools.org/proj_list/lambert_azimuthal_equal_area.html</a></a></p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_lambert_conformal"><a class="anchor" href="#_lambert_conformal"></a>Lambert conformal</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = lambert_conformal_conic</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>standard_parallel</code></strong> - There may be 1 or 2 values.</p>
</li>
<li>
<p><strong><code>longitude_of_central_meridian</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software package for computing the mapping may be found at <a href="https://proj.org/operations/projections/lcc.html"><a href="https://proj.org/operations/projections/lcc.html" class="bare">https://proj.org/operations/projections/lcc.html</a></a>.
and
<a href="http://geotiff.maptools.org/proj_list/lambert_conic_conformal_1sp.html"><a href="http://geotiff.maptools.org/proj_list/lambert_conic_conformal_1sp.html" class="bare">http://geotiff.maptools.org/proj_list/lambert_conic_conformal_1sp.html</a></a>
("Lambert Conic Conformal (1SP)" or EPSG 9801) or
<a href="http://geotiff.maptools.org/proj_list/lambert_conic_conformal_2sp.html"><a href="http://geotiff.maptools.org/proj_list/lambert_conic_conformal_2sp.html" class="bare">http://geotiff.maptools.org/proj_list/lambert_conic_conformal_2sp.html</a></a>
 ("Lambert Conic Conformal (2SP)" or EPSG 9802). For the 1SP variant, latitude_of_projection_origin=standard_parallel and the PROJ scale factor is 1.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_lambert_cylindrical_equal_area"><a class="anchor" href="#_lambert_cylindrical_equal_area"></a>Lambert Cylindrical Equal Area</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = lambert_cylindrical_equal_area</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_central_meridian</code></strong></p>
</li>
<li>
<p>Either <strong><code>standard_parallel</code></strong> or <strong><code>scale_factor_at_projection_origin</code></strong> (deprecated)</p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software packages for computing the mapping may be found at
<a href="https://proj.org/operations/projections/cea.html"><a href="https://proj.org/operations/projections/cea.html" class="bare">https://proj.org/operations/projections/cea.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/cylindrical_equal_area.html"><a href="http://geotiff.maptools.org/proj_list/cylindrical_equal_area.html" class="bare">http://geotiff.maptools.org/proj_list/cylindrical_equal_area.html</a></a>
("Lambert Cylindrical Equal Area" or EPSG 9834 or EPSG 9835).
Detailed formulas can be found in <a href="#Snyder">[Snyder]</a> pages 76-85.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_latitude_longitude"><a class="anchor" href="#_latitude_longitude"></a>Latitude-Longitude</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = latitude_longitude</pre>
</div>
</div>
<div class="paragraph">
<p>This grid mapping defines the canonical 2D geographical coordinate system based upon latitude and longitude coordinates.
It is included so that the figure of the Earth can be described.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<p>None.</p>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The rectangular coordinates are longitude and latitude identified by the usual conventions (<a href="#latitude-coordinate">Section 4.1, "Latitude Coordinate"</a> and <a href="#longitude-coordinate">Section 4.2, "Longitude Coordinate"</a>).</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_mercator"><a class="anchor" href="#_mercator"></a>Mercator</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = mercator</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p>Either <strong><code>standard_parallel</code></strong> (EPSG 9805) or <strong><code>scale_factor_at_projection_origin</code></strong> (EPSG 9804)</p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software packages for computing the mapping may be found at
<a href="https://proj.org/operations/projections/merc.html"><a href="https://proj.org/operations/projections/merc.html" class="bare">https://proj.org/operations/projections/merc.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/mercator_1sp.html"><a href="http://geotiff.maptools.org/proj_list/mercator_1sp.html" class="bare">http://geotiff.maptools.org/proj_list/mercator_1sp.html</a></a>
("Mercator (1SP)" or EPSG 9804)
or
<a href="http://geotiff.maptools.org/proj_list/mercator_2sp.html"><a href="http://geotiff.maptools.org/proj_list/mercator_2sp.html" class="bare">http://geotiff.maptools.org/proj_list/mercator_2sp.html</a></a>
("Mercator (2SP)" or EPSG 9805).</p>
<div class="paragraph">
<p>More information on formulas available in <a href="#OGP-EPSG_GN7_2">[OGP-EPSG_GN7_2]</a>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_oblique_mercator"><a class="anchor" href="#_oblique_mercator"></a>Oblique Mercator</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = oblique_mercator</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>azimuth_of_central_line</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>scale_factor_at_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software package for computing the mapping may be found at
<a href="https://proj.org/operations/projections/omerc.html"><a href="https://proj.org/operations/projections/omerc.html" class="bare">https://proj.org/operations/projections/omerc.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/oblique_mercator.html"><a href="http://geotiff.maptools.org/proj_list/oblique_mercator.html" class="bare">http://geotiff.maptools.org/proj_list/oblique_mercator.html</a></a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_orthographic"><a class="anchor" href="#_orthographic"></a>Orthographic</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = orthographic</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software packages for computing the mapping may be found at
<a href="https://proj.org/operations/projections/ortho.html"><a href="https://proj.org/operations/projections/ortho.html" class="bare">https://proj.org/operations/projections/ortho.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/orthographic.html"><a href="http://geotiff.maptools.org/proj_list/orthographic.html" class="bare">http://geotiff.maptools.org/proj_list/orthographic.html</a></a>
("Orthographic" or EPSG 9840).</p>
<div class="paragraph">
<p>More information on formulas available in <a href="#OGP-EPSG_GN7_2">[OGP-EPSG_GN7_2]</a>.</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="polar-stereographic"><a class="anchor" href="#polar-stereographic"></a>Polar stereographic</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = polar_stereographic</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong> or <strong><code>straight_vertical_longitude_from_pole</code></strong> (deprecated)</p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong> - Either +90. or -90.</p>
</li>
<li>
<p>Either <strong><code>standard_parallel</code></strong> (EPSG 9829) or <strong><code>scale_factor_at_projection_origin</code></strong> (EPSG 9810)</p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software package for computing the mapping may be found at
<a href="https://proj.org/operations/projections/stere.html"><a href="https://proj.org/operations/projections/stere.html" class="bare">https://proj.org/operations/projections/stere.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/polar_stereographic.html"><a href="http://geotiff.maptools.org/proj_list/polar_stereographic.html" class="bare">http://geotiff.maptools.org/proj_list/polar_stereographic.html</a></a>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810).
As PROJ requires the standard parallel, [Snyder] formula 21-7 can be used to compute it from the scale factor if needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rotated_pole"><a class="anchor" href="#_rotated_pole"></a>Rotated pole</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = rotated_latitude_longitude</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>grid_north_pole_latitude</code></strong></p>
</li>
<li>
<p><strong><code>grid_north_pole_longitude</code></strong></p>
</li>
<li>
<p><strong><code>north_pole_grid_longitude</code></strong> - This parameter is optional (default is 0).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The rotated latitude and longitude coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>grid_latitude</code></strong> and <strong><code>grid_longitude</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>&#160;</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_sinusoidal"><a class="anchor" href="#_sinusoidal"></a>Sinusoidal</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = sinusoidal</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Notes on using the <strong><code>PROJ</code></strong> software package for computing the mapping may be found at
<a href="https://proj.org/operations/projections/sinu.html"><a href="https://proj.org/operations/projections/sinu.html" class="bare">https://proj.org/operations/projections/sinu.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/sinusoidal.html"><a href="http://geotiff.maptools.org/proj_list/sinusoidal.html" class="bare">http://geotiff.maptools.org/proj_list/sinusoidal.html</a></a>.
Detailed formulas can be found in <a href="#Snyder">[Snyder]</a>, pages 243-248.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_stereographic"><a class="anchor" href="#_stereographic"></a>Stereographic</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = stereographic</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>scale_factor_at_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Formulas for the mapping and its inverse along with notes on using the <strong><code>PROJ</code></strong> software package for doing the calcuations may be found at
<a href="https://proj.org/operations/projections/stere.html"><a href="https://proj.org/operations/projections/stere.html" class="bare">https://proj.org/operations/projections/stere.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/stereographic.html"><a href="http://geotiff.maptools.org/proj_list/stereographic.html" class="bare">http://geotiff.maptools.org/proj_list/stereographic.html</a></a>.
See the section "Polar stereographic" for the special case when the projection origin is one of the poles.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_transverse_mercator"><a class="anchor" href="#_transverse_mercator"></a>Transverse Mercator</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = transverse_mercator</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>scale_factor_at_central_meridian</code></strong></p>
</li>
<li>
<p><strong><code>longitude_of_central_meridian</code></strong></p>
</li>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute values <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>Formulas for the mapping and its inverse along with notes on using the <strong><code>PROJ</code></strong> software package for doing the calcuations may be found at
<a href="https://proj.org/operations/projections/tmerc.html"><a href="https://proj.org/operations/projections/tmerc.html" class="bare">https://proj.org/operations/projections/tmerc.html</a></a>
and
<a href="http://geotiff.maptools.org/proj_list/transverse_mercator.html"><a href="http://geotiff.maptools.org/proj_list/transverse_mercator.html" class="bare">http://geotiff.maptools.org/proj_list/transverse_mercator.html</a></a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="vertical-perspective"><a class="anchor" href="#vertical-perspective"></a>Vertical perspective</h3>
<div class="listingblock">
<div class="content">
<pre>grid_mapping_name = vertical_perspective</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Map parameters:</em></dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong><code>latitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>longitude_of_projection_origin</code></strong></p>
</li>
<li>
<p><strong><code>perspective_point_height</code></strong></p>
</li>
<li>
<p><strong><code>false_easting</code></strong> - This parameter is optional (default is 0)</p>
</li>
<li>
<p><strong><code>false_northing</code></strong> - This parameter is optional (default is 0)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>Map coordinates:</em></dt>
<dd>
<p>The x (abscissa) and y (ordinate) rectangular coordinates are identified by the <strong><code>standard_name</code></strong> attribute value <strong><code>projection_x_coordinate</code></strong> and <strong><code>projection_y_coordinate</code></strong> respectively.</p>
</dd>
<dt class="hdlist1"><em>Notes:</em></dt>
<dd>
<p>A general description of vertical perspective projection is given in <a href="#Snyder">[Snyder]</a>, pages 169-181.</p>
<div class="paragraph">
<p>The corresponding projection in PROJ is nsper.
This should not be confused with the PROJ geos projection.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In the following table the "Type" values are <strong>S</strong> for string and <strong>N</strong> for numeric.</p>
</div>
<table id="table-grid-mapping-attributes" class="tableblock frame-all grid-all stretch">
<caption class="title">Table F.1. Grid Mapping Attributes</caption>
<colgroup>
<col style="width: 26.0869%;">
<col style="width: 4.3478%;">
<col style="width: 69.5653%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>azimuth_of_central_line</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a horizontal angle measured in degrees clockwise from North.
Used by certain projections (e.g., Oblique Mercator) to define the orientation of the map projection relative to a reference direction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>crs_wkt</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This optional attribute may be used to specify multiple coordinate system properties in well-known text (WKT) format.
The syntax must conform to the WKT format as specified in reference <a href="#OGC_WKT-CRS">[OGC_WKT-CRS]</a>.
Use of the <strong><code>crs_wkt</code></strong> attribute is described in section 5.6.1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>earth_radius</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to specify the radius, in metres, of the spherical figure used to approximate the shape of the Earth.
This attribute should be specified for those projected coordinate reference systems in which the X-Y cartesian coordinates have been derived using a spherical Earth approximation.
If the cartesian coordinates were derived using an ellipsoid, this attribute should not be defined.
Example: "6371007", which is the radius of the GRS 1980 Authalic Sphere.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>false_easting</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applied to all abscissa values in the rectangular coordinates for a map projection in order to eliminate negative numbers.
Expressed in the unit of the coordinate variable identified by the standard name <strong><code>projection_x_coordinate</code></strong>.
If <strong><code>false_easting</code></strong> is not provided it is assumed to be 0.
The formula to convert from the coordinate value as written in the <strong><code>projection_x_coordinate</code></strong> (xf) to a value (x0) used in a transformation without <strong><code>false_easting</code></strong>, i.e. <strong><code>false_easting</code></strong>= 0, is: x0 = xf -<strong><code>false_easting</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>false_northing</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Applied to all ordinate values in the rectangular coordinates for a map projection in order to eliminate negative numbers.
Expressed in the unit of the coordinate variable identified by the standard name <strong><code>projection_y_coordinate</code></strong>.
If <strong><code>false_northing</code></strong> is not provided it is assumed to be 0.
The formula to convert from the coordinate value as written in the <strong><code>projection_y_coordinate</code></strong> (yf) to a value (y0) used in a transformation without <strong><code>false_northing</code></strong>, i.e.
<strong><code>false_northing</code></strong>= 0, is: y0 = yf -<strong><code>false_northing</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>fixed_angle_axis</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the axis on which the view is fixed in a hypothetical gimbal view model of the Earth, as used in the geostationary grid mapping.
It corresponds to the inner-gimbal axis of the gimbal view model, whose axis of rotation moves about the outer-gimbal axis.
This value can adopt two values, "x" or "y", corresponding with the Earth&#8217;s E-W or N-S axis, respectively.
The counterpart to this attribute is <code>sweep_angle_axis</code>.
If set to "x", <code>sweep_angle_axis</code> is "y", and vice versa.
If one of the attributes <code>fixed_angle_axis</code> or <code>sweep_angle_axis</code> is provided, the other is not mandatory, as they can be used to infer each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>geographic_crs_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the geographic coordinate reference system.
Corresponds to a OGC WKT GEOGCS node name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>geoid_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the estimate or model of the geoid being used as a datum, e.g. GEOID12B.
Corresponds to an OGC WKT VERT_DATUM name.
The geoid is the surface of constant geopotential that the ocean would follow if it were at rest.
This attribute and <strong><code>geopotential_datum_name</code></strong> cannot both be specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>geopotential_datum_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of an estimated surface of constant geopotential being used as a datum, e.g. NAVD88.
Such a surface is often called an equipotential surface in geodesy.
Corresponds to an OGC WKT VERT_DATUM name.
This attribute and <strong><code>geoid_name</code></strong> cannot both be specified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>grid_mapping_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name used to identify the grid mapping.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>grid_north_pole_latitude</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True latitude (degrees_north) of the north pole of the rotated grid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>grid_north_pole_longitude</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True longitude (degrees_east) of the north pole of the rotated grid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>horizontal_datum_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the geodetic (horizontal) datum, which corresponds to the procedure used to measure positions on the surface of the Earth.
Valid datum names and their associated parameters are given in <a href="https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements" class="bare">https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements</a> (horiz_datum.csv, OGC_DATUM_NAME column) and are obtained by transforming the EPSG name using the following rules (used by OGR and Cadcorp): convert all non alphanumeric characters (including +) to underscores, then strip any leading, trailing or repeating underscores.
This is to ensure that named datums can be correctly identified for precise datum transformations  (see <a href="https://github.com/cf-convention/cf-conventions/wiki/OGC-WKT-Coordinate-System-Issues" class="bare">https://github.com/cf-convention/cf-conventions/wiki/OGC-WKT-Coordinate-System-Issues</a> for more details).
Corresponds to a OGC WKT DATUM node name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>inverse_flattening</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to specify the <em>inverse</em> flattening (<em>1/f</em>) of the ellipsoidal figure associated with the geodetic datum and used to approximate the shape of the Earth.
The flattening (<em>f</em>) of the ellipsoid is related to the semi-major and semi-minor axes by the formula <em>f = (a-b)/a</em>.
In the case of a spherical Earth this attribute should be omitted or set to zero.
Example: 298.257222101 for the GRS 1980 ellipsoid.
(Note: By convention the dimensions of an ellipsoid are specified using either the semi-major and semi-minor axis lengths, or the semi-major axis length and the inverse flattening.
If all three attributes are specified then the supplied values must be consistent with the aforementioned formula.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>latitude_of_projection_origin</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The latitude (degrees_north) chosen as the origin of rectangular coordinates for a map projection.
Domain:<br>
     <strong><code>-90.0 &lt;= latitude_of_projection_origin &lt;= 90.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>longitude_of_central_meridian</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The line of longitude (degrees_east) at the center of a map projection generally used as the basis for constructing the projection.
Domain:<br>
     <strong><code>-180.0 &lt;= longitude_of_central_meridian &lt; 180.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>longitude_of_prime_meridian</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the longitude, with respect to Greenwich, of the prime meridian associated with the geodetic datum.
The prime meridian defines the origin from which longitude values are determined.
Not to be confused with the projection origin longitude (cf. <strong><code>longitude_of_projection_origin</code></strong>, a.k.a. central meridian) which defines the longitude of the map projection origin.
Domain: + <strong><code>-180.0 &lt;= longitude_of_prime_meridian &lt; 180.0</code></strong> decimal degrees.
Default = <strong><code>0.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>longitude_of_projection_origin</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The longitude (degrees_east) chosen as the origin of rectangular coordinates for a map projection.
Domain: + <strong><code>-180.0 &lt;= longitude_of_projection_origin &lt; 180.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>north_pole_grid_longitude</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Longitude (degrees) of the true north pole in the rotated grid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>perspective_point_height</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Records the height, <em>in metres</em>, of the map projection perspective point above the ellipsoid (or sphere).
Used by perspective-type map projections, for example the Vertical Perspective Projection, which may be used to simulate the view from a Meteosat satellite.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>prime_meridian_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the prime meridian associated with the geodetic datum.
Valid names are given in <a href="https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements" class="bare">https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements</a> (prime_meridian.csv).
Corresponds to a OGC WKT PRIMEM node name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>projected_crs_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the projected coordinate reference system.
Corresponds to a OGC WKT PROJCS node name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>reference_ellipsoid_name</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the reference ellipsoid.
Valid names are given in <a href="https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements" class="bare">https://github.com/cf-convention/cf-conventions/wiki/Mapping-from-CF-Grid-Mapping-Attributes-to-CRS-WKT-Elements</a> (ellipsoid.csv).
Corresponds to a OGC WKT SPHEROID node name.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>scale_factor_at_central_meridian</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A multiplier for reducing a distance obtained from a map by computation or scaling to the actual distance along the central meridian.
Domain: <strong><code>scale_factor_at_central_meridian &gt; 0.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>scale_factor_at_projection_origin</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A multiplier for reducing a distance obtained from a map by computation or scaling to the actual distance at the projection origin.
Domain: <strong><code>scale_factor_at_projection_origin &gt; 0.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>semi_major_axis</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the length, <em>in metres</em>, of the semi-major axis of the ellipsoidal figure associated with the geodetic datum and used to approximate the shape of the Earth.
Commonly denoted using the symbol <em>a</em>.
In the case of a spherical Earth approximation this attribute defines the radius of the Earth.
See also the <strong><code>inverse_flattening</code></strong> attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>semi_minor_axis</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the length, <em>in metres</em>, of the semi-minor axis of the ellipsoidal figure associated with the geodetic datum and used to approximate the shape of the Earth.
Commonly denoted using the symbol <em>b</em>.
In the case of a spherical Earth approximation this attribute should be omitted (the preferred option) or else set equal to the value of the semi_major_axis attribute.
See also the inverse_flattening attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>standard_parallel</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the line, or lines, of latitude at which the developable map projection surface (plane, cone, or cylinder) touches the reference sphere or ellipsoid used to represent the Earth.
Since there is zero scale distortion along a standard parallel it is also referred to as a "latitude of true scale".
In the situation where a conical developable surface intersects the reference ellipsoid there are two standard parallels, in which case this attribute can be used as a vector to record both latitude values, with the additional convention that the standard parallel nearest the pole (N or S) is provided first.
Domain: <strong><code>-90.0 &lt;= standard_parallel &lt;= 90.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>straight_vertical_longitude_from_pole</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Deprecated</em>. Has the same meaning as <strong><code>longitude_of_projection_origin</code></strong>, which must be used instead.
Domain: <strong><code>-180.0 &lt;= straight_vertical_longitude_from_pole &lt; 180.0</code></strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>sweep_angle_axis</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the axis on which the view sweeps in a hypothetical gimbal view model of the Earth, as used in the geostationary grid mapping.
It corresponds to the outer-gimbal axis of the gimbal view model, about whose axis of rotation the gimbal-gimbal axis moves.
This value can adopt two values, "x" or "y", corresponding with the Earth&#8217;s E-W or N-S axis, respectively.
The counterpart to this attribute is <code>fixed_angle_axis</code>.
If set to "x", <code>fixed_angle_axis</code> is "y", and vice versa.
If one of the attributes <code>fixed_angle_axis</code> or <code>sweep_angle_axis</code> is provided, the other is not mandatory, as they can be used to infer each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>towgs84</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This indicates a list of up to 7 Bursa Wolf transformation parameters., which can be used to approximate a transformation from the horizontal datum to the WGS84 datum.
More precise datum transformations can be done with datum shift grids.
Represented as a double-precision array, with 3, 6 or 7 values (if there are less than 7 values the remaining are considered to be zero).
Corresponds to a OGC WKT TOWGS84 node.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Notes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The various <strong><code>*_name</code></strong> attributes are optional but recommended when known as they allow for a better description and interoperability with WKT definitions.</p>
</li>
<li>
<p><strong><code>reference_ellipsoid_name</code></strong>, <strong><code>prime_meridian_name</code></strong>, <strong><code>horizontal_datum_name</code></strong> and <strong><code>geographic_crs_name</code></strong> must be all defined if any one is defined, and if <strong><code>projected_crs_name</code></strong> is defined then <strong><code>geographic_crs_name</code></strong> must be also.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_revision_history"><a class="anchor" href="#_revision_history"></a>Appendix G: Revision History</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The content in this appendix has moved to <a href="#revhistory">Revision History</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-examples-discrete-geometries"><a class="anchor" href="#appendix-examples-discrete-geometries"></a>Appendix H: Annotated Examples of Discrete Geometries</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="point-data"><a class="anchor" href="#point-data"></a>H.1. Point Data</h3>
<div class="paragraph">
<p>To represent data at scattered locations and times with no implied relationship among of coordinate positions, both data and coordinates must share the same (sample) instance dimension.  
Because each feature contains only a single data element, there is no need for a separate element dimension.
The representation of point features is a special, degenerate case of the standard four representations.
The <strong><code>coordinates</code></strong> attribute is used on the data variables to unambiguously identify the relevant space and time auxiliary coordinate variables.</p>
</div>
<div id="example-h.1" class="exampleblock">
<div class="title">Example H.1. Point data.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = 1234 ;

   variables:
      double time(obs) ;
          time:standard_name = “time”;
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(obs) ;
          lon:standard_name = "longitude";
          lon:long_name = "longitude of the observation";
          lon:units = "degrees_east";
      float lat(obs) ;
          lat:standard_name = "latitude";
          lat:long_name = "latitude of the observation" ;
          lat:units = "degrees_north" ;
      float alt(obs) ;
          alt:long_name = "vertical distance above the surface" ;
          alt:standard_name = "height" ;
          alt:units = "m";
          alt:positive = "up";
          alt:axis = "Z";

      float humidity(obs) ;
          humidity:standard_name = "specific_humidity" ;
          humidity:coordinates = "time lat lon alt" ;
      float temp(obs) ;
          temp:standard_name = "air_temperature" ;
          temp:units = "Celsius" ;
          temp:coordinates = "time lat lon alt" ;

   attributes:
      :featureType = "point";</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the humidity(i) and temp(i) data are associated with the coordinate values time(i), lat(i), lon(i), and alt(i).
The obs dimension may optionally be the netCDF unlimited dimension of the netCDF file.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="time-series-data"><a class="anchor" href="#time-series-data"></a>H.2. Time Series Data</h3>
<div class="paragraph">
<p>Data may be taken over periods of time at a set of discrete point, spatial locations called stations (see also discussion in 9.1).
The set of elements at a particular station is referred to as a timeSeries feature and a data variable may contain a collection of such features.
The instance dimension in the case of timeSeries specifies the number of time series in the collection and is also referred to as the station dimension.
The instance variables, which have just this dimension, including latitude and longitude for example, are also referred to as station variables and are considered to contain information describing the stations.
The station variables may contain missing values, allowing one to reserve space for additional stations that may be added at a later time, as discussed in section 9.6.
In addition,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is strongly recommended that there should be a station variable (which may be of any type) with the attribute <strong><code>cf_role=&#8221;timeseries_id&#8221;</code></strong>, whose values uniquely identify the stations.</p>
</li>
<li>
<p>It is recommended that there should be station variables with standard_name attributes " <strong><code>platform_name</code></strong> ", " <strong><code>surface_altitude</code></strong> " and &#8220; <strong><code>platform_id</code></strong> &#8221; when applicable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All the representations described in section 9.3 can be used for time series.
The global attribute <strong><code>featureType=&#8221;timeSeries&#8221;</code></strong> (case-insensitive) must be included.</p>
</div>
<div class="sect3">
<h4 id="_orthogonal_multidimensional_array_representation_of_time_series"><a class="anchor" href="#_orthogonal_multidimensional_array_representation_of_time_series"></a>H.2.1. Orthogonal multidimensional array representation of time series</h4>
<div class="paragraph">
<p>If the time series instances have the same number of elements and the time values are identical for all instances, you may use the orthogonal multidimensional array representation.
This has either a one-dimensional coordinate variable, time(time), provided the time values are in strict monotonically increasing order, or a one-dimensional auxiliary coordinate variable, time(o), where o is the element dimension.
In the former case, listing the time variable in the <strong><code>coordinates</code></strong> attributes of the data variables is optional.</p>
</div>
<div id="example-h.2" class="exampleblock">
<div class="title">Example H.2. Timeseries with common element times in a time coordinate variable using the orthogonal multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
     station = 10 ;  // measurement locations
     time = UNLIMITED ;

   variables:
     float humidity(station,time) ;
       humidity:standard_name = "specific humidity" ;
       humidity:coordinates = "lat lon alt station_name" ;
       humidity:_FillValue = -999.9f;
     double time(time) ;
       time:standard_name = "time";
       time:long_name = "time of measurement" ;
       time:units = "days since 1970-01-01 00:00:00" ;
     float lon(station) ;
       lon:standard_name = "longitude";
       lon:long_name = "station longitude";
       lon:units = "degrees_east";
     float lat(station) ;
       lat:standard_name = "latitude";
       lat:long_name = "station latitude" ;
       lat:units = "degrees_north" ;
     float alt(station) ;
       alt:long_name = "vertical distance above the surface" ;
       alt:standard_name = "height" ;
       alt:units = "m";
       alt:positive = "up";
       alt:axis = "Z";
     string station_name(station) ;
       station_name:long_name = "station name" ;
       station_name:cf_role = "timeseries_id";
   attributes:
       :featureType = "timeSeries";</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, <strong><code>humidity(i,o)</code></strong> is element o of time series i, and associated with the coordinate values <strong><code>time(o)</code></strong>, <strong><code>lat(i)</code></strong>, and <strong><code>lon(i)</code></strong>.
Either the instance (station) or the element (time) dimension may optionally be the netCDF unlimited dimension.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_incomplete_multidimensional_array_representation_of_time_series"><a class="anchor" href="#_incomplete_multidimensional_array_representation_of_time_series"></a>H.2.2. Incomplete multidimensional array representation of time series</h4>
<div class="paragraph">
<p>Much of the simplicity of the orthogonal multidimensional representation can be preserved even in cases where individual time series have different time coordinate values.
All time series must be allocated the amount of staorage needed by the longest, so the use of this representation will trade off simplicity against storage space in some cases.  </p>
</div>
<div id="example-h.3" class="exampleblock">
<div class="title">Example H.3. Timeseries of station data in the incomplete multidimensional array representation.    </div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      station = UNLIMITED ;
      obs = 13 ;
      name_strlen = 23 ;

   variables:
      float lon(station) ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
      float lat(station) ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
      float alt(station) ;
          alt:long_name = "vertical distance above the surface" ;
          alt:standard_name = "height" ;
          alt:units = "m";
          alt:positive = "up";
          alt:axis = "Z";
      char station_name(station, name_strlen) ;
          station_name:long_name = "station name" ;
          station_name:cf_role = "timeseries_id";
      int station_info(station) ;
          station_info:long_name = "any kind of station info" ;
      float station_elevation(station) ;
          station_elevationalt:long_name = "height above the geoid" ;
          station_elevationalt:standard_name = "surface_altitude" ;
          station_elevationalt:units = "m";

      double time(station, obs) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
          time:missing_value = -999.9;
      float humidity(station, obs) ;
          humidity:standard_name = “specific_humidity” ;
          humidity:coordinates = "time lat lon alt station_name" ;
          humidity:_FillValue = -999.9f;
      float temp(station, obs) ;
          temp:standard_name = “air_temperature” ;
          temp:units = "Celsius" ;
          temp:coordinates = "time lat lon alt station_name" ;
          temp:_FillValue = -999.9f;

   attributes:
          :featureType = "timeSeries";</pre>
</div>
</div>
<div class="paragraph">
<p>In this example, the humidity(i,o) and temp(i,o) data for element o of time series i are associated with the coordinate values time(i,o), lat(i), lon(i) and alt(i).
Either the instance (station) dimension or the element (obs) dimension could be the unlimited dimension of a netCDF file.
Any unused elements of the data and auxiliary coordinate variables must contain the missing data flag value(section 9.6).</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_single_time_series_including_deviations_from_a_nominal_fixed_spatial_location"><a class="anchor" href="#_single_time_series_including_deviations_from_a_nominal_fixed_spatial_location"></a>H.2.3. Single time series, including deviations from a nominal fixed spatial location</h4>
<div class="paragraph">
<p>When the intention of a data variable is to contain only a single time series, the preferred encoding is a special case of the multidimensional array representation.</p>
</div>
<div id="example-h.4" class="exampleblock">
<div class="title">Example H.4. A single timeseries.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      time = 100233 ;

   variables:
      float lon ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
      float lat ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
      float alt ;
          alt:long_name = "vertical distance above the surface" ;
          alt:standard_name = "height" ;
          alt:units = "m";
          alt:positive = "up";
          alt:axis = "Z";
      string station_name ;
          station_name:long_name = "station name" ;
          station_name:cf_role = "timeseries_id";

      double time(time) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float humidity(time) ;
          humidity:standard_name = “specific_humidity” ;
          humidity:coordinates = "time lat lon alt station_name" ;
          humidity:_FillValue = -999.9f;
      float temp(time) ;
          temp:standard_name = “air_temperature” ;
          temp:units = "Celsius" ;
          temp:coordinates = "time lat lon alt station_name" ;
          temp:_FillValue = -999.9f;

   attributes:
          :featureType = "timeSeries";</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>While an idealized time series is defined at a single, stable point location, there are examples of time series, such as cabled ocean surface mooring measurements, in which the precise position of the observations varies slightly from a nominal fixed point. It is quite common that the deployment position of a station changes after maintenance or repositioning after it drifts.
In the following example we show how the spatial positions of such a time series should be encoded in CF. In addition, this example shows how lossless compression by gathering <a href="#compression-by-gathering">Section 8.2, "Lossless Compression by Gathering"</a> has been applied to the deployment coordinate variables, which otherwise would contain a lot of missing or repetitive data.
Note that although this example shows only a single time series, the technique is applicable to all of the representations.</p>
</div>
<div id="example-h.5" class="exampleblock">
<div class="title">Example H.5. A single timeseries with time-varying deviations from a nominal point spatial location</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      time = 100233 ;
      name_strlen = 23 ;
      deployment = 5 ;

   variables:
      float lon ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
          lon:axis = “X”;
      float lat ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
          lat: axis = “Y” ;
      float precise_lon (time);
          precise_lon:standard_name = "longitude";
          precise_lon:long_name = "station longitude";
          precise_lon:units = "degrees_east";
      float precise_lat (time);
          precise_lat:standard_name = "latitude";
          precise_lat:long_name = "station latitude" ;
          precise_lat:units = "degrees_north" ;
      float deploy_lon (deployment);
          deploy_lon:standard_name = "deployment_longitude";
          deploy_lon:long_name = station longitude";
          deploy_lon:units = "degrees_east";
      float deploy_lat (deployment);
          deploy_lat:standard_name = "deployment_latitude";
          deploy_lat:long_name = station latitude";
          deploy_lat:units = "degrees_north";
      int deployment (deployment) ;
          deployment:long_name = "index of the first time after (re)deployment" ;
          deployment:compress="time";
      float alt ;
          alt:long_name = "vertical distance above the surface" ;
          alt:standard_name = "height" ;
          alt:units = "m";
          alt:positive = "up";
          alt:axis = "Z";
      char station_name(name_strlen) ;
          station_name:long_name = "station name" ;
          station_name:cf_role = "timeseries_id";
      double time(time) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float humidity(time) ;
          humidity:standard_name = “specific_humidity” ;
          humidity:coordinates = "time lat lon alt precise_lon precise_lat deploy_lon deploy_lat station_name" ;
          humidity:_FillValue = -999.9f;
      float temp(time) ;
          temp:standard_name = “air_temperature” ;
          temp:units = "Celsius" ;
          temp:coordinates = "time lat lon alt precise_lon precise_lat deploy_lon deploy_lat station_name" ;
          temp:_FillValue = -999.9f;

   attributes:
          :featureType = "timeSeries";</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_contiguous_ragged_array_representation_of_time_series"><a class="anchor" href="#_contiguous_ragged_array_representation_of_time_series"></a>H.2.4. Contiguous ragged array representation of time series</h4>
<div class="paragraph">
<p>When the time series have different lengths and the data values for entire time series are available to be written in a single operation,  the contiguous ragged array representation is efficient.</p>
</div>
<div id="example-h.6" class="exampleblock">
<div class="title">Example H.6. Timeseries of station data in the contiguous ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      station = 23 ;
      obs = 1234 ;

   variables:
      float lon(station) ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
      float lat(station) ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
      float alt(station) ;
          alt:long_name = "vertical distance above the surface" ;
          alt:standard_name = "height" ;
          alt:units = "m";
          alt:positive = "up";
          alt:axis = "Z";
      string station_name(station) ;
          station_name:long_name = "station name" ;
          station_name:cf_role = "timeseries_id";
      int station_info(station) ;
          station_info:long_name = "some kind of station info" ;
      int row_size(station) ;
          row_size:long_name = "number of observations for this station " ;
          row_size:sample_dimension = "obs" ;

      double time(obs) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float humidity(obs) ;
          humidity:standard_name = “specific_humidity” ;
          humidity:coordinates = "time lat lon alt station_name" ;
          humidity:_FillValue = -999.9f;
      float temp(obs) ;
          temp:standard_name = “air_temperature” ;
          temp:units = "Celsius" ;
          temp:coordinates = "time lat lon alt station_name" ;
          temp:_FillValue = -999.9f;

   attributes:
          :featureType = "timeSeries";</pre>
</div>
</div>
<div class="paragraph">
<p>The data humidity(o) and temp(o) are associated with the coordinate values time(o), lat(i), lon(i), and alt(i), where i indicates which time series.
Time series i comprises the data elements from</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   rowStart(i) to rowStart(i) + row_size(i) - 1</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>      rowStart(i) = 0 if i = 0      
      rowStart(i) = rowStart(i-1) + row_size(i-1) if i &gt; 0</pre>
</div>
</div>
<div class="paragraph">
<p>The variable, <strong><code>row_size</code></strong>, is the count variable containing the length of each time series feature.
It is identified by having an attribute with name <code><strong>sample_dimension</strong></code> whose value is name of the sample dimension (<strong><code>obs</code></strong> in this example).
The sample dimension could optionally be the netCDF unlimited dimension.
The variable bearing the <code><strong>sample_dimension</strong></code> attribute must have the instance dimension (<strong><code>station</code></strong> in this example) as its single dimension, and must have an integer type.
This variable implicitly partitions into individual instances all variables that have the sample dimension.
The auxiliary coordinate variables <strong><code>lat</code></strong>, <strong><code>lon</code></strong>, <strong><code>alt</code></strong> and <strong><code>station_name</code></strong> are station variables.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_indexed_ragged_array_representation_of_time_series"><a class="anchor" href="#_indexed_ragged_array_representation_of_time_series"></a>H.2.5. Indexed ragged array representation of time series</h4>
<div class="paragraph">
<p>When time series with different lengths are written incrementally, the indexed ragged array representation is efficient.</p>
</div>
<div id="example-h.7" class="exampleblock">
<div class="title">Example H.7. Timeseries of station data in the indexed ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      station = 23 ;
      obs = UNLIMITED ;
      name_strlen = 23 ;

   variables:
      float lon(station) ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
      float lat(station) ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
      float alt(station) ;
          alt:long_name = "vertical distance above the surface" ;
          alt:standard_name = "height" ;
          alt:units = "m";
          alt:positive = "up";
          alt:axis = "Z";
      char station_name(station, name_strlen) ;
          station_name:long_name = "station name" ;
          station_name:cf_role = "timeseries_id";
      int station_info(station) ;
          station_info:long_name = "some kind of station info" ;

      int stationIndex(obs) ;
          stationIndex:long_name = "which station this obs is for" ;
          stationIndex:instance_dimension= "station" ;
      double time(obs) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float humidity(obs) ;
          humidity:standard_name = “specific_humidity” ;
          humidity:coordinates = "time lat lon alt station_name" ;
          humidity:_FillValue = -999.9f;
      float temp(obs) ;
          temp:standard_name = “air_temperature” ;
          temp:units = "Celsius" ;
          temp:coordinates = "time lat lon alt station_name" ;
          temp:_FillValue = -999.9f;

   attributes:
          :featureType = "timeSeries";</pre>
</div>
</div>
<div class="paragraph">
<p>The humidity(o) and temp(o) data are associated with the coordinate values time(o), lat(i), lon(i), and alt(i), where i = stationIndex(o) is a zero-based index indicating which time series.
Thus, time(0), humidity(0) and temp(0) belong to the element of the <strong><code>station</code></strong> dimension that is indicated by <strong><code>stationIndex(0)</code></strong> ; time(1), humidity(1) and temp(1) belong to element <strong><code>stationIndex(1)</code></strong> of the <strong><code>station</code></strong> dimension, etc.</p>
</div>
<div class="paragraph">
<p>The variable, <strong><code>stationIndex</code></strong>, is identified as the index variable by having an attribute with name of <code><strong>instance_dimension</strong></code> whose value is the instance dimension (<strong><code>station</code></strong> in this example).
The variable bearing the <code><strong>instance_dimension</strong></code> attribute must have the sample dimension (<strong><code>obs</code></strong> in this example) as its single dimension, and must have an integer type.
This variable implicitly assigns the station to each value of any variable having the sample dimension.
The sample dimension need not be the netCDF unlimited dimension, though it commonly is.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="profile-data"><a class="anchor" href="#profile-data"></a>H.3. Profile Data</h3>
<div class="paragraph">
<p>A series of connected observations along a vertical line, like an atmospheric or ocean sounding, is called a profile.
For each profile, there is a single time, lat and lon.
A data variable may contain a collection of profile features.
The instance dimension in the case of profiles specifies the number of profiles in the collection and is also referred to as the <strong>profile dimension</strong>.
The instance variables, which have just this dimension, including latitude and longitude for example, are also referred to as <strong>profile variables</strong> and are considered to be information about the profiles.
It is strongly recommended that there always be a profile variable (of any data type) with <strong><code>cf_role</code></strong> attribute " <strong><code>profile_id</code></strong> ", whose values uniquely identify the profiles.
The profile variables may contain missing values.
This allows one to reserve space for additional profiles that may be added at a later time, as discussed in section 9.6.
All the representations described in section 9.1.3 can be used for profiles.
The global attribute <strong><code>featureType=&#8221;profile&#8221;</code></strong> (case-insensitive) should be included if all data variables in the file contain profiles.</p>
</div>
<div class="sect3">
<h4 id="_orthogonal_multidimensional_array_representation_of_profiles"><a class="anchor" href="#_orthogonal_multidimensional_array_representation_of_profiles"></a>H.3.1. Orthogonal multidimensional array representation of profiles</h4>
<div class="paragraph">
<p>If the profile instances have the same number of elements and the vertical coordinate values are identical for all instances, you may use the orthogonal multidimensional array representation.
This has either a one-dimensional coordinate variable, z(z), provided the vertical coordinate values are in strict monotonic order, or a one-dimensional auxiliary coordinate variable, alt(o), where o is the element dimension.
In the former case, listing the vertical coordinate variable in the <strong>coordinates</strong> attributes of the data variables is optional.</p>
</div>
<div id="example-h.8" class="exampleblock">
<div class="title">Example H.8. Atmospheric sounding profiles for a common set of vertical coordinates stored in the orthogonal multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      z = 42 ;
      profile = 142 ;

   variables:
      int profile(profile) ;
            profile:cf_role = "profile_id";
      double time(profile);
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(profile);
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(profile);
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;

      float z(z) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;  

      float pressure(profile, z) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat z" ;

      float temperature(profile, z) ;
          temperature:standard_name = "surface_temperature" ;
          temperature:long_name = "skin temperature" ;
          temperature:units = "Celsius" ;
          temperature:coordinates = "time lon lat z" ;

      float humidity(profile, z) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "profile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(i,o), temperature(i,o), and humidity(i,o) data for element o of profile i are associated with the coordinate values time(i), lat(i), and lon(i).
The vertical coordinate for element o in each profile is altitude z(o).
Either the instance (profile) or the element (z) dimension could be the netCDF unlimited dimension.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_incomplete_multidimensional_array_representation_of_profiles"><a class="anchor" href="#_incomplete_multidimensional_array_representation_of_profiles"></a>H.3.2. Incomplete multidimensional array representation of profiles</h4>
<div class="paragraph">
<p>If there are the same number of levels in each profile, but they do not have the same set of vertical coordinates, one can use the incomplete multidimensional array representation, which the vertical coordinate variable is two-dimensional e.g. replacing z(z) in <a href="#example-h.8">"Atmospheric sounding profiles for a common set of vertical coordinates stored in the orthogonal multidimensional array representation."</a> with alt(profile,z).
This representation also allows one to have a variable number of elements in different profiles, at the cost of some wasted space.
In that case, any unused elements of the data and auxiliary coordinate variables must contain missing data values (section 9.6).</p>
</div>
</div>
<div class="sect3">
<h4 id="_single_profile"><a class="anchor" href="#_single_profile"></a>H.3.3. Single profile</h4>
<div class="paragraph">
<p>When a single profile is stored in a file, there is no need for the profile dimension; the data arrays are one-dimensional.
This is a special case of the orthogonal multidimensional array representation (9.3.1).</p>
</div>
<div id="example-h.9" class="exampleblock">
<div class="title">Example H.9. Data from a single atmospheric sounding profile.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      z = 42 ;

   variables:
      int profile ;
          profile:cf_role = "profile_id";

      double time;
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon;
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat;
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;

      float z(z) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;  

      float pressure(z) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat z" ;

      float temperature(z) ;
          temperature:standard_name = "air_temperature" ;
          temperature:units = "degree_celsius" ;
          temperature:coordinates = "time lon lat z" ;

      float humidity(z) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "profile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(o), temperature(o), and humidity(o) data is associated with the coordinate values time, z(o), lat, and lon.
The profile variables time, lat and lon, shown here as scalar, could alternatively be one-dimensional time(profile), lat(profile), lon(profile) if a size-one profile dimension were retained in the file.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_contiguous_ragged_array_representation_of_profiles"><a class="anchor" href="#_contiguous_ragged_array_representation_of_profiles"></a>H.3.4. Contiguous ragged array representation of profiles</h4>
<div class="paragraph">
<p>When the number of vertical levels for each profile varies, and one can control the order of writing, one can use the contiguous ragged array representation.
The canonical use case for this is when rewriting raw data, and you expect that the common read pattern will be to read all the data from each profile.</p>
</div>
<div id="example-h.10" class="exampleblock">
<div class="title">Example H.10. Atmospheric sounding profiles for a common set of vertical coordinates stored in the contiguous ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = UNLIMITED ;
      profile = 142 ;

   variables:
      int profile(profile) ;
          profile:cf_role = "profile_id";
      double time(profile);
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(profile);
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(profile);
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;
       int rowSize(profile) ;
          rowSize:long_name = "number of obs for this profile " ;
          rowSize:sample_dimension = "obs" ;

      float z(obs) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;  

      float pressure(obs) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat z" ;

      float temperature(obs) ;
          temperature:standard_name = "air_temperature" ;
          temperature:units = "degree_celsius" ;
          temperature:coordinates = "time lon lat z" ;

      float humidity(obs) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "profile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(o), temperature(o), and humidity(o) data is associated with the coordinate values time(i), z(o), lat(i), and lon(i), where i indicates which profile.
All elements for one profile are contiguous along the sample dimension.
The sample dimension (obs) may be the unlimited dimension or not.
All variables that have the instance dimension (profile) as their single dimension are considered to be information about the profiles.</p>
</div>
<div class="paragraph">
<p>The count variable (row_size) contains the number of elements for each profile, and is identified by having an attribute with name "sample_dimension" whose value is the sample dimension being counted.
It must have the profile dimension as its single dimension, and must have an integer type.
The elements are associated with the profile using the same algorithm as in H.2.4.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_indexed_ragged_array_representation_of_profiles"><a class="anchor" href="#_indexed_ragged_array_representation_of_profiles"></a>H.3.5. Indexed ragged array representation of profiles</h4>
<div class="paragraph">
<p>When the number of vertical levels for each profile varies, and one cannot write them contiguously, one can use the indexed ragged array representation.
The canonical use case is when writing real-time data streams that contain reports from many profiles, arriving randomly.
If the sample dimension is the unlimited dimension, this allows data to be appended to the file.</p>
</div>
<div id="example-h.11" class="exampleblock">
<div class="title">Example H.11. Atmospheric sounding profiles for a common set of vertical coordinates stored in the indexed ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = UNLIMITED ;
      profile = 142 ;

   variables:
      int profile(profile) ;
          profile:cf_role = "profile_id";
      double time(profile);
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(profile);
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(profile);
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;

      int parentIndex(obs) ;
          parentIndex:long_name = "index of profile " ;
          parentIndex:instance_dimension= "profile" ;
      
       float z(obs) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;  

      float pressure(obs) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat z" ;

      float temperature(obs) ;
          temperature:standard_name = "air_temperature" ;
          temperature:units = "degree_celsius" ;
          temperature:coordinates = "time lon lat z" ;

      float humidity(obs) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "profile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(o), temperature(o), and humidity(o) data are associated with the coordinate values time(i), z(o), lat(i), and lon(i), where i indicates which profile.
The sample dimension (obs) may be the unlimited dimension or not.
The profile index variable (parentIndex) is identified by having an attribute with name of "instance_dimension" whose value is the profile dimension name.
It must have the sample dimension as its single dimension, and must have an integer type.
Each value in the profile index variable is the zero-based profile index that the element belongs to.
The elements are associated with the profiles using the same algorithm as in H.2.5.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trajectory-data"><a class="anchor" href="#trajectory-data"></a>H.4. Trajectory Data</h3>
<div class="paragraph">
<p>Data may be taken along discrete paths through space, each path constituting a connected set of points called a trajectory, for example along a flight path, a ship path or the path of a parcel in a Lagrangian calculation.
A data variable may contain a collection of trajectory features.
The instance dimension in the case of trajectories specifies the number of trajectories in the collection and is also referred to as the <strong>trajectory dimension</strong>.
The instance variables, which have just this dimension, are also referred to as <strong>trajectory variables</strong> and are considered to be information about the trajectories.
It is strongly recommended that there always be a trajectory variable (of any data type) with the attribute <strong><code>cf_role=&#8221;trajectory_id&#8221;</code></strong> attribute, whose values uniquely identify the trajectories.
The trajectory variables may contain missing values.
This allows one to reserve space for additional trajectories that may be added at a later time, as discussed in section 9.6.
All the representations described in section 9.3 can be used for trajectories.
The global attribute <strong><code>featureType=&#8221;trajectory&#8221;</code></strong> (case-insensitive) should be included if all data variables in the file contain trajectories.</p>
</div>
<div class="sect3">
<h4 id="_multidimensional_array_representation_of_trajectories"><a class="anchor" href="#_multidimensional_array_representation_of_trajectories"></a>H.4.1. Multidimensional array representation of trajectories</h4>
<div class="paragraph">
<p>When storing multiple trajectories in the same file, and the number of elements in each trajectory is the same, one can use the multidimensional array representation.
This representation also allows one to have a variable number of elements in different trajectories, at the cost of some wasted space.
In that case, any unused elements of the data and auxiliary coordinate variables must contain missing data values (section 9.6).  </p>
</div>
<div id="example-h.12" class="exampleblock">
<div class="title">Example H.12. Trajectories recording atmospheric composition in the incomplete multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = 1000 ;
      trajectory = 77 ;

   variables:
      string trajectory(trajectory) ;
          trajectory:cf_role = "trajectory_id";
          trajectory:long_name = "trajectory name" ;
      int trajectory_info(trajectory) ;
          trajectory_info:long_name = "some kind of trajectory info"

      double time(trajectory, obs) ;
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(trajectory, obs) ;
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(trajectory, obs) ;
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;

      float z(trajectory, obs) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;

      float O3(trajectory, obs) ;
          O3:standard_name = “mass_fraction_of_ozone_in_air”;
          O3:long_name = "ozone concentration" ;
          O3:units = "1e-9" ;
          O3:coordinates = "time lon lat z" ;

      float NO3(trajectory, obs) ;
          NO3:standard_name = “mass_fraction_of_nitrate_radical_in_air”;
          NO3:long_name = "NO3 concentration" ;
          NO3:units = "1e-9" ;
          NO3:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "trajectory";</pre>
</div>
</div>
<div class="paragraph">
<p>The NO3(i,o) and O3(i,o) data for element o of trajectory i are associated with the coordinate values time(i,o), lat(i,o), lon(i,o), and z(i,o).
Either the instance (trajectory) or the element (obs) dimension could be the netCDF unlimited dimension.
All variables that have trajectory as their only dimension are considered to be information about that trajectory.</p>
</div>
<div class="paragraph">
<p>If the trajectories all have the same set of times, the time auxiliary coordinate variable could be one-dimensional time(obs), or replaced by a one-dimensional coordinate variable time(time), where the size of the time dimension is now equal to the number of elements of each trajectory.
In the latter case, listing the time coordinate variable in the coordinates attribute is optional.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_single_trajectory"><a class="anchor" href="#_single_trajectory"></a>H.4.2. Single trajectory</h4>
<div class="paragraph">
<p>When a single trajectory is stored in the data variable, there is no need for the trajectory dimension and the arrays are one-dimensional.
This is a special case of the multidimensional array representation.</p>
</div>
<div id="example-h.13" class="exampleblock">
<div class="title">Example H.13. A single trajectory recording atmospheric composition.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      time = 42;
      name_strlen = 23 ;

   variables:
      char trajectory(name_strlen) ;
          trajectory:cf_role = "trajectory_id";

      double time(time) ;
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(time) ;
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(time) ;
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;
      float z(time) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;

      float O3(time) ;
          O3:standard_name = “mass_fraction_of_ozone_in_air”;
          O3:long_name = "ozone concentration" ;
          O3:units = "1e-9" ;
          O3:coordinates = "time lon lat z" ;

      float NO3(time) ;
          NO3:standard_name = “mass_fraction_of_nitrate_radical_in_air”;
          NO3:long_name = "NO3 concentration" ;
          NO3:units = "1e-9" ;
          NO3:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "trajectory";</pre>
</div>
</div>
<div class="paragraph">
<p>The NO3(o) and O3(o) data are associated with the coordinate values time(o), z(o), lat(o), and lon(o).
In this example, the time coordinate is ordered, so time values are contained in a coordinate variable i.e. time(time) and time is the element dimension.
The time dimension may be unlimited or not.</p>
</div>
<div class="paragraph">
<p>Note that structurally this looks like unconnected point data as in example 9.5.
The presence of the featureType = "trajectory" global attribute indicates that in fact the points are connected along a trajectory.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_contiguous_ragged_array_representation_of_trajectories"><a class="anchor" href="#_contiguous_ragged_array_representation_of_trajectories"></a>H.4.3. Contiguous ragged array representation of trajectories</h4>
<div class="paragraph">
<p>When the number of elements for each trajectory varies, and one can control the order of writing, one can use the contiguous ragged array representation.
The canonical use case for this is when rewriting raw data, and you expect that the common read pattern will be to read all the data from each trajectory.</p>
</div>
<div id="example-h.14" class="exampleblock">
<div class="title">Example H.14. Trajectories recording atmospheric composition in the contiguous ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = 3443;
      trajectory = 77 ;

   variables:
      string trajectory(trajectory) ;
            trajectory:cf_role = "trajectory_id";
      int rowSize(trajectory) ;
          rowSize:long_name = "number of obs for this trajectory " ;
          rowSize:sample_dimension = "obs" ;

      double time(obs) ;
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(obs) ;
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(obs) ;
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;
      float z(obs) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;

      float O3(obs) ;
          O3:standard_name = “mass_fraction_of_ozone_in_air”;
          O3:long_name = "ozone concentration" ;
          O3:units = "1e-9" ;
          O3:coordinates = "time lon lat z" ;

      float NO3(obs) ;
          NO3:standard_name = “mass_fraction_of_nitrate_radical_in_air”;
          NO3:long_name = "NO3 concentration" ;
          NO3:units = "1e-9" ;
          NO3:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "trajectory";</pre>
</div>
</div>
<div class="paragraph">
<p>The O3(o) and NO3(o) data are associated with the coordinate values time(o), lat(o), lon(o), and alt(o).
All elements for one trajectory are contiguous along the sample dimension.
The sample dimension (obs) may be the unlimited dimension or not.
All variables that have the instance dimension (trajectory) as their single dimension are considered to be information about that trajectory.</p>
</div>
<div class="paragraph">
<p>The count variable (row_size) contains the number of elements for each trajectory, and is identified by having an attribute with name "sample_dimension" whose value is the sample dimension being counted.
It must have the trajectory dimension as its single dimension, and must have an integer type.
The elements are associated with the trajectories using the same algorithm as in H.2.4.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_indexed_ragged_array_representation_of_trajectories"><a class="anchor" href="#_indexed_ragged_array_representation_of_trajectories"></a>H.4.4. Indexed ragged array representation of trajectories</h4>
<div class="paragraph">
<p>When the number of elements at each trajectory vary, and the elements cannot be written in order, one can use the indexed ragged array representation.
The canonical use case is when writing real-time data streams that contain reports from many trajectories.
The data can be written as it arrives; if the flatsample dimension is the unlimited dimension, this allows data to be appended to the file.</p>
</div>
<div id="example-h.15" class="exampleblock">
<div class="title">Example H.15. Trajectories recording atmospheric composition in the indexed ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = UNLIMITED ;
      trajectory = 77 ;
      name_strlen = 23 ;

   variables:
      char trajectory(trajectory, name_strlen) ;
          trajectory:cf_role = "trajectory_id";

      int trajectory_index(obs) ;
          trajectory_index:long_name = "index of trajectory this obs belongs to " ;
          trajectory_index:instance_dimension= "trajectory" ;
      double time(obs) ;
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(obs) ;
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(obs) ;
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;
      float z(obs) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;  

      float O3(obs) ;
          O3:standard_name = “mass_fraction_of_ozone_in_air”;
          O3:long_name = "ozone concentration" ;
          O3:units = "1e-9" ;
          O3:coordinates = "time lon lat z" ;

      float NO3(obs) ;
          NO3:standard_name = “mass_fraction_of_nitrate_radical_in_air”;
          NO3:long_name = "NO3 concentration" ;
          NO3:units = "1e-9" ;
          NO3:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "trajectory";</pre>
</div>
</div>
<div class="paragraph">
<p>The O3(o) and NO3(o) data are associated with the coordinate values time(o), lat(o), lon(o), and alt(o).
All elements for one trajectory will have the same trajectory index value.
The sample dimension (obs) may be the unlimited dimension or not.</p>
</div>
<div class="paragraph">
<p>The index variable (trajectory_index) is identified by having an attribute with name of "instance_dimension" whose value is the trajectory dimension name.
It must have the sample dimension as its single dimension, and must have an integer type.
Each value in the trajectory_index variable is the zero-based trajectory index that the element belongs to.
The elements are associated with the trajectories using the same algorithm as in H.2.5.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="time-series-profiles"><a class="anchor" href="#time-series-profiles"></a>H.5. Time Series of Profiles</h3>
<div class="paragraph">
<p>When profiles are taken repeatedly at a station, one gets a time series of profiles (see also section H.2 for discussion of stations and time series).
The resulting collection of profiles is called a timeSeriesProfile.
A data variable may contain a collection of such timeSeriesProfile features, one feature per station.
The instance dimension in the case of a timeSeriesProfile is also referred to as the <strong>station dimension</strong>.
The instance variables, which have just this dimension, including latitude and longitude for example, are also referred to as <strong>station variables</strong> and are considered to contain information describing the stations.
The station variables may contain missing values.
This allows one to reserve space for additional stations that may be added at a later time, as discussed in section 9.6.
In addition,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It is strongly recommended that there should be a station variable (which may be of any type) with <strong><code>cf_role</code></strong> attribute "<strong><code>timeseries_id</code></strong>", whose values uniquely identify the stations.</p>
</li>
<li>
<p>It is recommended that there should be station variables with standard_name attributes "<strong><code>platform_name</code></strong>", "<strong><code>surface_altitude</code></strong>" and &#8220;<strong><code>platform_id</code></strong>&#8221; when applicable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>TimeSeriesProfiles are more complicated than timeSeries because there are two element dimensions (profile and vertical).
Each time series has a number of profiles from different times as its elements, and each profile has a number of data from various levels as its elements.
It is strongly recommended that there always be a variable (of any data type) with the profile dimension and the <strong><code>cf_role</code></strong> attribute " <strong><code>profile_id</code></strong> ", whose values uniquely identify the profiles.</p>
</div>
<div class="sect3">
<h4 id="_multidimensional_array_representations_of_time_series_profiles"><a class="anchor" href="#_multidimensional_array_representations_of_time_series_profiles"></a>H.5.1. Multidimensional array representations of time series profiles</h4>
<div class="paragraph">
<p>When storing time series of profiles at multiple stations in the same data variable, if there are the same number of time points for all timeSeries, and the same number of vertical levels for every profile, one can use the multidimensional array representation:</p>
</div>
<div id="example-h.16" class="exampleblock">
<div class="title">Example H.16. Time series of atmospheric sounding profiles from a set of locations stored in a multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      station = 22 ;
      profile = 3002 ;
      z = 42 ;

   variables:
      float lon(station) ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
      float lat(station) ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
      string station_name(station) ;
          station_name:cf_role = "timeseries_id" ;
          station_name:long_name = "station name" ;
      int station_info(station) ;
          station_info:long_name = "some kind of station info" ;

      float alt(station, profile , z) ;
          alt:standard_name = “altitude”;
          alt:long_name = "height above mean sea level" ;
          alt:units = "km" ;
          alt:positive = "up" ;
          alt:axis = "Z" ;  

      double time(station, profile ) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
          time:missing_value = -999.9;

      float pressure(station, profile , z) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat alt station_name" ;

      float temperature(station, profile , z) ;
          temperature:standard_name = "surface_temperature" ;
          temperature:long_name = "skin temperature" ;
          temperature:units = "Celsius" ;
          temperature:coordinates = "time lon lat alt station_name" ;

      float humidity(station, profile , z) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat alt station_name" ;

   attributes:
    :featureType = "timeSeriesProfile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(i,p,o), temperature(i,p,o), and humidity(i,p,o) data for element o of profile p at station i are associated with the coordinate values time(i,p), z(i,p,o), lat(i), and lon(i).
Any of the three dimensions could be the netCDF unlimited dimension, if it might be useful to be able enlarge it.</p>
</div>
<div class="paragraph">
<p>If all of the profiles at any given station have the same set of vertical coordinates values, the vertical auxiliary coordinate variable could be dimensioned alt(station, z).
If all the profiles have the same set of vertical coordinates, the vertical auxiliary coordinate variable could be one-dimensional alt(z), or replaced by a one-dimensional coordinate variable z(z), provided the values are in strict monotonic order.
In the latter case, listing the vertical coordinate variable in the coordinates attribute is optional.</p>
</div>
<div class="paragraph">
<p>If the profiles are taken at all stations at the same set of times, the time auxiliary coordinate variable could be one-dimensional time(profile), or replaced by a one-dimensional coordinate variable time(time), where the size of the time dimension is now equal to the number of profiles at each station.
In the latter case, listing the time coordinate variable in the coordinates attribute is optional.</p>
</div>
<div class="paragraph">
<p>If there is only a single set of levels and a single set of times, the multidimensional array representation is formally orthogonal:</p>
</div>
</div>
</div>
<div id="example-h.17" class="exampleblock">
<div class="title">Example H.17. Time series of atmospheric sounding profiles from a set of locations stored in an orthogonal multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
     station = 10 ;  // measurement locations
     pressure = 11 ; // pressure levels
     time = UNLIMITED ;
   variables:
     float humidity(time,pressure,station) ;
       humidity:standard_name = “specific_humidity” ;
       humidity:coordinates = "lat lon" ;
     double time(time) ;
       time:standard_name = "time";
       time:long_name = "time of measurement" ;
       time:units = "days since 1970-01-01 00:00:00" ;
     float lon(station) ;
       lon:long_name = "station longitude";
       lon:units = "degrees_east";
     float lat(station) ;
       lat:long_name = "station latitude" ;
       lat:units = "degrees_north" ;
     float pressure(pressure) ;
       pressure:standard_name = "air_pressure" ;
       pressure:long_name = "pressure" ;
       pressure:units = "hPa" ;
       pressure:axis = "Z" ;</pre>
</div>
</div>
<div class="paragraph">
<p><strong><code>humidity(p,o,i)</code></strong> is associated with the coordinate values <strong><code>time(p)</code></strong>, <strong><code>pressure(o)</code></strong>, <strong><code>lat(i)</code></strong>, and <strong><code>lon(i)</code></strong>.
The number of profiles equals the number of times.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>At the cost of some wasted space, the multidimensional array representation also allows one to have a variable number of profiles for different stations, and varying numbers of levels for different profiles.
In these cases, any unused elements of the data and auxiliary coordinate variables must contain missing data values (section 9.6).</p>
</div>
</div>
<div class="sect3">
<h4 id="_time_series_of_profiles_at_a_single_station"><a class="anchor" href="#_time_series_of_profiles_at_a_single_station"></a>H.5.2. Time series of profiles at a single station</h4>
<div class="paragraph">
<p>If there is only one station in the data variable, there is no need for the station dimension:</p>
</div>
<div id="example-h.18" class="exampleblock">
<div class="title">Example H.18. Time series of atmospheric sounding profiles from a single location stored in a multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      profile = 30 ;
      z = 42 ;
      name_strlen = 23 ;

   variables:
      float lon ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
      float lat ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
      char station_name(name_strlen) ;
          station_name:cf_role = "timeseries_id" ;
          station_name:long_name = "station name" ;
      int station_info;
          station_info:long_name = "some kind of station info" ;

      float alt(profile , z) ;
          alt:standard_name = “altitude”;
          alt:long_name = "height above mean sea level" ;
          alt:units = "km" ;
          alt:axis = "Z" ;  
          alt:positive = "up" ;

      double time(profile ) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
          time:missing_value = -999.9;

      float pressure(profile , z) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat alt station_name" ;

      float temperature(profile , z) ;
          temperature:standard_name = "surface_temperature" ;
          temperature:long_name = "skin temperature" ;
          temperature:units = "Celsius" ;
          temperature:coordinates = "time lon lat alt station_name" ;

      float humidity(profile , z) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat alt station_name" ;

   attributes:
    :featureType = "timeSeriesProfile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(p,o), temperature(p,o), and humidity(p,o) data for element o of profile p are associated with the coordinate values time(p), alt(p,o), lat, and lon.
If all the profiles have the same set of vertical coordinates, the vertical auxiliary coordinate variable could be one-dimensional alt(z), or replaced by a one-dimensional coordinate variable z(z), provided the values are in strict monotonic order.
In the latter case, listing the vertical coordinate variable in the coordinates attribute is optional.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ragged_array_representation_of_time_series_profiles"><a class="anchor" href="#_ragged_array_representation_of_time_series_profiles"></a>H.5.3. Ragged array representation of time series profiles</h4>
<div class="paragraph">
<p>When the number of profiles and levels for each station varies, one can use a ragged array representation.
Each of the two element dimensions (time and vertical) could in principle be stored either contiguous or indexed, but this convention supports only one of the four possible choices.
This uses the contiguous ragged array representation for each profile (9.5.43.3), and the indexed ragged array representation to organise the profiles into time series (9.3.54).
The canonical use case is when writing real-time data streams that contain profiles from many stations, arriving randomly, with the data for each entire profile written all at once.</p>
</div>
<div id="example-h.19" class="exampleblock">
<div class="title">Example H.19. Time series of atmospheric sounding profiles from a set of locations stored in a ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = UNLIMITED ;
      profiles = 1420 ;
      stations = 42;

   variables:
      float lon(station) ;
          lon:standard_name = "longitude";
          lon:long_name = "station longitude";
          lon:units = "degrees_east";
      float lat(station) ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;
      float alt(station) ;
          alt:long_name = "altitude above MSL" ;
          alt:units = "m" ;
      string station_name(station) ;
          station_name:long_name = "station name" ;
          station_name:cf_role = "timeseries_id";
      int station_info(station) ;
          station_info:long_name = "some kind of station info" ;

      int profile(profile) ;
          profile:cf_role = "profile_id";
      double time(profile);
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      int station_index(profile) ;
          station_index:long_name = "which station this profile is for" ;
          station_index:instance_dimension = "station" ;
      int row_size(profile) ;
          row_size:long_name = "number of obs for this profile " ;
          row_size:sample_dimension = "obs" ;

      float z(obs) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:axis = "Z" ;  
          z:positive = "up" ;

      float pressure(obs) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat z station_name" ;

      float temperature(obs) ;
          temperature:standard_name = "surface_temperature" ;
          temperature:long_name = "skin temperature" ;
          temperature:units = "Celsius" ;
          temperature:coordinates = "time lon lat z station_name" ;

      float humidity(obs) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat z station_name" ;

   attributes:
      :featureType = "timeSeriesProfile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(o), temperature(o), and humidity(o) data for element o of profile p at station i are associated with the coordinate values time(p), z(o), lat(i), and lon(i).</p>
</div>
<div class="paragraph">
<p>The index variable (station_index) is identified by having an attribute with name of instance_dimension whose value is the instance dimension name (station in this example).
The index variable must have the profile dimension as its sole dimension, and must have an integer type.
Each value in the index variable is the zero-based station index that the profile belongs to i.e. profile p belongs to station i=station_index(p), as in section H.2.5.</p>
</div>
<div class="paragraph">
<p>The count variable (row_size) contains the number of elements for each profile, which must be written contiguously.
The count variable is identified by having an attribute with name sample_dimension whose value is the sample dimension (obs in this example) being counted.
It must have the profile dimension as its sole dimension, and must have an integer type.
The number of elements in profile p is recorded in row_size(p), as in section H.2.4.
The sample dimension need not be the netCDF unlimited dimension,  though it commonly is.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="trajectory-profiles"><a class="anchor" href="#trajectory-profiles"></a>H.6. Trajectory of Profiles</h3>
<div class="paragraph">
<p>When profiles are taken along a trajectory, one gets a collection of profiles called a trajectoryProfile.
A data variable may contain a collection of such trajectoryProfile features, one feature per trajectory.
The instance dimension in the case of a trajectoryProfile is also referred to as the <strong>trajectory dimension</strong>.
The instance variables, which have just this dimension, are also referred to as <strong>trajectory variables</strong> and are considered to contain information describing the trajectories.
The trajectory variables may contain missing values.
This allows one to reserve space for additional trajectories that may be added at a later time, as discussed in section 9.6.
TrajectoryProfiles are more complicated than trajectories because there are two element dimensions.
Each trajectory has a number of profiles as its elements, and each profile has a number of data from various levels as its elements.
It is strongly recommended that there always be a variable (of any data type) with the profile dimension and the <strong><code>cf_role</code></strong> attribute " <strong><code>profile_id</code></strong> ", whose values uniquely identify the profiles.</p>
</div>
<div class="sect3">
<h4 id="_multidimensional_array_representation_of_trajectory_profiles"><a class="anchor" href="#_multidimensional_array_representation_of_trajectory_profiles"></a>H.6.1. Multidimensional array representation of trajectory profiles</h4>
<div class="paragraph">
<p>If there are the same number of profiles for all trajectories, and the same number of vertical levels for every profile, one can use the multidimensional representation:</p>
</div>
<div id="example-h.20" class="exampleblock">
<div class="title">Example H.20. Time series of atmospheric sounding profiles along a set of trajectories stored in a multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      trajectory = 22 ;
      profile = 33;
      z = 42 ;

   variables:
      int trajectory (trajectory ) ;
          trajectory:cf_role = "trajectory_id" ;

      float lon(trajectory, profile) ;
          lon:standard_name = "longitude";
          lon:units = "degrees_east";
      float lat(trajectory, profile) ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;

      float alt(trajectory, profile , z) ;
          alt:standard_name = “altitude”;
          alt:long_name = "height above mean sea level" ;
          alt:units = "km" ;
          alt:positive = "up" ;
          alt:axis = "Z" ;  

      double time(trajectory, profile ) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
          time:missing_value = -999.9;

      float pressure(trajectory, profile , z) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat alt" ;

      float temperature(trajectory, profile , z) ;
          temperature:standard_name = "surface_temperature" ;
          temperature:long_name = "skin temperature" ;
          temperature:units = "Celsius" ;
          temperature:coordinates = "time lon lat alt" ;

      float humidity(trajectory, profile , z) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat alt" ;

   attributes:
    :featureType = "trajectoryProfile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(i,p,o), temperature(i,p,o), and humidity(i,p,o) data for element o of profile p along trajectory i are associated with the coordinate values time(i,p), alt(i,p,o), lat(i,p), and lon(i,p).
Any of the three dimensions could be the netCDF unlimited dimension, if it might be useful to be able enlarge it.</p>
</div>
<div class="paragraph">
<p>If all of the profiles along any given trajectory have the same set of vertical coordinates values, the vertical auxiliary coordinate variable could be dimensioned alt(trajectory, z).
If all the profiles have the same set of vertical coordinates, the vertical auxiliary coordinate variable could be one-dimensional alt(z), or replaced by a one-dimensional coordinate variable z(z), provided the values are in strict monotonic order.
In the latter case, listing the vertical coordinate variable in the coordinates attribute is optional.</p>
</div>
<div class="paragraph">
<p>If the profiles are taken along all the trajectories at the same set of times, the time auxiliary coordinate variable could be one-dimensional time(profile), or replaced by a one-dimensional coordinate variable time(time), where the size of the time dimension is now equal to the number of profiles along each trajectory.
In the latter case, listing the time coordinate variable in the coordinates attribute is optional.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>At the cost of some wasted space, the multidimensional array representation also allows one to have a variable number of profiles for different trajectories, and varying numbers of levels for different profiles.
In these cases, any unused elements of the data and auxiliary coordinate variables must contain missing data values (section 9.6).</p>
</div>
</div>
<div class="sect3">
<h4 id="_profiles_along_a_single_trajectory"><a class="anchor" href="#_profiles_along_a_single_trajectory"></a>H.6.2. Profiles along a single trajectory</h4>
<div class="paragraph">
<p>If there is only one trajectory in the data variable, there is no need for the trajectory dimension:</p>
</div>
<div id="example-h.21" class="exampleblock">
<div class="title">Example H.21. Time series of atmospheric sounding profiles along a trajectory stored in a multidimensional array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      profile = 33;
      z = 42 ;

   variables:
      int trajectory;
          trajectory:cf_role = "trajectory_id" ;

      float lon(profile) ;
          lon:standard_name = "longitude";
          lon:units = "degrees_east";
      float lat(profile) ;
          lat:standard_name = "latitude";
          lat:long_name = "station latitude" ;
          lat:units = "degrees_north" ;

      float alt(profile, z) ;
          alt:standard_name = “altitude”;
          alt:long_name = "height above mean sea level" ;
          alt:units = "km" ;
          alt:positive = "up" ;
          alt:axis = "Z" ;  

      double time(profile ) ;
          time:standard_name = "time";
          time:long_name = "time of measurement" ;
          time:units = "days since 1970-01-01 00:00:00" ;
          time:missing_value = -999.9;

      float pressure(profile, z) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat alt" ;

      float temperature(profile, z) ;
          temperature:standard_name = "surface_temperature" ;
          temperature:long_name = "skin temperature" ;
          temperature:units = "Celsius" ;
          temperature:coordinates = "time lon lat alt" ;

      float humidity(profile, z) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat alt" ;

   attributes:
    :featureType = "trajectoryProfile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(p,o), temperature(p,o), and humidity(p,o) data for element o of profile p are associated with the coordinate values time(p), alt(p,o), lat(p), and lon(p).
If all the profiles have the same set of vertical coordinates, the vertical auxiliary coordinate variable could be one-dimensional alt(z), or replaced by a one-dimensional coordinate variable z(z), provided the values are in strict monotonic order.
In the latter case, listing the vertical coordinate variable in the coordinates attribute is optional.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_ragged_array_representation_of_trajectory_profiles"><a class="anchor" href="#_ragged_array_representation_of_trajectory_profiles"></a>H.6.3. Ragged array representation of trajectory profiles</h4>
<div class="paragraph">
<p>When the number of profiles and levels for each trajectory varies, one can use a ragged array representation.
Each of the two element dimensions (along a trajectory, within a profile) could in principle be stored either contiguous or indexed, but this convention supports only one of the four possible choices.
This uses the contiguous ragged array representation for each profile (9.3.3), and the indexed ragged array representation to organise the profiles into time series (9.3.4).
The canonical use case is when writing real-time data streams that contain profiles from many trajectories, arriving randomly, with the data for each entire profile written all at once.</p>
</div>
<div id="example-h.22" class="exampleblock">
<div class="title">Example H.22. Time series of atmospheric sounding profiles along a set of trajectories stored in a ragged array representation.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   dimensions:
      obs = UNLIMITED ;
      trajectory = 22 ;
      profile = 142 ;

   variables:
      int trajectory(trajectory) ;
          cf_role = "trajectory_id" ;

      double time(profile);
          time:standard_name = "time";
          time:long_name = "time" ;
          time:units = "days since 1970-01-01 00:00:00" ;
      float lon(profile);
          lon:standard_name = "longitude";
          lon:long_name = "longitude" ;
          lon:units = "degrees_east" ;
      float lat(profile);
          lat:standard_name = "latitude";
          lat:long_name = "latitude" ;
          lat:units = "degrees_north" ;
      int row_size(profile) ;
          row_size:long_name = "number of obs for this profile " ;
          row_size:sample_dimension = "obs" ;
      int trajectory_index(profile) ;
          trajectory_index:long_name = "which trajectory this profile is for" ;
          trajectory_index:instance_dimension= "trajectory" ;
      
       float z(obs) ;
          z:standard_name = “altitude”;
          z:long_name = "height above mean sea level" ;
          z:units = "km" ;
          z:positive = "up" ;
          z:axis = "Z" ;  

      float pressure(obs) ;
          pressure:standard_name = "air_pressure" ;
          pressure:long_name = "pressure level" ;
          pressure:units = "hPa" ;
          pressure:coordinates = "time lon lat z" ;

      float temperature(obs) ;
          temperature:standard_name = "surface_temperature" ;
          temperature:long_name = "skin temperature" ;
          temperature:units = "Celsius" ;
          temperature:coordinates = "time lon lat z" ;

      float humidity(obs) ;
          humidity:standard_name = "relative_humidity" ;
          humidity:long_name = "relative humidity" ;
          humidity:units = "%" ;
          humidity:coordinates = "time lon lat z" ;

   attributes:
      :featureType = "trajectoryProfile";</pre>
</div>
</div>
<div class="paragraph">
<p>The pressure(o), temperature(o), and humidity(o) data for element o of profile p along trajectory i are associated with the coordinate values time(p), z(o), lat(p), and lon(p).</p>
</div>
<div class="paragraph">
<p>The index variable (trajectory_index) is identified by having an attribute with name of instance_dimension whose value is the instance dimension name (trajectory in this example).
The index variable must have the profile dimension as its sole dimension, and must have an integer type.
Each value in the index variable is the zero-based trajectory index that the profile belongs to i.e. profile p belongs to trajectory i=trajectory_index(p), as in section H.2.5.</p>
</div>
<div class="paragraph">
<p>The count variable (row_size) contains the number of elements for each profile, which must be written contiguously.
The count variable is identified by having an attribute with name sample_dimension whose value is the sample dimension (obs in this example) being counted.
It must have the profile dimension as its sole dimension, and must have an integer type.
The number of elements in profile p is recorded in row_size(p), as in section H.2.4.
The sample dimension need not be the netCDF unlimited dimension,  though it commonly is.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-CF-data-model"><a class="anchor" href="#appendix-CF-data-model"></a>Appendix I: The CF data model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CF conventions are designed to promote the creation, processing, and sharing of climate and forecasting data using Network Common Data Form (netCDF) files and libraries.
This appendix contains the explicit data model for CF to provide an interpretation of the conceptual structure of CF which is consistent, comprehensive, and as far as possible independent of the netCDF encoding.
An explicit comprehensive data model promotes the CF conventions being better understood, provides guidance during the development of future extensions to the CF conventions, and helps software developers to design CF-compliant data-processing applications and to build interfaces to other explicit data models.</p>
</div>
<div class="sect2">
<h3 id="data-model-introduction"><a class="anchor" href="#data-model-introduction"></a>Introduction</h3>
<div class="paragraph">
<p>A data model is an abstract interpretation of the data, that identifies the elements of the dataset and their scientific intent, and describes how they are related to one another and to the real or model world from which the data were derived.
A data model is necessary because it imposes the rules, constraints, and relationships connecting metadata to the data that are needed to imagine how the quantities included in the dataset should be combined and processed scientifically.</p>
</div>
<div class="paragraph">
<p>The CF data model was first created for CF version 1.6 and published externally in journal Geoscientific Model Development (GMD) <a href="#CFDM">[CFDM]</a>, and that version also includes further discussions on the background and motivation, as well as on the relationships between the CF data model and other data models.
The data model was transcribed from the GMD paper into the CF conventions at version 1.9, also incorporating the modifications required to represent new features introduced at versions 1.7, 1.8 and 1.9.</p>
</div>
</div>
<div class="sect2">
<h3 id="data-model-design-criteria"><a class="anchor" href="#data-model-design-criteria"></a>Design criteria of the CF data model</h3>
<div class="paragraph">
<p>The primary requirement of the data model is that it should be able to describe all existing and conceivable CF-compliant datasets.</p>
</div>
<div class="paragraph">
<p>The data model should comprise a minimal set of elements that are sufficient for accommodating all aspects of the CF conventions.
The elements of the data model are restricted to those that are explicitly mentioned in CF, but there do not have to be as many elements in the data model as there are elements described by CF, because a single data model element can incorporate more than one CF entity.
For example, in CF, coordinates and coordinate bounds are distinct elements, but coordinate bounds cannot exist without coordinates.
Therefore, it makes sense in the data model to group them into a single element.</p>
</div>
<div class="paragraph">
<p>Similarly, while it is possible to introduce additional elements not presently needed or used by CF, this would not be desirable because it would increase the likelihood of the data model becoming outdated or inconsistent with future versions of CF.</p>
</div>
<div class="paragraph">
<p>The CF data model should also be independent of the encoding.
This means that it should not be constrained by the parts of the CF conventions which describe explicitly how to store (i.e. encode) metadata in a netCDF file.
The virtue of this is that should netCDF ever fail to meet the community needs, the groundwork for applying CF to other file formats will already exist.</p>
</div>
</div>
<div class="sect2">
<h3 id="data-model-elements-of-cf-netcdf"><a class="anchor" href="#data-model-elements-of-cf-netcdf"></a>Elements of CF-netCDF</h3>
<div class="paragraph">
<p>The CF-netCDF elements are listed in <a href="#table-cf-concepts">Table I.1</a> and shown (in blue) with their interrelationships in <a href="#figure-cf-concepts">Figure I.1</a>.
The CF data model has been derived from these CF-netCDF elements and relationships with the aims of removing aspects specific to the netCDF encoding, and reducing the number of elements, whilst retaining the ability to describe the CF conventions fully, in order to meet the design criteria.</p>
</div>
<table id="table-cf-concepts" class="tableblock frame-all grid-all stretch">
<caption class="title">Table I.1. The elements of the CF-netCDF conventions. The relationships to netCDF elements are shown in <a href="#figure-cf-concepts">[figure-cf-concepts]</a>.</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">CF-netCDF element</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discrete locations in multi-dimensional space</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scientific data discretised within a domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dimension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Independent axis of the domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique coordinates for a single axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Auxiliary coordinate variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional or alternative coordinates for any axes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scalar coordinate variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate for an implied size one axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grid mapping variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Horizontal coordinate system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boundary variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell vertices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell measure variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell areas or volumes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ancillary data variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata that depends on the domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mesh topology variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One or more related domains with cell connectivity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Location index set variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A domain with cell connectivity</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formula terms attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vertical coordinate system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feature type attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Characteristics of discrete sampling geometry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell methods attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description of variation within cells</p></td>
</tr>
</tbody>
</table>
<div id="figure-cf-concepts" class="imageblock text-center text-center">
<div class="content">
<img src="images/cfdm_cf_concepts.svg" alt="cfdm cf concepts" width="60%">
</div>
<div class="title">Figure I.1. The relationships between CF-netCDF elements and their corresponding netCDF variables, dimensions and attributes (identified here with the "NC" prefix). It is useful to define an abstract generic coordinate variable that can be used to refer to coordinates when the their type (coordinate, auxiliary or scalar coordinate variable) is not an issue.</div>
</div>
</div>
<div class="sect2">
<h3 id="data-model-the-cf-data-model"><a class="anchor" href="#data-model-the-cf-data-model"></a>The CF data model</h3>
<div class="paragraph">
<p>The elements of the CF data model (<a href="#figure-field">Figure I.2</a>, <a href="#figure-dim-aux">Figure I.3</a> and <a href="#figure-coordinate-reference">Figure I.4</a>) are called "constructs", a term chosen to differentiate from the CF-netCDF elements previously defined and to be programming language-neutral (i.e. as opposed to "object" or "structure").
The constructs, listed in <a href="#table-cf-constructs">Table I.2</a>, are related to CF-netCDF elements (<a href="#figure-cf-concepts">Figure I.1</a>), which in turn relate to the components of netCDF file.</p>
</div>
<table id="table-cf-constructs" class="tableblock frame-all grid-all stretch">
<caption class="title">Table I.2. The constructs of the CF data model. The relationships between the constructs and CF-netCDF elements are shown in in <a href="#figure-field">[figure-field]</a>, <a href="#figure-dim-aux">[figure-dim-aux]</a> and <a href="#figure-coordinate-reference">[figure-coordinate-reference]</a>.</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">CF construct</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discrete locations in multi-dimensional space</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scientific data discretised within a domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain axis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Independent axes of the domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dimension coordinate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell locations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Auxiliary coordinate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell locations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate reference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain coordinate systems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain ancillary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell locations in alternative coordinate   systems</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell measure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell size or shape</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain topology</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Geospatial topology of domain cells</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell connectivity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connectivity of domain cells</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Field ancillary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ancillary metadata which varies within the domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cell method</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Describes how data represents variation within cells</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The field construct and domain construct are central to the CF data model in that all the other constructs are included in one or other of them (<a href="#figure-field">Figure I.2</a>).
The constructs contained by the field and domain constructs cannot exist independently, with the exception of the domain construct itself that may be part of a field construct or exist on its own, as is indicated by the nature of the class associations shown in <a href="#figure-field">Figure I.2</a>.
All CF-netCDF elements are mapped to field constructs, domain constructs or their components; and the field and domain constructs completely contain all the data and metadata which can be extracted from the file using the CF conventions.</p>
</div>
<div id="figure-field" class="imageblock text-center text-center">
<div class="content">
<img src="images/cfdm_field.svg" alt="cfdm field" width="40%">
</div>
<div class="title">Figure I.2. The constructs of the CF data model. The field and domain constructs correspond to CF-netCDF data and domain variables respectively (defined in <a href="#figure-cf-concepts">Figure I.1</a> and identified here with the "CN" prefix). Relationships between the other constructs and CF-netCDF are given in <a href="#figure-dim-aux">Figure I.3</a> and <a href="#figure-coordinate-reference">Figure I.4</a>. It is useful to define an abstract generic coordinate construct that can be used to refer to coordinates when the their type (dimension or auxiliary coordinate construct) is not an issue.</div>
</div>
<div class="sect3">
<h4 id="data-model-field-construct"><a class="anchor" href="#data-model-field-construct"></a>Field construct</h4>
<div class="paragraph">
<p>A field construct (<a href="#figure-field">Figure I.2</a>) corresponds to a CF-netCDF data variable with all of its metadata.
The field construct consists of</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A data array.</p>
</li>
<li>
<p>A domain construct containing metadata defining the domain that provides measurement locations and cell properties for the data.</p>
</li>
<li>
<p>Field ancillary constructs containing ancillary metadata defined over the same domain.</p>
</li>
<li>
<p>Cell method constructs containing metadata to describe how the cell values represent the variation of the physical quantity within the cells of the domain.</p>
</li>
<li>
<p>Properties to describe aspects of the data that are independent of the domain.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All of the constructs contained by the field construct are optional (as indicated by "0.." in <a href="#figure-field">Figure I.2</a>).
The only component of the field which is mandatory is the data array.</p>
</div>
<div class="paragraph">
<p>The properties of the field construct correspond to some netCDF attributes of variables (e.g. <strong><code>units</code></strong>, <strong><code>long_name</code></strong>, and <strong><code>standard_name</code></strong>); and some netCDF group attributes, which include global attributes in the root group, such as <strong><code>history</code></strong> and <strong><code>institution</code></strong>.
The term "property" is used, rather than "attribute", because not all CF-netCDF attributes are properties in this sense&#8212;&#8203;some CF-netCDF attributes are used to point to (i.e. reference) other netCDF variables and so only describe the data indirectly (e.g. the coordinates attribute), and others have structural functions in the CF-netCDF file (e.g. the Conventions attribute).</p>
</div>
<div class="paragraph">
<p>In the data model, netCDF group attributes apply to every data variable in the file, except where they are overridden by netCDF data variable attributes with the same name.
This interpretation of group attributes is not stated in the CF conventions, but for the data model it is necessary because there is no notion of a group.
Hence, metadata stored in attributes of the group as a whole have to be transferred to the field construct.
If present, the global file attribute (i.e. root group attribute) <strong><code>featureType</code></strong> applies to every data variable in the file with a discrete sampling geometry.
Hence, the feature type is regarded as a property of the field construct.</p>
</div>
<div class="paragraph">
<p>The <strong><code>standard_name</code></strong> property constrains the <strong><code>units</code></strong> property (i.e. only certain units are consistent with each standard name) and in some cases also the dimensions that a data variable must have.
These constraints, however, do not supply any further information&#8212;&#8203;they are just for self consistency.
Similarly the <strong><code>featureType</code></strong> property imposes some requirements on the axes the domain must have.
Following the aim of constructing a minimal data model, the standard name and feature type are not regarded as separate constructs within the field, because they do not depend on any other construct for their interpretation.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-model-domain-construct"><a class="anchor" href="#data-model-domain-construct"></a>Domain construct</h4>
<div class="paragraph">
<p>The domain construct (<a href="#figure-field">Figure I.2</a>) describes a domain comprising measurement locations and cell properties.
The domain construct is the only metadata construct that may also exist independently of a field construct.
The domain construct contains properties to describe the domain (in the same sense as for the field construct) and relates the following metadata constructs</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Domain axis constructs.</p>
</li>
<li>
<p>Dimension coordinate and auxiliary coordinate constructs.</p>
</li>
<li>
<p>Coordinate reference constructs.</p>
</li>
<li>
<p>Domain ancillary constructs.</p>
</li>
<li>
<p>Cell measure constructs.</p>
</li>
<li>
<p>Domain topology constructs.</p>
</li>
<li>
<p>Cell connectivity constructs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All of the constructs contained by the domain construct are optional (as indicated by "0.." in <a href="#figure-field">Figure I.2</a>).</p>
</div>
<div class="paragraph">
<p>In CF-netCDF, domain information is stored either implicitly via data variable attributes (such as <code>coordinates</code>), or explicitly in a domain variable.
In the latter case, the domain exists without reference to a data array.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>implicitly via data variable attributes (such as <code>coordinates</code>);</p>
</li>
<li>
<p>explicitly in a domain variable;</p>
</li>
<li>
<p>explicitly in a mesh topology variable, in which case the domain may be one of multiple domains defined by the same variable (for instance, a single mesh topology variable could contain different domains defined respectively at node, edge, and face mesh elements);</p>
</li>
<li>
<p>explicitly in a location index set variable that references a subset of another domain defined by a mesh topology variable.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the explicit cases, the domain exists without reference to a data array.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-model-domain-axis-construct-and-the-data-array"><a class="anchor" href="#data-model-domain-axis-construct-and-the-data-array"></a>Domain axis construct and the data array</h4>
<div class="paragraph">
<p>A domain axis construct (<a href="#figure-dim-aux">Figure I.3</a>) comprises a positive integer which specifies the number of cells lying along an independent axis of the domain.
In CF-netCDF, it is usually defined either by a netCDF dimension or by a scalar coordinate variable, which implies a domain axis of size one.
The field construct&#8217;s data array spans the domain axis constructs of the domain, except that the size-one axes may optionally be omitted, because their presence makes no difference to the order of the elements.
Hence, the data array may be zero-dimensional (i.e. scalar) if there are no domain axis constructs of size greater than one.</p>
</div>
<div class="paragraph">
<p>When a collection of discrete sampling geometry (DSG) features has been combined in a data variable using the incomplete orthogonal or ragged representations to save space, the axis size has to be inferred, but this is an aspect of unpacking the data, rather than its conceptual description.
In practice, the unpacked data array may be dominated by missing values (as could occur, for example, if all features in a collection of time series had no common time coordinates), in which case it may be preferable to view the collection as if each DSG feature were a separate variable, each one corresponding to a different field construct.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-model-coordinates"><a class="anchor" href="#data-model-coordinates"></a>Coordinates: dimension coordinate and auxiliary constructs</h4>
<div class="paragraph">
<p>Coordinate constructs (<a href="#figure-dim-aux">Figure I.3</a>) provide information which locate the cells of the domain and which depend on a subset of the domain axis constructs.
A coordinate construct consists of an optional data array of the coordinate values spanning the subset of the domain axis constructs, properties to describe the coordinates (in the same sense as for the field construct), an optional data array of cell bounds recording the extents of each cell, and any extra arrays needed to interpret the cell bounds values.
The data array of the coordinate values is required, execpt for the special cases described below.</p>
</div>
<div class="paragraph">
<p>There are two distinct types of coordinate construct: dimension coordinate constructs unambiguously describe cell locations for a single domain axis, thus providing independent variables on which the field construct&#8217;s data depend; and auxiliary coordinate constructs provide any type of coordinate information for one or more of the domain axes.</p>
</div>
<div class="paragraph">
<p>A dimension coordinate construct contains numeric coordinates for a single domain axis that are non-missing and strictly monotonically increasing or decreasing.
CF-netCDF coordinate variables and numeric scalar coordinate variables correspond to dimension coordinate constructs.</p>
</div>
<div class="paragraph">
<p>Auxiliary coordinate constructs have to be used, instead of dimension coordinate constructs, when a single domain axis requires more than one set of coordinate values, when coordinate values are not numeric, strictly monotonic, or contain missing values, or when they vary along more than one domain axis construct simultaneously.
CF-netCDF auxiliary coordinate variables and non-numeric scalar coordinate variables correspond to auxiliary coordinate constructs.</p>
</div>
<div class="paragraph">
<p>When cell bounds are provided, each cell comprises one or more parts, and each part is either a collection of points, a line defined by a connected series of points, or a polygonal area (i.e. the region enclosed by a connected series of points, where the first and last points are connected as well).
All parts of all the cells must be of the same one of these three kinds, which are called "geometry types".
The bounds array spans the domain axis constructs of the coordinate construct, with the addition of two trailing ragged dimensions.
The first extra dimension indexes the parts of each cell and the second indexes the points that describe each part.</p>
</div>
<div class="paragraph">
<p>If cell bounds are provided for a dimension coordinate construct then each cell must have exactly two vertices forming a line geometry.
For climatological time coordinates the actual cell extent comprises multiple time segments equivalent to multiple line geometry parts, but the bounds require just two points to define each cell, namely the earliest and latest times of the sequence.
The cell method constructs indicate how the multiple time segments should be inferred from these climatological bounds.</p>
</div>
<div class="paragraph">
<p>If a polygonal cell is composed of multiple parts it may have holes, i.e. polygon regions that are to be omitted from, as opposed to included in, the cell extent.
When such holes are present an "interior ring" array is required that records whether each polygon is to be included or excluded from the cell, and is supplied by an interior ring variable in CF-netCDF.
The interior ring array spans the domain axis constructs of the coordinate construct, with the addition of an extra ragged dimension that indexes the parts for each cell.
For example, a cell describing the land area surrounding a lake would require two polygon parts: one defines the outer boundary of the land area; the other, recorded as an interior ring, is the lake boundary, defining the inner boundary of the land area.</p>
</div>
<div class="paragraph">
<p>If a domain axis construct does not correspond to a continuous physical quantity, then it is not necessary for it to be associated with a dimension coordinate construct.
For example, this is the case for an axis that runs over ocean basins or area types, or for a domain axis that indexes a time series at scattered points.
These axes are discrete axes in CF-netCDF.
In such cases cells may be described with one-dimensional auxiliary coordinate constructs for which, provided that there is a cell bounds array to describe the cell extents, the coordinate array is optional, since coordinates are not always well defined for such cells.
A CF-netCDF geometry container variable or mesh topology variable is used to store cell bounds without coordinates for a discrete axis.</p>
</div>
<div class="paragraph">
<p>In CF-netCDF, when a geometry container variable is present it explicitly describes the geometry type and identifies the node coordinate variables that contain the cell vertices.
The geometry container variable also identifies a node count variable that contains the number of nodes per cell when more than one cell is present, and a part node count variable that contains the number of nodes per cell part when cells are composed of multipart lines, multipart polygons, or polygons with holes.
When a geometry container variable is not present then the bounds contain exactly one part and their geometry type is implied by convention: for multidimensional auxiliary coordinates each cell is a single polygon, and for all other types of coordinate each cell is a single line segment defined by two points.
In the case of climatological time coordinates, the two points of the cell bounds, in conjunction with the cell methods, imply the existence of multiple line parts, different subsets of which are associated with the different cell methods required to define the climatology.
For example, when the field construct&#8217;s data are multiannual averages of monthly minima, the implied cell parts define the individual months over which the original data was minimised; and all of the implied parts taken together define the exact temporal extent of the average of the monthly minima.</p>
</div>
<div id="figure-dim-aux" class="imageblock text-center text-center">
<div class="content">
<img src="images/cfdm_coordinates.svg" alt="cfdm coordinates" width="50%">
</div>
<div class="title">Figure I.3. The relationship between domain axis, dimension coordinate and auxiliary coordinate constructs and CF-netCDF (defined in <a href="#figure-cf-concepts">Figure I.1</a> and identified here with the "CN" prefix). A dimension or auxiliary coordinate construct is defined by a CF-netCDF coordinate, scalar coordinate or auxiliary coordinate variable, and the associated CF-netCDF boundary variable if it exists. A generic coordinate construct spans one or more domain axis constructs, but the mapping of which ones is only held by the parent field construct.</div>
</div>
</div>
<div class="sect3">
<h4 id="data-model-coordinate-reference"><a class="anchor" href="#data-model-coordinate-reference"></a>Coordinate reference construct</h4>
<div class="paragraph">
<p>The domain may contain various coordinate systems, each of which is constructed from a subset of the dimension and auxiliary coordinate constructs.
For example, the domain of a four-dimensional field construct may contain horizontal (<em>y</em>-<em>x</em>), vertical (<em>z</em>), and temporal (<em>t</em>) coordinate systems.
There may be more than one of each of these, if there is more than one coordinate construct applying to a particular spatiotemporal dimension (for example, there could be both latitude-longitude and <em>y</em>-<em>x</em> projection coordinate systems).</p>
</div>
<div class="paragraph">
<p>A coordinate system may be constructed <em>implicitly</em> from any subset of the coordinate constructs, yet a coordinate construct does not need to be explicitly or exclusively associated with any coordinate system.
A coordinate system of the field construct can be <em>explicitly</em> defined by a coordinate reference construct (<a href="#figure-coordinate-reference">Figure I.4</a>) which relates the coordinate values of the coordinate system to locations in a planetary reference frame and consists of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The dimension coordinate and auxiliary coordinate constructs that define the coordinate system to which the coordinate reference construct applies.
Note that the coordinate values are not relevant to the coordinate reference construct, only their properties.</p>
</li>
<li>
<p>A definition of a datum specifying the zeroes of the dimension and auxiliary coordinate constructs which define the coordinate system.
The datum may be explicitly indicated via properties, or it may be implied by the metadata of the contained dimension and auxiliary coordinate constructs.
For example, in a two-dimensional geographical latitude-longitude coordinate system based upon a spherical Earth, the datum is assumed to be 0<sup>o</sup>N, 0<sup>o</sup>E.
Note that the datum may contain the definition of a geophysical surface which corresponds to the zero of a vertical coordinate construct, and this may be required for both horizontal and vertical coordinate systems.</p>
</li>
<li>
<p>A coordinate conversion, which defines a formula for converting coordinate values taken from the dimension or auxiliary coordinate constructs to a different coordinate system. A term of the conversion formula can be a scalar or vector parameter which does not depend on any domain axis constructs, may have units (such as a reference pressure value), or may be a descriptive string (such as the projection name "mercator"), or it can be a domain ancillary construct (such as one containing spatially varying orography data).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For <em>y</em>-<em>x</em> coordinates, the coordinate conversion is either a map projection, which converts between Cartesian coordinates and spherical or ellipsoidal coordinates on the vertical datum, or a conversion between different spherical coordinate systems (as in the case of rotated pole coordinates).
In the case of <em>z</em> coordinates, the conversion is between a coordinate construct with parameterised values (such as ocean sigma coordinates) and a coordinate construct with dimensional values (such as depths), again with respect to the vertical datum.
The coordinate conversion is not required if no other coordinate systems are described.</p>
</div>
<div class="paragraph">
<p>Some parts of the coordinate reference construct may not be relevant to a given coordinate construct which it contains.
The relevant parts are determined by an application using the coordinate reference construct.
For example, for a coordinate reference construct which contained coordinate constructs for <em>y</em>-<em>x</em> projection and latitude and longitude coordinates, a datum comprising a reference ellipsoid would apply to all of them, but projection parameters would only apply to the projection coordinates.</p>
</div>
<div class="paragraph">
<p>In CF-netCDF, coordinate system information that is not found in coordinate or auxiliary coordinate variables is stored in a grid mapping variable or the formula_terms attribute of a coordinate variable, for horizontal or vertical coordinate variables, respectively.
Although these two cases are arranged differently in CF-netCDF, each one contains, sometimes implicitly, a datum or a coordinate conversion formula (or both) and is therefore regarded as a coordinate reference construct by the data model.
A grid mapping name or the standard name of a parametric vertical coordinate corresponds to a string-valued scalar parameter of a coordinate conversion formula.
A grid mapping parameter which has more than one value (as is possible with the "standard parallel" attribute) corresponds to a vector parameter of a coordinate conversion formula.
A data variable referenced by a formula_terms attribute corresponds to the term of a coordinate conversion formula&#8212;&#8203;either a domain ancillary construct or, if it is zero-dimensional, a scalar parameter.</p>
</div>
<div id="figure-coordinate-reference" class="imageblock text-center text-center">
<div class="content">
<img src="images/cfdm_coordinate_reference.svg" alt="cfdm coordinate reference" width="75%">
</div>
<div class="title">Figure I.4. The relationship between coordinate reference and domain ancillary constructs and CF-netCDF (defined in <a href="#figure-cf-concepts">Figure I.1</a> and identified here with the "CN" prefix). A coordinate reference construct is defined either by a grid mapping variable, or a <strong><code>formula_terms</code></strong> attribute of a CF-netCDF coordinate variable. The coordinate reference construct is composed of generic coordinate constructs, a datum, and a coordinate conversion formula. The coordinate conversion formula is usually defined by a named formula in the CF conventions. A domain ancillary construct term of a coordinate conversion formula is defined by a CF-netCDF data variable or a CF-netCDF generic coordinate variable.</div>
</div>
</div>
<div class="sect3">
<h4 id="data-model-domain-ancillary"><a class="anchor" href="#data-model-domain-ancillary"></a>Domain ancillary construct</h4>
<div class="paragraph">
<p>A domain ancillary construct (<a href="#figure-coordinate-reference">Figure I.4</a>) provides information which is needed for computing the location of cells in an alternative coordinate system.
It is the value of a term of a coordinate conversion formula that contains a data array which is either scalar or which depends on one, more or all of the domain axis constructs.</p>
</div>
<div class="paragraph">
<p>It also contains an optional array of cell bounds recording the extents of each cell (only applicable if the array contains coordinate data) and properties to describe the data (in the same sense as for the field construct).
An array of cell bounds spans the same domain axes as the data array, with the addition of an extra dimension whose size is that of the number of vertices of each cell.</p>
</div>
<div class="paragraph">
<p>CF-netCDF variables named by the <strong><code>formula_terms</code></strong> attribute of a CF-netCDF coordinate variable correspond to domain ancillary constructs.
These CF-netCDF variables may be coordinate, scalar coordinate, or auxiliary coordinate variables, or they may be data variables.
For example, in a coordinate conversion for converting between ocean sigma and height coordinate systems, the value of the "depth" term for horizontally varying distance from ocean datum to sea floor would correspond to a domain ancillary construct.
In the case of a named term being a type of coordinate variable, that variable will correspond to an independent domain ancillary construct in addition to the coordinate construct; that is, a single CF-netCDF variable is translated into two constructs (see <a href="#cdl-domain-anc-coordinate">Example I.1</a>).</p>
</div>
<div id="cdl-domain-anc-coordinate" class="exampleblock">
<div class="title">Example I.1. A single CF-netCDF variable corresponding to two data model constructs.</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre>float eta(eta) ;
  eta:long_name = "eta at full levels" ;
  eta:positive = "down" ;
  eta:standard_name = "atmosphere_hybrid_sigma_pressure_coordinate" ;
  eta:formula_terms = "a: A b: B ps: PS p0: P0" ;
float A(eta) ;
  A:units = "Pa" ;
float B(eta) ;
  B:units = "1" ;
float PS(lat, lon) ;
  PS:units = "Pa" ;
float P0 ;
  P0:units = "Pa" ;
float temp(eta, lat, lon) ;
  temp:standard_name = "air_temperature" ;
  temp:units = "K";
  temp:coordinates = "A B" ;</pre>
</div>
</div>
<div class="paragraph">
<p>The netCDF variable <strong><code>A</code></strong> corresponds to an auxiliary coordinate construct (since it is referenced by the <strong><code>coordinates</code></strong> attribute) as well as a domain ancillary construct (since it is referenced by the <strong><code>formula_terms</code></strong> attribute).
Similarly for the netCDF variable <strong><code>B</code></strong>.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="data-model-cell-measure"><a class="anchor" href="#data-model-cell-measure"></a>Cell measure construct</h4>
<div class="paragraph">
<p>A cell measure (<a href="#figure-field">Figure I.2</a>) construct provides information about the size or shape of the cells and depending on one, more or all of the domain axis constructs.
Cell measure constructs have to be used when the size or shape of the cells cannot be deduced from the dimension or auxiliary coordinate constructs without special knowledge that a generic application cannot be expected to have.</p>
</div>
<div class="paragraph">
<p>The cell measure construct consists of a numeric array of the metric data which span one, more or all of the domain axis constructs, and properties to describe the data (in the same sense as for the field construct).
The properties must contain a "measure" property, which indicates which metric of the space it supplies, e.g. cell horizontal areas, and a units property consistent with the measure property, e.g. m2.
It is assumed that the metric does not depend on axes of the domain which are not spanned by the array, along which the values are implicitly propagated.
CF-netCDF cell measure variables correspond to cell measure constructs.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-model-domain-topology"><a class="anchor" href="#data-model-domain-topology"></a>Domain topology construct</h4>
<div class="paragraph">
<p>A domain topology construct defines the geospatial topology of cells arranged in two or three dimensions in real space but indexed by a single (discrete) domain axis construct, and at most one domain topology construct may be associated with any such domain axis.
The topology describes topological relationships between the cells - spatial relationships which do not depend on the cell locations - and is represented by an undirected graph, i.e. a mesh in which pairs of nodes are connected by links.
Each node has a unique arbitrary identity that is independent of its spatial location, and different nodes may be spatially co-located.</p>
</div>
<div class="paragraph">
<p>The topology may only describe cells that have a common spatial dimensionality, one of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Point: A point is zero-dimensional and has no boundary vertices.</p>
</li>
<li>
<p>Edge: An edge is one-dimensional and corresponds to a line connecting two boundary vertices.</p>
</li>
<li>
<p>Face: A face is two-dimensional and corresponds to a surface enclosed by a set of edges.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each type of cell implies a restricted topology for which only some kinds of mesh are allowed.
For point cells, every node corresponds to exactly one cell; and two cells have a topological relationship if and only if their nodes are connected by a mesh link.
For edge and face cells, every node corresponds to a boundary vertex of a cell; the same node can represent vertices in multiple cells; every link in the mesh connects two cell boundary vertices; and two cells have a topological relationship if and only if they share at least one node.</p>
</div>
<div id="figure-mesh-example" class="imageblock text-center text-center">
<div class="content">
<img src="images/mesh_figure.svg" alt="mesh figure" width="25%">
</div>
<div class="title">Figure I.5. A topology defined by a mesh with five nodes and six links.</div>
</div>
<div class="paragraph">
<p>For example, the mesh depicted in <a href="#figure-mesh-example">Figure I.5</a> may be used with any of three domain topology constructs for domains comprising two face cells (one triangle and one quadrilateral), six edge cells, and five point cells respectively.</p>
</div>
<div class="paragraph">
<p>A domain topology construct contains an array defining the mesh, and properties to describe it.
There must be a property indicating the spatial dimensionality of the cells.
The array values comprise the node identities, and all array elements that refer to the same node must contain the same value, which must differ from any other value in the array.
The array spans the domain axis construct and also has a ragged dimension, whose function depends on the spatial dimensionality of the cells.</p>
</div>
<div class="paragraph">
<p>For each point cell, the first element along the ragged dimension contains the node identity of the cell, and the following elements contain in arbitrary order the identities of all the cells to which it is connected by a mesh link.</p>
</div>
<div class="paragraph">
<p>For each edge or face cell, the elements along the ragged dimension contain the node identities of the boundary vertices of the cell, in the same order that the boundary vertices are stored by the auxiliary coordinate constructs.
Each boundary vertex except the last is connected by a mesh link to the next vertex along the ragged dimension, and the last vertex is connected to the first.</p>
</div>
<div class="paragraph">
<p>When a domain topology construct is present it is considered to be definitive and must be used in preference to the topology implied by inspection of any other constructs, which is not guaranteed to be the same.</p>
</div>
<div class="paragraph">
<p>In CF-netCDF a domain topology construct can only be provided for a UGRID mesh topology variable.
The information in the construct array is supplied by the UGRID "edge_nodes_connectivity" variable (for edge cells) or "face_nodes_connectivity" variable (for face cells).
The topology for node cells may be provided by any of these three UGRID variables.
The integer indices contained in the UGRID variable may be used as the mesh node identities, although the CF data model attaches no significance to the values other than the fact that some values are the same as others.
The spatial dimensionality property is provided by the "location" attribute of a variable that references the UGRID mesh topology variable, i.e. a data variable or a UGRID location index set variable.</p>
</div>
<div class="paragraph">
<p>A single UGRID mesh topology defines multiple domain constructs and defines how they relate to each other.
For instance, when "face_node_connectivity" and "edge_node_connectivity" variables are both present there are three implied domain constructs - one each for face, edge and point cells - all of which have the same mesh and so are explicitly linked (e.g. it is known which edge cells define each face cell).
The CF data model has no mechanism for explicitly recording such relationships between multiple domain constructs.
Whether or not two domains have the same mesh may be reliably deternined by inspection, thereby allowing the creation of netCDF datasets containing UGRID mesh topology variables.</p>
</div>
<div class="paragraph">
<p>The restrictions on the type of mesh that may be used with a given cell spatial dimensionality excludes some meshes which can be described by an undirected graph, but is consistent with UGRID encoding within CF-netCDF.
UGRID also describes meshes for three-dimensional volume cells that correspond to a volume enclosed by a set of faces, but how the nodes relate to volume boundary vertices is undefined and so volume cells are currently omitted from the CF data model.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-model-cell-connectivity"><a class="anchor" href="#data-model-cell-connectivity"></a>Cell connectivity construct</h4>
<div class="paragraph">
<p>A cell connectivity construct defines explicitly how cells arranged in two or three dimensions in real space but indexed by a single domain (discrete) axis are connected.
Connectivity can only be provided when the domain axis construct also has a domain topology construct, and two cells can only be connected if they also have a topological relationship.
For instance, the connectivity of two-dimensional face cells could be characterised by whether or not they have shared edges, where the edges are defined by connected nodes of the domain topology construct.</p>
</div>
<div class="paragraph">
<p>The cell connectivity construct consists of an array recording the connectivity, and properties to describe the data.
There must be a property indicating the condition by which the connectivity is derived from the domain topology.
The array spans the domain axis construct with the addition of a ragged dimension.
For each cell, the first element along the ragged dimension contains the unique identity of the cell, and the following elements contain in arbitrary order the identities of all the other cells to which the cell is connected.
Note that the connectivity array for point cells is, by definition, equivalent to the array of the domain topology construct.</p>
</div>
<div class="paragraph">
<p>When cell connectivity constructs are present, they are considered to define the connectivity of the cells.
Exactly the same connectivity information could be derived from the domain topology construct.
Connectivity information inferred from inspection of any other constructs is not guaranteed to be the same.</p>
</div>
<div class="paragraph">
<p>In CF-netCDF a cell topology construct can only be provided by a UGRID mesh topology variable.
The construct array is supplied either indirectly by any of the UGRID variables that are used to define a domain topology construct, or directly by the UGRID "face_face_connectivity" variable (for face cells).
In the direct case, the integer indices contained in the UGRID variable may be used as the cell identities, although the CF data model attaches no significance to the values other than the fact that some values are the same as others.</p>
</div>
<div class="paragraph">
<p>Restricting the types of connectivity to those implied by the geospatial topology of the cells precludes connectivity derived from any other sources, but is consistent with UGRID encoding within CF-netCDF.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-model-field-ancillary"><a class="anchor" href="#data-model-field-ancillary"></a>Field ancillary constructs</h4>
<div class="paragraph">
<p>The field ancillary construct (<a href="#figure-field">Figure I.2</a>) provides metadata which are distributed over the same sampling domain as the field itself.
For example, if a data variable holds a variable retrieved from a satellite instrument, a related ancillary data variable might provide the uncertainty estimates for those retrievals (varying over the same spatiotemporal domain).</p>
</div>
<div class="paragraph">
<p>The field ancillary construct consists of an array of the ancillary data which is either scalar or which depends on one, more or all of the domain axis constructs, and properties to describe the data (in the same sense as for the field construct).
It is assumed that the data do not depend on axes of the domain which are not spanned by the array, along which the values are implicitly propagated.
CF-netCDF ancillary data variables correspond to field ancillary constructs.
Note that a field ancillary construct is constrained by the domain definition of the parent field construct but does not contribute to the domain’s definition, unlike, for instance, an auxiliary coordinate construct or domain ancillary construct.</p>
</div>
</div>
<div class="sect3">
<h4 id="data-model-cell-method"><a class="anchor" href="#data-model-cell-method"></a>Cell method construct</h4>
<div class="paragraph">
<p>The cell method constructs (<a href="#figure-field">Figure I.2</a>) describe how the cell values represent the variation of the physical quantity within its cells&#8212;&#8203;the structure of the data at a higher resolution.
A single cell method construct consists of a set of axes (see below), a "method" property which describes how a value of the field construct&#8217;s data array describes the variation of the quantity within a cell over those axes (e.g. a value might represent the cell area average), and properties serving to indicate more precisely how the method was applied (e.g. recording the spacing of the original data, or the fact the method was applied only over El Niño years).</p>
</div>
<div class="paragraph">
<p>The field construct may contain an ordered sequence of cell method constructs describing multiple processes which have been applied to the data, e.g. a temporal maximum of the areal mean has two components&#8212;&#8203;a mean and a maximum, each acting over different sets of axes.
It is an ordered sequence because the methods specified are not necessarily commutative.
There are properties to indicate climatological time processing, e.g. multiannual means of monthly maxima, in which case multiple cell method constructs need to be considered together to define a special interpretation of boundary coordinate array values.
The <strong><code>cell_methods</code></strong> attribute of a CF-netCDF data variable corresponds to one or more cell method constructs.</p>
</div>
<div class="paragraph">
<p>The axes over which a cell method applies are either a subset of the domain axis constructs or a collection of strings which identify axes that are not part of the domain.
The latter case is particularly useful when the coordinate range for an axis cannot be precisely defined, making it impossible to define a domain axis construct.
For example, a climatological time mean might be based on data which are not available over the same time periods at every horizontal location&#8212;&#8203;the useful information that the data have been temporally averaged can be recorded without specifying the range of times.
The strings which identify such axes are well defined in that they must be standard names (e.g. time, longitude) or the special string <strong><code>area</code></strong>, indicating a combination of horizontal axes.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-coordinate-subsampling"><a class="anchor" href="#appendix-coordinate-subsampling"></a>Appendix J: Coordinate Interpolation Methods</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The general description of the compression by coordinate subsampling is given in section <a href="#compression-by-coordinate-subsampling">Section 8.3, "Lossy Compression by Coordinate Subsampling"</a>.
This appendix provides details on the available methods for compression by coordinate subsampling.</p>
</div>
<div class="paragraph">
<p>The definitions and guidance given here allow an application to compress an existing data set using coordinate subsampling, while letting the creator of the compressed dataset control the accuracy of the reconstituted coordinates through the degree of subsampling, the choice of interpolation method and by setting the computational precision.</p>
</div>
<div class="paragraph">
<p>Furthermore, the definitions given here allow an application to uncompress coordinate and auxiliary coordinate variables that have been compressed using coordinate subsampling.
The key element of this process is the reconstitution of the full resolution coordinates in the domain of the data by interpolation between the subsampled coordinates, the tie points, stored in the compressed dataset.</p>
</div>
<div class="paragraph">
<p>The appendix is organised in a sections on <a href="#common-definitions-and-notation">Section J.1, "Common Definitions and Notation"</a>, <a href="#common-conversions-and-formulas">Section J.2, "Common Conversions and Formulas"</a>, <a href="#interpolation-methods">Section J.3, "Interpolation Methods"</a> and finally two sections with step procedures <a href="#coordinate-compression-steps">Section J.4, "Coordinate Compression Steps"</a> and <a href="#coordinate-uncompression-steps">Section J.5, "Coordinate Uncompression Steps"</a>.</p>
</div>
<div class="sect2">
<h3 id="common-definitions-and-notation"><a class="anchor" href="#common-definitions-and-notation"></a>Common Definitions and Notation</h3>
<div class="paragraph">
<p>The coordinate interpolation methods are named to indicate the number of dimensions they interpolate as well as the type of interpolation provided.
For example, the interpolation method named <code>linear</code> provides linear interpolation in one dimension and the method named <code>bi_linear</code> provides linear interpolation in two dimensions.
Equivalently, the interpolation method named <code>quadratic</code> provides quadratic interpolation in one dimension and the interpolation method named <code>bi_quadratic</code> provides quadratic interpolation in two dimensions.</p>
</div>
<div class="paragraph">
<p>When an interpolation method is referred to as linear or quadratic, it means that the method is linear or quadratic in the indices of the interpolated dimensions.</p>
</div>
<div class="paragraph">
<p>For convenience, an interpolation argument <code>s</code> is introduced, calculated as a function of the index in the target domain of the coordinate value to be reconstituted.
In the case of one-dimensional interpolation the variable is computed as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>s = s(ia, ib, i)
  = (i - ia)/(ib - ia)</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>ia</code> and <code>ib</code> are the indices in the target domain of the tie points <code>A</code> and <code>B</code> and <code>i</code> is the index in the target domain of the coordinate value to be reconstituted.</p>
</div>
<div class="paragraph">
<p>Note that the value of <code>s</code> varies from <code>0.0</code> at the tie point <code>A</code> to <code>1.0</code> at tie point <code>B</code>.
For example, if <code>ia = 100</code> and <code>ib = 110</code> and the index in the target domain of the coordinate value to be reconstituted is <code>i = 105</code>, then <code>s = (105 - 100)/(110 - 100) = 0.5</code>.</p>
</div>
<div class="paragraph">
<p>In the case of two-dimensional interpolation, the interpolation arguments are similarly computed as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>s1 = s(ia1, ib1, i1)
   = (i1 - ia1)/(ib1 - ia1)
s2 = s(ia2, ic2, i2)
   = (i2 - ia2)/(ic2 - ia2)</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>ia1</code> and <code>ib1</code> are the first dimension indices in the target domain of the tie points <code>A</code> and <code>B</code> respectively, <code>ia2</code> and <code>ic2</code> are the second dimension indices in the target domain of the tie points <code>A</code> and <code>C</code> respectively and the indices <code>i1</code> and <code>i2</code> are the first and second dimension indices respectively in the target domain of the coordinate value to be reconstituted.</p>
</div>
<div class="paragraph">
<p>The target domain is segmented into smaller interpolation subareas as described in <a href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas">Section 8.3.1, "Tie Points and Interpolation Subareas"</a>.</p>
</div>
<div class="paragraph">
<p>For one-dimensional interpolation, an interpolation subarea is defined by two tie points, one at each end of the interpolation subarea.
However, the tie points may be inside or outside the interpolation subareas as shown in <a href="#interpolation_subareas_1d">Figure J.1</a>.
When interpolation methods are applied for a given interpolation subarea, it must be ensured that reconstituted coordinate points are only generated inside the interpolation subarea being processed, even if some of the tie point coordinates lie outside of that interpolation subarea.
See also description in <a href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas">Section 8.3.1, "Tie Points and Interpolation Subareas"</a>.</p>
</div>
<div id="interpolation_subareas_1d" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_1d_interpolation_subarea.svg" alt="ci 1d interpolation subarea" width="100%">
</div>
<div class="title">Figure J.1. One-dimensional interpolation subareas, one including and one excluding tie point <code>A</code>.</div>
</div>
<div class="paragraph">
<p>For two-dimensional interpolation, an interpolation subarea is defined by four tie points, one at each corner of a rectangular area aligned with the domain axes, see <a href="#interpolation_subarea_2d">Figure J.2</a>.</p>
</div>
<div id="interpolation_subarea_2d" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_2d_interpolation_subarea.svg" alt="ci 2d interpolation subarea" width="60%">
</div>
<div class="title">Figure J.2. Two-dimensional interpolation subarea.</div>
</div>
<div class="paragraph">
<p>For the reconstitution of the uncompressed coordinate and auxiliary coordinate variables the interpolation method can be applied independently for each interpolation subarea, making it possible to parallelize the computational process.</p>
</div>
<div class="paragraph">
<p>The following notation is used:</p>
</div>
<div class="paragraph">
<p>A variable staring with <code>v</code> denotes a vector and <code>v.x</code>, <code>v.y</code> and <code>v.z</code> refer to the three coordinates of that vector.</p>
</div>
<div class="paragraph">
<p>A variable staring with <code>ll</code> denotes a latitude-longitude coordinate pair and <code>ll.lat</code> and <code>ll.lon</code> refer to the latitude and longitude coordinates.</p>
</div>
<div class="paragraph">
<p>For one-dimensional interpolation, <code>i</code> is an index in the interpolated dimension, <code>tpi</code> is an index in the subsampled dimension and <code>is</code> is an index in the interpolation subarea dimensions.</p>
</div>
<div class="paragraph">
<p>For two-dimensional interpolation, <code>i1</code> and <code>i2</code> are indices in the interpolated dimensions, <code>tpi1</code> and <code>tpi2</code> are indices in the subsampled dimensions and <code>is1</code> and <code>is2</code> are indices in the interpolation subarea dimensions.
Dimension 1 is the dimension with index values increasing from tie point <code>A</code> to tie point <code>B</code>, dimension 2 is the dimension with index values increasing from tie point <code>A</code> to tie point <code>C</code>.</p>
</div>
<div class="paragraph">
<p>Note that, for simplicity of notation, the descriptions of the interpolation methods in most places leave out the indices of tie point related variables and refer to these with <code>a</code> and <code>b</code> in the one-dimensional case and with <code>a</code>, <code>b</code>, <code>c</code> and <code>d</code> in the two-dimensional case.
In the two-dimensional case, <code>a = tp(tpi2, tpi1)</code>, <code>b = tp(tpi2, tpi1+1)</code>, <code>c = tp(tpi2+1, tpi1)</code> and <code>d = tp(tpi2+1, tpi1+1)</code> would reflect the way the tie point data would be stored in the data set, see also <a href="#interpolation_subarea_2d">Figure J.2</a>.</p>
</div>
<div class="sect3">
<h4 id="common-conversions-and-formulas"><a class="anchor" href="#common-conversions-and-formulas"></a>Common Conversions and Formulas</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Formula</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sqrt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Square Root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s = sqrt(t)</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>atan2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inverse Tangent of <code>y/x</code><br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a = atan2(y, x)</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fll2v</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conversion from geocentric <code>(latitude, longitude)</code> to three-dimensional cartesian vector <code>(x, y, z)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(x, y, z) = fll2v(ll) = (cos(ll.lat)*cos(ll.lon), cos(ll.lat)*sin(ll.lon), sin(ll.lat))</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fv2ll</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conversion from three-dimensional cartesian vector <code>(x, y, z)</code> to geocentric <code>(latitude, longitude)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(lat, lon) = fv2ll(v) = (atan2(v.z, sqrt(v.x * v.x + v.y * v.y)), atan2(v.y, v.x))</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>faz2v</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conversion from <code>(azimuth, zenith)</code> angles to three-dimensional cartesian vector <code>(x, y, z)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(x, y, z) = faz2v(az) = (sin(az.zenith) * sin(az.azimuth), sin(az.zenith) * cos(az.azimuth), cos(az.zenith))</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fv2az</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conversion from three-dimensional cartesian vector <code>(x, y, z)</code> to <code>(azimuth, zenith)</code> angles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(azimuth, zenith) = fv2az(v) = (atan2(y, x), atan2(sqrt(x * x + y * y), z))</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fplus</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector Sum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(x, y, z) = fplus(va, vb) = (va.x + vb.x, va.y + vb.y, va.z + vb.z)</code><br>
<code>(x, y, z) = fplus(va, vb, vc) = (va.x + vb.x + vc.x, va.y + vb.y + vc.y, va.z + vb.z + vc.z)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fminus</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector Difference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(x, y, z) = fminus(va, vb) = (va.x - vb.x, va.y - vb.y, va.z - vb.z)</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fmultiply</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector multiplied by Scalar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(x, y, z) = fmultiply(r, v) = (r * v.x, r * v.y, r * v.z)</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fcross</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector Cross Product</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(x, y, z) = fcross(va, vb) = (va.y*vb.z - va.z*vb.y, va.z*vb.x - va.x*vb.z, va.x*vb.y - va.y*vb.x)</code><br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fdot</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vector Dot Product</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d = fdot(va, vb) = va.x*vb.x + va.y*vb.y + va.z*vb.z</code><br></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="interpolation-methods"><a class="anchor" href="#interpolation-methods"></a>Interpolation Methods</h3>
<div class="sect3">
<h4 id="_linear_interpolation"><a class="anchor" href="#_linear_interpolation"></a>Linear Interpolation</h4>
<div class="paragraph">
<p><strong>Name</strong><br>
<strong><code>interpolation_name = "linear"</code></strong></p>
</div>
<div class="paragraph">
<p><strong>Description</strong><br>
General purpose one-dimensional linear interpolation method for one or more coordinates</p>
</div>
<div class="paragraph">
<p><strong>Interpolation parameter terms</strong><br>
None.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate compression calculations</strong><br>
None.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate uncompression calculations</strong><br>
The coordinate value <code>u(i)</code> at index <code>i</code> between tie points <code>A</code> and <code>B</code> is calculated from:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>u(i) = fl(ua, ub, s(i))
     = ua + s*(ub-ua)</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>ua</code> and <code>ub</code> are the coordinate values at tie points <code>A</code> and <code>B</code> respectively.</p>
</div>
</div>
<div class="sect3">
<h4 id="_bilinear_interpolation"><a class="anchor" href="#_bilinear_interpolation"></a>Bilinear Interpolation</h4>
<div class="paragraph">
<p><strong>Name</strong><br>
<strong><code>interpolation_name = "bi_linear"</code></strong></p>
</div>
<div class="paragraph">
<p><strong>Description</strong><br>
General purpose two-dimensional linear interpolation method for one or more coordinates.</p>
</div>
<div class="paragraph">
<p><strong>Interpolation parameter terms</strong><br>
None.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate compression calculations</strong><br>
None.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate uncompression calculations</strong><br>
The interpolation function fl() defined for linear interpolation above is first applied twice in the interpolated dimension 2, once between tie points <code>A</code> and <code>C</code> and once between tie points <code>B</code> and <code>D</code>.</p>
</div>
<div class="paragraph">
<p>It is then applied once in the interpolated dimension 1, between the two resulting coordinate points, yielding the interpolated coordinate value <code>u(i2, i1)</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>uac       = fl(ua, uc, s(ia2, ic2, i2))
ubd       = fl(ub, ud, s(ia2, ic2, i2))
u(i2, i1) = fl(uac, ubd, s(ia1, ib1, i1))</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="quadratic"><a class="anchor" href="#quadratic"></a>Quadratic Interpolation</h4>
<div class="paragraph">
<p><strong>Name</strong><br>
<strong><code>interpolation_name = "quadratic"</code></strong></p>
</div>
<div class="paragraph">
<p><strong>Description</strong><br>
General purpose one-dimensional quadratic interpolation method for one coordinate.</p>
</div>
<div class="paragraph">
<p><strong>Interpolation parameter terms</strong><br>
Optionally the term <code>w</code>, specifying a numerical variable spanning the interpolation subarea dimension.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate compression calculations</strong><br>
The expression</p>
</div>
<div class="listingblock">
<div class="content">
<pre>w = fw(ua, ub, u(i), s(i))
  = (u - (1 - s) * ua - s * ub)/(4 * (1 - s) * s)</pre>
</div>
</div>
<div class="paragraph">
<p>enables the creator of the dataset to calculate the coefficient <code>w</code> from the coordinate values <code>ua</code> and <code>ub</code> at tie points <code>A</code> and <code>B</code> respectively, and the coordinate value <code>u(i)</code> at index <code>i</code> between the tie points <code>A</code> and <code>B</code>.
If the number of points in the interpolation subarea <code>(ib - ia + 1)</code> is odd, then the data point at index <code>i = (ib + ia)/2</code> shall be selected for this calculation, otherwise the data point at index <code>i = (ib + ia - 1)/2</code> shall be selected.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate uncompression calculations</strong><br>
The coordinate value <code>u(i)</code> at index <code>i</code> between tie points <code>A</code> and <code>B</code> is calculated from:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>u(i) = fq(ua, ub, w, s(i))
     = ua + s * (ub - ua + 4 * w * (1 - s))</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>ua</code> and <code>ub</code> are the coordinate values at tie points <code>A</code> and <code>B</code> respectively and the coefficient <code>w</code> is available as a term in the <code>interpolation_parameters</code>, or otherwise defaults to <code>0.0</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="quadratic_geo"><a class="anchor" href="#quadratic_geo"></a>Quadratic Interpolation of Geographic Coordinates Latitude and Longitude</h4>
<div class="paragraph">
<p><strong>Name</strong><br>
<strong><code>interpolation_name = "quadratic_latitude_longitude"</code></strong></p>
</div>
<div class="paragraph">
<p><strong>Description</strong><br>
A one-dimensional quadratic method for interpolation of the geographic coordinates latitude and longitude, typically used for remote sensing products with geographic coordinates on the reference ellipsoid.</p>
</div>
<div class="paragraph">
<p>Requires a pair of latitude and longitude tie point variables, as defined unambiguously in <a href="#latitude-coordinate">Section 4.1, "Latitude Coordinate"</a> and <a href="#longitude-coordinate">Section 4.2, "Longitude Coordinate"</a>.
For each interpolation subarea, none of the tie points defining the interpolation subarea are permitted to coincide.</p>
</div>
<div class="paragraph">
<p>By default, interpolation is performed directly in the latitude and longitude coordinates, but may be performed in three-dimensional cartesian coordinates where required for achieving the desired accuracy.
This must be indicated by setting the <code>location_use_3d_cartesian</code> flag within the interpolation parameter <code>interpolation_subarea_flags</code> for each interpolation subarea where interpolation in three-dimensional cartesian coordinates is required.</p>
</div>
<div class="paragraph">
<p>The quadratic interpolation coefficients <code>cea = (ce, ca)</code>, stored as interpolation parameters in the product, describe a point <code>P</code> between the tie points <code>A</code> and <code>B</code>, which is equivalent of an additional tie point in the sense that the method will accurately reconstitute the point <code>P</code> in the same way as it accurately reconstitutes the tie points <code>A</code> and <code>B</code>.
See <a href="#quadratic1">Figure J.3</a> and <a href="#quadratic2">Figure J.4</a>.</p>
</div>
<div class="paragraph">
<p>Although equivalent to a tie point, the coefficients <code>ce</code> and <code>ca</code> have two advantages over tie points.
Firstly, they can often be stored as a lower precision floating point number compared to the tie points, as <code>ce</code> and <code>ca</code> only describes the position of <code>P</code> relative to the midpoint <code>M</code> between the tie points <code>A</code> and <code>B</code>.
Secondly, if any of <code>ce</code> and <code>ca</code> do not contribute significantly to the accuracy of the reconstituted points, it can be left out of the data set and its value will default to zero during uncompression.</p>
</div>
<div class="paragraph">
<p>The coefficients may be represented in three different ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For storage in the dataset as the non-dimensional coefficients <code>cea = (ce, ca)</code>, referred to as the parametric representation.
The component <code>ce</code> is the offset projected on the line from tie point <code>B</code> to tie point <code>A</code> and expressed as a fraction of the distance between <code>A</code> and <code>B</code>.
The component <code>ca</code> is the offset projected on the line perpendicular to the line from tie point <code>B</code> to tie point <code>A</code> and perpendicular to the plane spanned by <code>va</code> and <code>vb</code>, the vector representations of the two tie points, and expressed as a fraction of the length of <code>A x B</code>.</p>
</li>
<li>
<p>For interpolation in three-dimensional cartesian coordinates as the coefficients <code>cv = (cv.x, cv.y, cv.z)</code>, expressing the offset components along the three-dimensional cartesian axes X, Y and Z respectively.</p>
</li>
<li>
<p>For interpolation in geographic coordinates latitude and longitude as the coefficients <code>cll = (cll.lat, cll.lon)</code>, expressing the offset components along the longitude and latitude directions respectively.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The functions <code>fq()</code> and <code>fw()</code> referenced in the following are defined in <a href="#quadratic">Quadratic Interpolation</a>.</p>
</div>
<div class="paragraph">
<p><strong>Interpolation parameter terms</strong><br>
Optionally, any subset of terms <code>ce, ca</code>, each specifying a numerical variable spanning the interpolation subarea dimension.</p>
</div>
<div class="paragraph">
<p>The mandatory term <code>interpolation_subarea_flags</code>, specifying a flag variable spanning the interpolation subarea dimension and including <code>location_use_3d_cartesian</code> in the <code>flag_meanings</code> attribute.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate compression calculations</strong><br>
First calculate the tie point vector representations from the tie point latitude-longitude representations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>va = fll2v(lla)
vb = fll2v(llb)</pre>
</div>
</div>
<div class="paragraph">
<p>Then calculate the three-dimensional cartesian representation of the interpolation coefficients from the tie points <code>va</code> and <code>vb</code> as well as the point <code>vp(i)</code> at index <code>i</code> between the tie points <code>A</code> and <code>B</code>.
If the number of points in an interpolation subarea <code>(ib - ia + 1)</code> is odd, then the data point at index <code>i = (ib + ia)/2</code> shall be selected for this calculation, otherwise the data point at index <code>i = (ib + ia - 1)/2</code> shall be selected.</p>
</div>
<div class="paragraph">
<p>The three-dimensional cartesian interpolation coefficients are found from:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cv = fcv(va, vb, vp(i), s(i))
   = (fw(va.x, vb.x, vp(i).x, s(i)),
      fw(va.y, vb.y, vp(i).y, s(i)),
      fw(va.z, vb.z, vp(i).z, s(i)))</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, for storage in the dataset, convert the coefficients to the parametric representation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cea(is) = (ce(is), ca(is))
        = fcv2cea(va, vb, cv)
        = (fdot(cv, fminus(va, vb))/gsqr,
           fdot(cv, fcross(va, vb))/(rsqr*gsqr))</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vr   = fmultiply(0.5, fplus(va, vb))
rsqr = fdot(vr, vr)
vg   = fminus(va, vb)
gsqr = fdot(vg, vg)</pre>
</div>
</div>
<div class="paragraph">
<p>The interpolation parameter term <code>interpolation_subarea_flags(is)</code> shall have the flag <code>location_use_3d_cartesian</code> set if the interpolation subarea intersects the <code>longitude = 180.0</code> or if the interpolation subarea extends into <code>latitude &gt; latitude_limit</code> or <code>latitude &lt; -latitude_limit</code>.
The value of <code>latitude_limit</code> is set by the data set creator and defines the high latitude areas where interpolation in three-dimensional cartesian coordinates is required for reasons of coordinate reconstitution accuracy.
The <code>latitude_limit</code> is used solely for setting the flag <code>location_use_3d_cartesian</code>, and is not required in a compressed dataset.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate uncompression calculations</strong><br>
First calculate the tie point vector representations from the tie point latitude-longitude representations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>va = fll2v(lla)
vb = fll2v(llb)</pre>
</div>
</div>
<div class="paragraph">
<p>Then calculate the three-dimensional cartesian representation of the interpolation coefficients from the parametric representation stored in the dataset using:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cv = fcea2cv(va, vb, cea(is))
   = fplus(fmultiply(ce, fminus(va, vb)),
           fmultiply(ca, fcross(va, vb)),
           fmultiply(cr, vr))</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vr   = fmultiply(0.5, fplus(va, vb))
rsqr = fdot(vr, vr)
cr   = sqrt(1 - ce(is)*ce(is) - ca(is)*ca(is)) - sqrt(rsqr)</pre>
</div>
</div>
<div class="paragraph">
<p>If the flag <code>location_use_3d_cartesian</code> of the interpolation parameter term <code>interpolation_subarea_flags(is2, is1)</code> is set, use the following expression to reconstitute any point <code>llp(i)</code> between the tie points <code>A</code> and <code>B</code> using interpolation in three-dimensional cartesian coordinates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>vp(i)  = fqv(va, vb, cv, s(i))
       = (fq(va.x, vb.x, cv.x, s(i)),
          fq(va.y, vb.y, cv.y, s(i)),
          fq(va.z, vb.z, cv.z, s(i)))
llp(i) = fv2ll(vp(i))</pre>
</div>
</div>
<div class="paragraph">
<p>Otherwise, first calculate latitude-longitude representation of the interpolation coefficients:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cll = fcll(lla, llb, llab)
    = (fw(lla.lat, llb.lat, llab.lat, 0.5),
       fw(lla.lon, llb.lon, llab.lon, 0.5))</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>llab = fv2ll(fqv(va, vb, cv, 0.5))</pre>
</div>
</div>
<div class="paragraph">
<p>Then use the following expression to reconstitute any point <code>llp(i)</code> between the tie points <code>A</code> and <code>B</code> using interpolation in latitude-longitude coordinates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>llp(i) = (llp(i).lat, llp(i).lon)
       = fqll(lla, llb, cll, s(i))
       = (fq(lla.lat, llb.lat, cll.lat, s(i)),
          fq(lla.lon, llb.lon, cll.lon, s(i)))</pre>
</div>
</div>
<div id="quadratic1" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_quadratic1.svg" alt="ci quadratic1" width="100%">
</div>
<div class="title">Figure J.3. With the expansion coefficient <code>ce = 0</code> and the alignment coefficient <code>ca = 0</code>, the method reconstitutes the points at regular intervals along a great circle between tie points <code>A</code> and <code>B</code>.</div>
</div>
<div id="quadratic2" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_quadratic2.svg" alt="ci quadratic2" width="100%">
</div>
<div class="title">Figure J.4. With the expansion coefficient <code>ce &gt; 0</code> and the alignment coefficient <code>ca &gt; 0</code>, the method reconstitutes the points at intervals of expanding size (<code>ce</code>) along an arc with an alignment offset (<code>ca</code>) from the great circle between tie points <code>A</code> and <code>B</code>.</div>
</div>
</div>
<div class="sect3">
<h4 id="bi_quadratic_geo"><a class="anchor" href="#bi_quadratic_geo"></a>Biquadratic Interpolation of Geographic Coordinates Latitude and Longitude</h4>
<div class="paragraph">
<p><strong>Name</strong><br>
<strong><code>interpolation_name = "bi_quadratic_latitude_longitude"</code></strong></p>
</div>
<div class="paragraph">
<p><strong>Description</strong><br>
A two-dimensional quadratic method for interpolation of the geographic coordinates latitude and longitude, typically used for remote sensing products with geographic coordinates on the reference ellipsoid.</p>
</div>
<div class="paragraph">
<p>Requires a pair of latitude and longitude tie point variables, as defined unambiguously in <a href="#latitude-coordinate">Section 4.1, "Latitude Coordinate"</a> and <a href="#longitude-coordinate">Section 4.2, "Longitude Coordinate"</a>.
For each interpolation subarea, none of the tie points defining the interpolation subarea are permitted to coincide.</p>
</div>
<div class="paragraph">
<p>The functions <code>fcv()</code>, <code>fcv2cea()</code>, <code>fcea2cv()</code>, <code>fcll()</code>, <code>fqv()</code> and <code>fqll()</code> referenced in the following are defined in <a href="#quadratic_geo">Quadratic Interpolation of Geographic Coordinates Latitude and Longitude</a>.
As for that method, interpolation is performed directly in the latitude and longitude coordinates or in three-dimensional cartesian coordinates, where required for achieving the desired accuracy.
Similarly, it shares the three different representations of the quadratic interpolation coefficients, the parametric representation <code>cea = (ce, ca)</code> for storage in the dataset, <code>cll = (cll.lat, cll.lon)</code> for interpolation in geographic coordinates latitude and longitude and <code>cv = (cv.x, cv.y, cv.z)</code> for interpolation in three-dimensional cartesian coordinates.</p>
</div>
<div class="paragraph">
<p>The parametric representation of the interpolation coefficients, stored in the interpolation parameters <code>ce1</code>, <code>ca1</code>, <code>ce2</code>, <code>ca2</code>, <code>ce3</code> and <code>ca3</code>, is equivalent to five additional tie points for the interpolation subarea as shown in <a href="#quadratic3">Figure J.5</a>, which also shows the orientation and indices of the parameters.</p>
</div>
<div class="paragraph">
<p><strong>Interpolation parameter terms</strong><br>
Optionally, any subset of terms <code>ce1</code> and <code>ca1</code>, each specifying a numerical variable spanning the subsampled dimension 2 and the interpolation subarea dimension 1.</p>
</div>
<div class="paragraph">
<p>Optionally, any subset of terms <code>ce2</code> and <code>ca2</code>, each specifying a numerical variable spanning the interpolation subarea dimension 2 and the subsampled dimension 1.</p>
</div>
<div class="paragraph">
<p>Optionally, any subset of terms <code>ce3</code> and <code>ca3</code>, each specifying a numerical variable spanning the interpolation subarea dimension 2 and the interpolation subarea dimension 1.</p>
</div>
<div class="paragraph">
<p>The mandatory term <code>interpolation_subarea_flags</code>, specifying a flag variable spanning the interpolation subarea dimension 2 and the interpolation subarea dimension 1 and including <code>location_use_3d_cartesian</code> in the <code>flag_meanings</code> attribute.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate compression calculations</strong><br>
First calculate the tie point vector representations from the tie point latitude-longitude representations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>va = fll2v(lla)
vb = fll2v(llb)
vc = fll2v(llc)
vd = fll2v(lld)</pre>
</div>
</div>
<div class="paragraph">
<p>Then calculate the three-dimensional cartesian representation of the interpolation coefficients sets from the tie points as well as a point <code>vp(i2, i1)</code> between the tie points.
If the number of points in the first dimension of the interpolation subarea <code>(ib1 - ia1 + 1)</code> is odd, then the data point at index i1 = <code>(ib1 + ia1)/2</code> shall be selected for this calculation, otherwise the data point at index <code>i1 = (ib1 + ia1 - 1)/2</code> shall be selected.
If the number of points in the second dimension of the interpolation subarea <code>(ic2 - ia2 + 1)</code> is odd, then the data point at index <code>i2 = (ic2 + ica)/2</code> shall be selected for this calculation, otherwise the data point at index <code>i2 = (ic2 + ia2 - 1)/2</code> shall be selected.</p>
</div>
<div class="paragraph">
<p>Using the selected <code>(i2, i1)</code>, the three-dimensional cartesian interpolation coefficients are found from:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>s1    = s(ia1, ib1, i1)
s2    = s(ia2, ic2, i2)
vac   = fll2v(ll(i2, ia1))
vbd   = fll2v(ll(i2, ib1))
cv_ac = fcv(va, vc, vac, s2)
cv_bd = fcv(vb, vd, vbd, s2)
cv_ab = fcv(va, vb, fll2v(ll(ia2, i1)), s1)
cv_cd = fcv(vc, vd, fll2v(ll(ic2, i1)), s1)
cv_zz = fcv(vac, vbd, fll2v(ll(i2, i1)), s1)
vz    = fqv(vac, vbd, cv_zz, 0.5)
vab   = fqv(va, vb, cv_ab, 0.5)
vcd   = fqv(vc, vd, cv_cd, 0.5)
cv_z  = fcv(vab, vcd, vz, s2)</pre>
</div>
</div>
<div class="paragraph">
<p>Finally, before storing them in the dataset&#8217;s interpolation parameters, convert the coefficients to the parametric representation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cea1(tpi2, is1)   = fcv2cea(va, vb, cv_ab)
cea1(tpi2+1, is1) = fcv2cea(vc, vd, cv_cd)
cea2(is2, tpi1)   = fcv2cea(va, vc, cv_ac)
cea2(is2, tpi1+1) = fcv2cea(vb, vd, cv_bd)
cea3(is2, is1)    = fcv2cea(vab, vcd, cv_z)</pre>
</div>
</div>
<div class="paragraph">
<p>The interpolation parameter term <code>interpolation_subarea_flags(is2, is1)</code> shall have the flag <code>location_use_3d_cartesian</code> set if the interpolation subarea intersects the <code>longitude = 180.0</code> or if the interpolation subarea extends into <code>latitude &gt; latitude_limit</code> or <code>latitude &lt; -latitude_limit</code>.
The value of <code>latitude_limit</code> is set by the data set creator and defines the high latitude areas where interpolation in three-dimensional cartesian coordinates is required for reasons of coordinate reconstitution accuracy.
The <code>latitude_limit</code> is used solely for setting the flag <code>location_use_3d_cartesian</code>, and is not required in a compressed dataset.</p>
</div>
<div class="paragraph">
<p><strong>Coordinate uncompression calculations</strong><br>
First calculate the tie point vector representations from the tie point latitude-longitude representations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>va = fll2v(lla)
vb = fll2v(llb)
vc = fll2v(llc)
vd = fll2v(lld)</pre>
</div>
</div>
<div class="paragraph">
<p>Then calculate the three-dimensional cartesian representation of the interpolation coefficient sets from the parametric representation stored in the dataset:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cv_ac = fcea2cv(va, vc, cea2(is2, tpi1))
cv_bd = fcea2cv(vb, vd, cea2(is2, tpi1 + 1))
vab   = fqv(va, vb, fcea2cv(va, vb, cea1(tpi2, is1)), 0.5)
vcd   = fqv(vc, vd, fcea2cv(vc, vd,  cea1(tpi2 + 1, is1)), 0.5)
cv_z  = fcea2cv(vab, vcd, cea3(is2, is1))</pre>
</div>
</div>
<div class="paragraph">
<p>If the flag <code>location_use_3d_cartesian</code> of the interpolation parameter term <code>interpolation_subarea_flags</code> is set, use the following expression to reconstitute any point <code>llp(i2, i1)</code> between the tie points <code>A</code> and <code>B</code> using interpolation in three-dimensional cartesian coordinates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>llp(i2, i1) = fv2ll(fqv(vac, vbd, cv_zz, s(ia1, ib1, i1)))</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>s2    = s(ia2, ic2, i2)
vac   = fqv(va, vc, cv_ac, s2)
vbd   = fqv(vb, vd, cv_bd, s2)
vz    = fqv(vab, vcd, cv_z, s2)
cv_zz = fcv(vac, vbd, vz, 0.5)</pre>
</div>
</div>
<div class="paragraph">
<p>Otherwise, first calculate latitude-longitude representation of the interpolation coefficients:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>llc_ac = fcll(lla, llc, fv2ll(fqv(va, vc, cv_ac, 0.5)))
llc_bd = fcll(llb, lld, fv2ll(fqv(vb, vd, cv_bd, 0.5)))
llab   = fv2ll(vab)
llcd   = fv2ll(vcd)
llc_z  = fcll(llab, llcd, fv2ll(fqv(vab, vcd, cv_z, 0.5)))</pre>
</div>
</div>
<div class="paragraph">
<p>Then use the following expression to reconstitute any point <code>llp(i2, i1)</code> in the interpolation subarea using interpolation in latitude-longitude coordinates:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>llp(i2, i1) = fqll(llac, llbd, cl_zz, s(ia1, ib1, i1))</pre>
</div>
</div>
<div class="paragraph">
<p>where</p>
</div>
<div class="listingblock">
<div class="content">
<pre>s2    = s(ia2, ic2, i2)
llac  = fqll(lla, llc, llc_ac, s2)
llbd  = fqll(llb, lld, llc_bd, s2)
llz   = fqll(llab, llcd, llc_z, s2)
cl_zz = fcll(llac, llbd, llz)</pre>
</div>
</div>
<div id="quadratic3" class="imageblock text-center text-center">
<div class="content">
<img src="images/ci_quadratic3.svg" alt="ci quadratic3" width="50%">
</div>
<div class="title">Figure J.5. The parametric representation of the interpolation coefficients <code>cea = (ce, ca)</code>, stored in the interpolation parameters <code>ce1</code>, <code>ca1</code>, <code>ce2</code>, <code>ca2</code>, <code>ce3</code> and <code>ca3</code>, is equivalent to five additional tie points for the interpolation subarea. Shown with parameter orientation and indices.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="coordinate-compression-steps"><a class="anchor" href="#coordinate-compression-steps"></a>Coordinate Compression Steps</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Step</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Link</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identify the coordinate and auxillary coordinate variables for which tie point and interpolation variables are required.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identify non-overlapping subsets of the coordinate variables to be interpolated by the same interpolation method.
For each coordinate variable subset, create an interpolation variable and specify the selected interpolation method using the <strong><code>interpolation_name</code></strong> attribute of the interpolation variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-interpolation-variable">Section 8.3.3, "Interpolation Variable"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each coordinate variable subset, add the coordinates variable subset and the corresponding interpolation variable name to the the <strong><code>coordinate_interpolation</code></strong> attribute of the data variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-coordinate-interpolation-attribute">Section 8.3.2, "Coordinate Interpolation Attribute"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each coordinate variable subset, identify the set of interpolated dimensions and the set of non-interpolated dimensions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-dimensions">Section 8.3.4, "Subsampled, Interpolated and Non-Interpolated Dimensions"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each set of the interpolated dimensions, identify the continuous areas and select the interpolation subareas and the tie points, taking into account the required coordinate reconstitution accuracy when selecting the density of tie points.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas">Section 8.3.1, "Tie Points and Interpolation Subareas"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the interpolated dimensions, add the interpolated dimension, the corresponding subsampled dimension and, if required by the selected interpolation method, its corresponding interpolation subarea dimension to the <strong><code>tie_point_mapping</code></strong> attribute of the interpolation variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a><br>
<a href="#compression-by-coordinate-subsampling-tie-point-dimension-mapping">Section 8.3.6, "Tie Point Dimension Mapping"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the interpolated dimensions, record the location of each identified tie point in a tie point index variable.
For each interpolated dimension, add the tie point index variable name to the <strong><code>tie_point_mapping</code></strong> attribute of the interpolation variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a><br>
<a href="#compression-by-coordinate-subsampling-tie-point-index-mapping">Section 8.3.7, "Tie Point Index Mapping"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the target coordinate and auxillary coordinate variables, create the corresponding tie point coordinate variable and copy the coordinate values from the target domain coordinate variables to the tie point variables for the target domain indices identified by the tie point index variable.
Repeat this step for each combination of indices of the non-interpolated dimensions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a><br>
<a href="#compression-by-coordinate-subsampling-tie-point-index-mapping">Section 8.3.7, "Tie Point Index Mapping"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the target coordinate and auxillary coordinate variable having a <strong><code>bounds</code></strong> attribute, add the <strong><code>bounds_tie_points</code></strong> attribute to the tie point coordinate variable and create the bounds tie point variable.
For each continuous area, copy the selected set of bounds tie points values from the target domain bounds variable to the bounds tie point variable for the target domain indices identified by the tie point index variable.
Repeat this step for each combination of indices of the non-interpolated dimensions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-interpolation-of-cell-boundaries">Section 8.3.9, "Interpolation of Cell Boundaries"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If required by the selected interpolation method, follow the steps defined for the method in <a href="#interpolation-methods">Section J.3, "Interpolation Methods"</a> to create any required interpolation parameter variables.
As relevant, create the  <strong><code>interpolation_parameters</code></strong> attribute and populate it with the interpolation parameter variables.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-interpolation-variable">Section 8.3.3, "Interpolation Variable"</a><br>
<a href="#interpolation-methods">Section J.3, "Interpolation Methods"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optionally, check the consistency of the original coordinates and the reconstructed coordinates and add a <strong><code>comments</code></strong> attribute to one or more of the tie point coordinate variables reporting key figures like maximum error, mean error, etc.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="coordinate-uncompression-steps"><a class="anchor" href="#coordinate-uncompression-steps"></a>Coordinate Uncompression Steps</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Step</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Link</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the <strong><code>coordinate_interpolation</code></strong> attribute of the data variable, identify the coordinate and auxillary coordinate variable subsets, for which tie point interpolation is required, and the interpolation variable corresponding to each subset.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-coordinate-interpolation-attribute">Section 8.3.2, "Coordinate Interpolation Attribute"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each coordinate variable subset, identify the interpolation method from the
<strong><code>interpolation_name</code></strong> attribute of the interpolation variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-interpolation-variable">Section 8.3.3, "Interpolation Variable"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each coordinate variable subset, identify the set of interpolated dimensions and the set of non-interpolated dimensions from the <strong><code>tie_point_mapping</code></strong> attribute of the interpolation variable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a><br>
<a href="#compression-by-coordinate-subsampling-tie-point-dimension-mapping">Section 8.3.6, "Tie Point Dimension Mapping"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the <strong><code>tie_point_mapping</code></strong> attribute of the interpolation variable, identify for each of the interpolated dimensions the corresponding subsampled dimension and, if defined, the corresponding interpolation subarea dimension.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a><br>
<a href="#compression-by-coordinate-subsampling-tie-point-dimension-mapping">Section 8.3.6, "Tie Point Dimension Mapping"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the tie point index variables referenced in the <strong><code>tie_point_mapping</code></strong> attribute of the interpolation variable, identify the location of the tie points in the corresponding interpolated dimension.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a><br>
<a href="#compression-by-coordinate-subsampling-tie-point-index-mapping">Section 8.3.7, "Tie Point Index Mapping"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the interpolated dimensions, identify pairs of adjacent indices in the tie point index variable with index values differing by more than one, each index pair defining the extend of an interpolation subarea in that dimension.
A full interpolation subarea is defined by one such index pair per interpolated dimension, with combinations of one index from each pair defining the interpolation subarea tie points.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-points-and-interpolation-subareas">Section 8.3.1, "Tie Points and Interpolation Subareas"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">As required by the selected interpolation method, identify the interpolation parameter variables from the interpolation variable attribute <strong><code>interpolation_parameters</code></strong>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-interpolation-parameters">Section 8.3.8, "Interpolation Parameters"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the tie point coordinate and auxillary coordinate variables, create the corresponding target coordinate variable.
For each interpolation subarea, apply the interpolation method, as described in <a href="#interpolation-methods">Section J.3, "Interpolation Methods"</a>, to reconstitute the target domain coordinate values and store these in the target domain coordinate variables.
Repeat this step for each combination of indices of the non-interpolated dimensions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-tie-point-mapping-attribute">Section 8.3.5, "Tie Point Mapping Attribute"</a><br>
<a href="#interpolation-methods">Section J.3, "Interpolation Methods"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the tie point coordinate and auxillary coordinate variables having a <strong><code>bounds_tie_points</code></strong> attribute, add the <strong><code>bounds</code></strong> attribute to the target coordinate variable and create the target domain bounds variable.
For each interpolation subarea, apply the interpolation method to reconstitute the target domain bound values and store these in the target domain bound variables.
Repeat this step for each combination of indices of the non-interpolated dimensions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#compression-by-coordinate-subsampling-interpolation-of-cell-boundaries">Section 8.3.9, "Interpolation of Cell Boundaries"</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If auxiliary coordinate variables have been reconstituted, then, if not already present, add a <strong><code>coordinates</code></strong> attribute to the data variable and add to the attribute the list of the names of the reconstituted auxiliary coordinate variables.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#coordinate-system">Chapter 5, Coordinate Systems and Domain</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix-mesh-topology-attributes"><a class="anchor" href="#appendix-mesh-topology-attributes"></a>Appendix K: Mesh Topologies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The CF attributes listed here may be used to define mesh topologies (<a href="#mesh-topology-variables">Section 5.9, "Mesh Topology Variables"</a>).
This list is intended as a summary of the attributes that have been standardized via the UGRID conventions <a href="#UGRID">[UGRID]</a>, which should be consulted for further details.
UGRID attributes that are not currently recognised by the CF convensions are included in the list.</p>
</div>
<div class="paragraph">
<p>The "Type" values are <strong>S</strong> for string and <strong>I</strong> for integer.
The "Use" values are <strong>MT</strong> for mesh topology variables, <strong>LIS</strong> for location index set variables, <strong>D</strong> for data variables, <strong>Do</strong> for domain variables, and <strong>Con</strong> for connectivity index variables.</p>
</div>
<table id="table-mesh-topology-attributes" class="tableblock frame-all grid-all stretch">
<caption class="title">Table K.1. Mesh topology attributes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Use</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>boundary_node_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying the nodes that define where boundary condtions have been provided. Not currently recognised by the CF conventions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>cf_role</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT, LIS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the roles of mesh topology or location index set variables.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>coordinates</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LIS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the auxiliary coordinate variables associated with the characteristic locations of the subset of mesh topology locations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>edge_coordinates</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the auxiliary coordinate variables associated with the characteristic location of the edges (commonly the midpoint).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>edge_dimension</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the dimension used to index the nodes in the edge connectivity variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>edge_face_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying all faces that share the same edge, i.e. are neighbours to an edge.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>edge_node_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying for every edge the indices of its begin and end nodes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>face_coordinates</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the auxiliary coordinate variables associated with the characteristic location of faces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>face_dimension</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the dimension used to index the edges in the face connectivity variable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>face_edge_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying for every face the indices of its edges.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>face_face_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying all faces that share an edge with each face, i.e. are neighbours.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>face_node_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying for every face the indices of its corner nodes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>location</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do, LIS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the location within the mesh topology at which the variable is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>location_index_set</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a variable that defines the subset of locations of a mesh topology at which the variable is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>mesh</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D, Do, LIS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a variable that defines a mesh topology.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>node_coordinates</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the auxiliary coordinate variables representing the node locations (latitude, longitude, or other spatial coordinates, and optional elevation or other coordinates).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>start_index</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LIS, Con</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates whether 0- or 1-based indexing is used to identify connected geometric elements; connectivity indices are 0-based by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>topology_dimension</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates the highest dimensionality of the geometric elements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>volume_coordinates</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the auxiliary coordinate variables associated with the characteristic location of volumes. Not currently recognised by the CF conventions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>volume_dimension</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the dimension used to index the faces in the volume connectivity variable. Not currently recognised by the CF conventions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>volume_edge_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying for every volume the indices of its edges.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>volume_face_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying for every volume the indices of its faces. Not currently recognised by the CF conventions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>volume_node_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying for every volume the indices of its corner nodes. Not currently recognised by the CF conventions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>volume_shape_type</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies a flag variable that specifies for every volume its shape. Not currently recognised by the CF conventions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>volume_volume_connectivity</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies an index variable identifying all volumes that share a face with each volume, i.e. are neighbours. Not currently recognised by the CF conventions.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="revhistory"><a class="anchor" href="#revhistory"></a>Revision History</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_working_version_most_recent_first"><a class="anchor" href="#_working_version_most_recent_first"></a>Working version (most recent first)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/481">Issue #481</a>: Introduce <strong><code>units_metadata</code></strong> attribute and clarify some other aspects of <strong><code>units</code></strong></p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/458">Issue #147</a>: Clarify the use of compressed dimensions in related variables</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/486">Issue #486</a>: Fix PDF formatting problems and invalid references</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/490">Issue #490</a>: Simple correction to Example 6.1.2</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/457">Issue #457</a>: Creation date of the draft Conventions document</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/445">Issue #445</a>: Updates concerning the Polar Stereographic Grid Mapping</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/468">Issue #468</a>: Update section 2.3 to clarify recommended character set</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/147">Issue #147</a>: Clarify the use of compressed dimensions in related variables</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/483">Issue #483</a>: Add a missing author</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/463">Issue #463</a>: Convert URLs with HTTP protocol to HTTPS if available, fixed a few dead links</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/383">Issue #383</a>: Link to the CF website and deleted the Preface section</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/472">Issue #472</a>: Fix incorrect formating for some &lt;= symbols</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/458">Issue #458</a>: Fix broken link to Unidata documentation.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/423">Issue #423</a>: Always use "strictly monotonic" when describing coordinate variables</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/420">Issue #420</a>: Add List of Figures</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/210">Issue #210</a>: Correct errors in examples H9-H11</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/374">Issue #374</a>: Clarify rules for packing and unpacking in Section 8.1</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/449">Issue #449</a>: Typo in end-date in Example 7.12</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/266">Issue #266</a>: Updates to some links in the bibliography</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/286">Issue #286</a>: Some labels of examples contain "Example" so that their label in the list of examples contains "Example" (affects four examples); corrected captions of three tables and five examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/418">Issue #418</a>: Add missing examples to TOE (table of examples); corrected captions of three tables and three examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/367">Issue #367</a>: Delete obsolete references in section 3.3 for mappings of CF standard names to GRIB and PCMDI tables</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/405">Issue #405</a>: Update ch. 4.4 text on reference time vs. UDUNIT</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/406">Issue #406</a>: Remove duplicate section 8.2 in the conformance document</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/391">Issue #391</a>: Correct link to Snyder and typo in the bibliography</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/437">Issue #437</a>: Correct link to NUG in the bibliography</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/428">Issue #428</a>: Recording deployment positions</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/430">Issue #430</a>: Clarify the function of the <code>cf_role</code> attribute</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/pull/408">Pull request #408</a>: Deleted a sentence on "rotated Mercator" under <code>Oblique Mercator</code> grid mapping in Appendix F</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/265">Issue #265</a>: Clarification of the requirements on bounds variable attributes</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/260">Issue #260</a>: Clarify use of dimensionless units</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/410">Issue #410</a>: Delete "on a spherical Earth" from the definition of the <code>latitude_longitude</code> grid mapping in Appendix F</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/153">Issue #153</a>: Reference UGRID conventions in CF</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_10_31_august_2022"><a class="anchor" href="#_version_1_10_31_august_2022"></a>Version 1.10 (31 August 2022)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/pull/378">Pull request #378</a>: Fixed missing semicolon in example 7.16</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/366">Issue #366</a>: Clarify the intention of standard names</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/352">Issue #352</a>: Correct errors in description of lossy compression by coordinate subsampling</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/345">Issue #345</a>: Reformat the revision history</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/349">Issue #349</a>: Delete unnecessary Conventions attribute in two examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/162">Issue #162</a>: Delete incorrect missing_data attributes of time coordinate variables in two examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/129">Issue #129</a>: timeSeries featureType with a forecast/reference time dimension?</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_9_10_september_2021"><a class="anchor" href="#_version_1_9_10_september_2021"></a>Version 1.9 (10 September 2021)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/327">Issue #327</a>: Lossy compression by coordinate subsampling, including new Appendix J ("Coordinate Subsampling Methods")</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/323">Issue #323</a>: Update data model figures for the Domain</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/319">Issue #319</a>: Restrict "gregorian" label to only dates in the Gregorian calendar</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/298">Issue #298</a>: Interpretation of negative years in the units attribute</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/314">Issue #314</a>: Correction to the definition of "ocean sigma over z coordinate" in Appendix D</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/313">Issue #313</a>: Clarification of the handling of leap seconds</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/304">Issue #304</a>: Clarify formula terms definitions</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/301">Issue #301</a>: Introduce the CF domain variable.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/288">Issue #288</a>: Remove unnecessary line from table in section 9.3.1</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/284">Issue #284</a>: Fix the mention of example 6.1.2 in the example list</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/273">Issue #273</a>: State the principles for design of the CF conventions</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/295">Issue #295</a>: Correction of figures and their description</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/243">Issue #243</a>: Rewording changes relating to the new integer types</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/222">Issue #222</a>: Allow CRS WKT to represent the CRS without requiring reader to compare with grid mapping parameters</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/193">Issue #193</a>: Figures to clarify the order of the vertices of cell bounds</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/271">Issue #271</a>: Extend the CF data model for geometries</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/272">Issue #272</a>: Remove unnecessary netCDF dimensions from some examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/258">Issue #258</a>: Clarification of geostationary projection items</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/216">Issue #216</a>: New text describing usage of ancillary variables as status/quality flags</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/159">Issue #159</a>: Incorporate the CF data model into the conventions in new Appendix I</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/253">Issue #253</a>: Update PROJ links in Appendix F</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/pull/236">Pull request #236</a>: Fixed the link in the COARDS reference</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/243">Issue #243</a>: Add new integer types to CF</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/238">Issue #238</a>: Clarifications to ancillary variables text and examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/230">Issue #230</a>: Correct inconsistency in units of geostationary projection</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_8_11_february_2020"><a class="anchor" href="#_version_1_8_11_february_2020"></a>Version 1.8 (11 February 2020)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/223">Issue #223</a>: Axis Order for CRS-WKT grid mappings</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/212">Issue #212</a>: Inconsistent usage of false_easting and false_northing in grid mappings definitions and in examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/218">Issue #218</a>: Taxon Names and Identifiers.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/203">Issue #203</a>: Clarifications to use of groups.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/213">Issue #213</a>: Missing `s`s in grid mapping description texts.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/pull/202">Pull request #202</a>: Fix Section 7 examples numbering in the list of examples</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/198">Issue #198</a>: Clarification of use of standard region names in "region" variables.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/179">Issue #179</a>: Don&#8217;t require longitude and Latitude for projected coordinates.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/139">Issue #139</a>: Added support for variables of type string.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/186">Issue #186</a>: Minor corrections to Example 5.10, Section 9.5 &amp; Appendix F</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/136">Issue #136</a>: Missing trajectory dimension in H.22</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/144">Issue #144</a>: Add <a href="#groups">support for using groups</a>.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/128">Issue #128</a>: Add definition of 'name_strlen' dimension where missing in Appendix H CDL examples.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/pull/142">Pull request #142</a>: Fix bad reference to an example in section 6.1 "Labels".</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/issues/155">Issue #155</a>, <a href="https://github.com/cf-convention/cf-conventions/issues/156">Issue #156</a>: Allow alternate grid mappings for geometry containers. When node_count attribute is missing, require the dimension of the node coordinate variables to be one of the dimensions of the data variable.</p>
</li>
<li>
<p><a href="https://github.com/cf-convention/cf-conventions/pull/146">Pull request #146</a>: Typos (plural dimensions) in section H</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html164.html">Ticket #164</a>: Add bounds attribute to first geometry CDL example.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html164.html">Ticket #164</a>: Replace axis with bounds for coordinate variables related to geometry node variables.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html164.html">Ticket #164</a>: Add Tim Whiteaker and Dave Blodgett as authors.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html164.html">Ticket #164</a>: Remove geometry attribute from lat/lon variables in examples.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html164.html">Ticket #164</a>: If coordinates attribute is carried by geometry container, require coordinate variables which correspond to node coordinate variables to have the corresponding axis attribute.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html164.html">Ticket #164</a>: Implement suggestions from trac ticket comments.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html164.html">Ticket #164</a>: New Geometries section 7.5.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_7_7_august_2017"><a class="anchor" href="#_version_1_7_7_august_2017"></a>Version 1.7 (7 August 2017)</h3>
<div class="ulist">
<ul>
<li>
<p>Updated use of WKT-CRS syntax.</p>
</li>
<li>
<p>Trivial updates to links for COARDS and UDUNITS in the bibliography.</p>
</li>
<li>
<p>Updated the links and references to NUG (The NetCDF User Guide), to refer to the current version.</p>
</li>
<li>
<p>A few formatting tweaks.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html140.html">Ticket #140</a>: Added 3 paragraphs and an example to Chapter 7, Section 7.1.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html100.html">Ticket #100</a>: Clarifications to the preamble of sections 4 and 5.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html70.html">Ticket #70</a>: Connecting coordinates to Grid Mapping variables: revisions in Section 5.6 and Examples 5.10 and 5.12</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html104.html">Ticket #104</a>: Clarify the interpretation of scalar coordinate variables, changes in sections 5.7 and 6.1</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html102.html">Ticket #102</a>: additional cell_methods, changes in Appendix E and section 7.3</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html80.html">Ticket #80</a>: added attributes to AppF Table F1, changes in section 5.6 and 5.6.1.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html86.html">Ticket #86</a>: Allow coordinate variables to be scaled integers, affects two table rows in Appendix A.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html138.html">Ticket #138</a>: Clarification of false_easting / false_northing (Table F.1)</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html76.html">Ticket #76</a>: More than one name in Conventions attribute (section 2.6.1)</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html109.html">Ticket #109</a>: resolve inconsistency of positive and standard_name attributes (section 4.3)</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html75.html">Ticket #75</a>: fix documentation and definitions of 3 grid mapping definitions</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html143.html">Ticket #143</a>: Supplement the definitions of dimensionless vertical coordinates</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html85.html">Ticket #85</a>: Added sentence to bottom of first para in Section 9.1 "Features and feature types".  Added Links column in Section 9.1. Replaced first para in Section 9.6. "Missing Data". Added verbiage to Section 2.5.1, "Missing data&#8230;&#8203;".  Added sentence to Appendix A "Description" "missing_value" and "Fill_Value".</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html145.html">Ticket #145</a>: Add new sentence to bottom of Section 7.2, Add new Section 2.6.3, "External variables". Add "External variable" attribute to Appendix A.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html74.html">Ticket #74</a>: Removed "sea_water_speed" from flag values example and added Note at bottom of Example 3.3 in Chapter 3.  Also added a sentence to Appendix C Standard Name Modifiers "number of observations" and and a sentence to "status_flag_modifiers"</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html103.html">Ticket #103</a>: Corrections to Appendices A and H, finish the ticket with remaining changes to Appendix H.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html72.html">Ticket #72</a>: Adding the geostationary projection.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html92.html">Ticket #92</a>: Add oblique mercator projection</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html87.html">Ticket #87</a>: Allow comments in coordinate variables</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html77.html">Ticket #77</a>: Add sinusoidal projection</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html149.html">Ticket #149</a>: correction of standard name in example 7.3</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html148.html">Ticket #148</a>: Added maximum_absolute_value, minimum_absolute_value and mean_absolute_value to cell methods in Appendix E</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html118.html">Ticket #118</a>: Add geoid_name and geopotential_datum_name to the list of Grid Mapping Attributes.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html123.html">Ticket #123</a>: revised section 3.3</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html73.html">Ticket #73</a>: renamed Appendix G to Revision History</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html31.html">Ticket #31</a>, add new attribute <strong><code>actual_range</code></strong>.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html141.html">Ticket #141</a>, update affiliation organisations for Jonathan Gregory and Phil Bentley.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html103.html">Ticket #103</a> updated Type and Use values for some attributes in <a href="#attribute-appendix">Appendix A, Attributes</a> and added "special purpose" value. In <a href="#appendix-examples-discrete-geometries">Appendix H, Annotated Examples of Discrete Geometries</a>, updated coordinate values for the variables in some examples to correct omissions.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html71.html">Ticket #71</a>, correction of <a href="#vertical-perspective">Vertical perspective</a> projection.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html67.html">Ticket #67</a>, remove deprecation of "missing_value" from <a href="#attribute-appendix">Appendix A, Attributes</a>.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html93.html">Ticket #93</a>: Added two new dimensionless coordinates to Appendix D.</p>
</li>
<li>
<p>Ticket #69. Added Section 5.6.1, Use of the CRS Well-known Text Format and related changes.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html65.html">Ticket #65</a>: add range entry in Appendix E.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html64.html">Ticket #64</a>: section 7.3 editorial correction, replace "cell_bounds" with "bounds".</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html61.html">Ticket #61</a>: two new cell methods in Appendix E.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_6_5_december_2011"><a class="anchor" href="#_version_1_6_5_december_2011"></a>Version 1.6 (5 December 2011)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://cfconventions.org/Data/trac.html37.html">Ticket #37</a>: Added Chapter 9, Discrete Sampling Geometries, and a related Appendix H, and revised several other chapters.</p>
</li>
<li>
<p>In Appendix H (Annotated Examples of Discrete Geometries), updated standard names "station_description" and "station_wmo_id" to "platform_name" and "platform_id".</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_5_25_october_2010"><a class="anchor" href="#_version_1_5_25_october_2010"></a>Version 1.5 (25 October 2010)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://cfconventions.org/Data/trac.html47.html">Ticket #47</a>: error in example 7.4</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html51.html">Ticket #51</a>: syntax consistency for dimensionless vertical coordinate definitions</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html56.html">Ticket #56</a>: typo in CF conventions doc</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html57.html">Ticket #57</a>: fix for broken URLs in CF Conventions document</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html58.html">Ticket #58</a>: remove deprecation of "missing_value" attribute</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html49.html">Ticket #49</a>: clarification of flag_meanings attribute</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html33.html">Ticket #33</a>: cell_methods for statistical indices</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html45.html">Ticket #45</a>: Fixed defect of outdated Conventions attribute.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html44.html">Ticket #44</a>: Fixed defect by clarifying that coordinates indicate gridpoint location in <a href="#coordinate-types">Chapter 4, Coordinate Types</a>.</p>
</li>
<li>
<p>Fixed defect in Mercator section of <a href="#appendix-grid-mappings">Appendix F, Grid Mappings</a> by updating to version 12 of Grid Map Names.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html34.html">Ticket #34</a>: Added grid mappings Lambert Cylindrical Equal Area, Mercator, and Orthographic to <a href="#appendix-grid-mappings">Appendix F, Grid Mappings</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_4_27_february_2009"><a class="anchor" href="#_version_1_4_27_february_2009"></a>Version 1.4 (27 February 2009)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://cfconventions.org/Data/trac.html17.html">Ticket #17</a>: Changes related to removing ambiguity in <a href="#cell-methods">Section 7.3, "Cell Methods"</a>.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html36.html">Ticket #36</a>: Fixed defect related to subsection headings in <a href="#parametric-v-coord">Appendix D, Parametric Vertical Coordinates</a>.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html35.html">Ticket #35</a>: Fixed defect in wording of <a href="#coordinate-system">Chapter 5, Coordinate Systems and Domain</a>.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html32.html">Ticket #32</a>: Fixed defect in <a href="#coordinate-system">Chapter 5, Coordinate Systems and Domain</a>.</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html30.html">Ticket #30</a>: Fixed defect in <a href="#atm-sigma-coord-ex">Example 4.3, “Atmosphere sigma coordinate”</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_3_4_may_2008"><a class="anchor" href="#_version_1_3_4_may_2008"></a>Version 1.3 (4 May 2008)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://cfconventions.org/Data/trac.html26.html">Ticket #26</a>: <a href="#flags">Section 3.5, "Flags"</a>, <a href="#attribute-appendix">Appendix A, Attributes</a>, <a href="#standard-name-modifiers">Appendix C, Standard Name Modifiers</a> : Enhanced the Flags definition to support bit field notation using a <strong><code>flag_masks</code></strong> attribute.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_2_4_may_2008"><a class="anchor" href="#_version_1_2_4_may_2008"></a>Version 1.2 (4 May 2008)</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://cfconventions.org/Data/trac.html25.html">Ticket #25</a>: <a href="#table-supported-units">Table 3.1, "Supported Units"</a> : Corrected Prefix for Factor "1e-2" from "deci" to "centi".</p>
</li>
<li>
<p><a href="https://cfconventions.org/Data/trac.html18.html">Ticket #18</a>: <a href="#grid-mappings-and-projections">Section 5.6, "Horizontal Coordinate Reference Systems, Grid Mappings, and Projections"</a>, <a href="#appendix-grid-mappings">Appendix F, Grid Mappings</a> : Additions and revisions to CF grid mapping attributes to support the specification of coordinate reference system properties</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_1_17_january_2008"><a class="anchor" href="#_version_1_1_17_january_2008"></a>Version 1.1 (17 January 2008)</h3>
<div class="ulist">
<ul>
<li>
<p>17 January 2008: <a href="#coordinate-types">Chapter 4, Coordinate Types</a>, <a href="#coordinate-system">Chapter 5, Coordinate Systems and Domain</a>: Made changes regarding use of the axis attribute to identify horizontal coordinate variables.</p>
</li>
<li>
<p>17 January 2008: Changed text to refer to rules of CF governance, and provisional status.</p>
</li>
<li>
<p>21 March 2006: Added <a href="#atmosphere-natural-log-pressure-coordinate">the section called "Atmosphere natural log pressure coordinate"</a>.</p>
</li>
<li>
<p>21 March 2006: Added <a href="#azimuthal-equidistant">the section called "Azimuthal equidistant"</a>.</p>
</li>
<li>
<p>25 November 2005: <a href="#atmosphere-hybrid-height-coordinate">the section called "Atmosphere hybrid height coordinate"</a> : Fixed definition of atmosphere hybrid height coordinate.</p>
</li>
<li>
<p>22 October 2004: Added <a href="#lambert-conformal-projection">"Lambert conformal projection"</a>.</p>
</li>
<li>
<p>20 September 2004: <a href="#cell-methods">Section 7.3, "Cell Methods"</a> : Changed several incorrect occurrences of the cell method <strong><code>"standard deviation"</code></strong> to <strong><code>"standard_deviation"</code></strong>.</p>
</li>
<li>
<p>1 July 2004: <a href="#multiple-forecasts-from-single-analysis">"Multiple forecasts from a single analysis"</a> : Added <strong><code>positive</code></strong> attribute to the scalar coordinate p500 to make it unambiguous that the pressure is a vertical coordinate value.</p>
</li>
<li>
<p>1 July 2004: <a href="#scalar-coordinate-variables">Section 5.7, "Scalar Coordinate Variables"</a> : Added note that use of scalar coordinate variables inhibits interoperability with COARDS conforming applications.</p>
</li>
<li>
<p>14 June 2004: <a href="#polar-stereographic">the section called "Polar Stereographic"</a> : Added <strong><code>latitude_of_projection_origin</code></strong> map parameter.</p>
</li>
<li>
<p>14 June 2004: Added <a href="#lambert-azimuthal-equal-area">the section called “Lambert azimuthal equal area”</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_version_1_0_28_october_2003"><a class="anchor" href="#_version_1_0_28_october_2003"></a>Version 1.0 (28 October 2003)</h3>
<div class="paragraph">
<p>Initial release.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bibliography"><a class="anchor" href="#_bibliography"></a>Bibliography</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_references"><a class="anchor" href="#_references"></a>References</h3>
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="COARDS"></a>[COARDS]  <a href="https://ferret.pmel.noaa.gov/Ferret/documentation/coards-netcdf-conventions">Conventions for the standardization of NetCDF Files</a>.
Sponsored by the "Cooperative Ocean/Atmosphere Research Data Service," a NOAA/university cooperative for the sharing and distribution of global atmospheric and oceanographic research data sets. May 1995.</p>
</li>
<li>
<p><a id="FGDC"></a>[FGDC]  <a href="https://www.fgdc.gov/standards/projects/FGDC-standards-projects/metadata/base-metadata/v2_0698.pdf">Content Standard for Digital Geospatial Metadata</a>.
Federal Geographic Data Committee, FGDC-STD-001-1998.</p>
</li>
<li>
<p><a id="IEEE_754"></a>[IEEE_754]  <a href="https://doi.org/10.1109/IEEESTD.2019.8766229">IEEE Standard for Floating-Point Arithmetic</a>, in <em>IEEE Std 754-2019 (Revision of IEEE 754-2008)</em>, 22 July 2019.</p>
</li>
<li>
<p><a id="NetCDF"></a>[NetCDF]  <a href="https://doi.org/10.5065/D6H70CW6">NetCDF Software Package</a>.  UNIDATA Program Center of the University Corporation for Atmospheric Research.</p>
</li>
<li>
<p><a id="NUG"></a>[NUG]  <a href="https://docs.unidata.ucar.edu/nug/current/index.html">The NetCDF User&#8217;s Guide</a>.</p>
</li>
<li>
<p><a id="OGC_WKT-CRS"></a>[OGC_WKT-CRS]  <a href="https://www.opengeospatial.org/standards/wkt-crs">OGC Well-known text representation of coordinate reference systems</a>.
OGC document 12-063. 1st May 2015.</p>
</li>
<li>
<p><a id="OGP-EPSG_GN7_2"></a>[OGP-EPSG_GN7_2]  <a href="https://epsg.org/guidance-notes.html">OGP Surveying and Positioning Guidance Note 7, part 2: Coordinate Conversions and Transformations including Formulas</a>.</p>
</li>
<li>
<p><a id="SCH02"></a>[SCH02] <a href="https://doi.org/10.1175/1520-0493(2002)130&lt;2459:ANTFVC&gt;2.0.CO;2">A new terrain-following vertical coordinate formulation for atmospheric prediction models</a>. C Schaer, D Leuenberger, and O Fuhrer. 2002. <em>Monthly Weather Review</em>.  130. 2459-2480.</p>
</li>
<li>
<p><a id="Snyder"></a>[Snyder]  <a href="https://doi.org/10.3133/pp1395">Map Projections: A Working Manual</a>. USGS Professional Paper 1395.</p>
</li>
<li>
<p><a id="UDUNITS"></a>[UDUNITS]  <a href="https://doi.org/10.5065/D6KD1WN0">UDUNITS Software Package</a>.  UNIDATA Program Center of the University Corporation for Atmospheric Research.</p>
</li>
<li>
<p><a id="W3C"></a>[W3C]  <a href="https://www.w3.org/">World Wide Web Consortium (W3C)</a>.</p>
</li>
<li>
<p><a id="XML"></a>[XML]  <a href="https://www.w3.org/TR/1998/REC-xml-19980210">Extensible Markup Language (XML) 1.0</a>. T. Bray, J. Paoli, and C.M. Sperberg-McQueen.  10 February 1998.</p>
</li>
<li>
<p><a id="CFDM"></a>[CFDM]  <a href="https://doi.org/10.5194/gmd-10-4619-2017">A data model of the Climate and Forecast metadata conventions (CF-1.6) with a software implementation (cf-python v2.1)</a>. Hassell, D., Gregory, J., Blower, J., Lawrence, B. N., and Taylor, K. E.: <em>Geosci. Model Dev.</em>, 10, 4619-4646, 2017.</p>
</li>
<li>
<p><a id="UGRID"></a>[UGRID]  <a href="https://ugrid-conventions.github.io/ugrid-conventions">UGRID Conventions for storing unstructured (or flexible mesh) data in netCDF files</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version &#160;1.11<br>
Last updated 2023-12-05 10:33:36 UTC
</div>
</div>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      #75 (fix documentation and definitions of 3 grid mapping definitions)
     – CF Metadata
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/trac/search" />
        <link rel="prev" href="./74.html" title="ticket #74" />
        <link rel="last" href="./176.html" title="ticket #176" />
        <link rel="help" href="/trac/wiki/TracGuide" />
        <link rel="alternate" href="./75?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="./75?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="./75?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" />
        <link rel="next" href="./76.html" title="ticket #76" />
        <link rel="start" href="/trac/wiki" />
        <link rel="stylesheet" href="/trac/chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="/trac/chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="./1.html" title="ticket #1" />
        <link rel="shortcut icon" href="/trac/chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="/trac/chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="/trac/search/opensearch" title="Search CF Metadata" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="b8aeac20bf7fd49b63339caa";
      var comments_prefs={"comments_only":"false","comments_order":"oldest"};
    </script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/folding.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/wikitoolbar.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/resizer.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/auto_preview.js"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <script type="text/javascript" src="/trac/chrome/common/js/threaded_comments.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
      /*<![CDATA[*/
        $("#attachments").toggleClass("collapsed");
        $("#trac-up-attachments").click(function () {
          $("#attachments").removeClass("collapsed");
          return true;
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
        function setRevertHandler() {
          $("button.trac-revert").click(function() {
            var div = $("div", this);
            var field_name = div[0].id.substr(7);
            var field_value = div.text();
            var input = $("#propertyform *[name=field_" + field_name + "]");
            if (input.length > 0) {
              if (input.filter("input[type=radio]").length > 0) {
                input.val([field_value]);
              } else if (input.filter("input[type=checkbox]").length > 0) {
                input.val(field_value == "1" ? [field_value] : []);
              } else {
                input.val(field_value);
              }
            } else { // Special case for CC checkbox
              input = $("#propertyform input[name=cc_update]").val([]);
            }
            input.change();
            $(this).closest("li").remove();
            return false;
          });
        }
        setRevertHandler();
        var comment_focused = false;
        $("#comment").focus(function() { comment_focused = true; })
                     .blur(function() { comment_focused = false; });
        $("#propertyform").autoSubmit({preview: '1'}, function(data, reply) {
          var items = $(reply);
          // Update ticket box
          $("#ticket").replaceWith(items.filter('#ticket'));
          // Update changelog with original order
          $("#changelog").replaceWith(items.filter("#changelog"));
          // Reorder comments
          applyCommentsOrder(
            $('#prefs input[name="trac-comments-order"]:checked').val());
          // Show warning
          var new_changes = $("#changelog .trac-new");
          $("#trac-edit-warning").toggle(new_changes.length != 0);
          if (new_changes.length != 0)
            $("#changelog").parent().show().removeClass("collapsed");
          // Update view time
          $("#propertyform input[name='view_time']").replaceWith(items.filter("input[name='view_time']"));
          // Update preview
          var preview = $("#ticketchange").html(items.filter('#preview').children());
          var show_preview = preview.children().length != 0;
          $("#ticketchange").toggle(show_preview);
          setRevertHandler();
          // Collapse property form if comment editor has focus
          if (show_preview && comment_focused)
            $("#modify").parent().addClass("collapsed");
          // Execute scripts to load stylesheets
          items.filter("script").appendTo("head");
        }, "#ticketchange .trac-loading");
        $("#trac-comment-editor").autoSubmit({preview_comment: '1'}, function(data, reply) {
          var comment = $("#trac-comment-editor").next("div.comment").html(reply);
          comment.toggle(comment.children().length != 0);
        }, "#changelog .trac-loading");
        /*]]>*/
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://cf-trac.llnl.gov/trac"><img src="/trac/chrome/site/cf_logo.png" alt="CF Metadata Trac" height="80" width="400" /></a>
      </div>
      <form id="search" action="/trac/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/trac/login">Login</a></li><li><a href="/trac/about">About Trac</a></li><li><a href="/trac/prefs">Preferences</a></li><li class="last"><a href="/trac/wiki/TracGuide">Help/Guide</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/trac/query">View Tickets</a></li><li><a href="/trac/roadmap">Roadmap</a></li><li><a href="/trac/timeline">Timeline</a></li><li><a href="/trac/search">Search</a></li><li class="last"><a href="/trac/wiki">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><span>&larr; <a class="prev" href="./74.html" title="ticket #74">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="./76.html" title="ticket #76">Next Ticket</a> &rarr;</span></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
        <div id="ticket" class="trac-content ">
  <div class="date">
    <p>Opened <a class="timeline" href="/trac/timeline?from=2012-01-24T12%3A24%3A37-08%3A00&amp;precision=second" title="See timeline at 01/24/12 12:24:37">9 years ago</a></p>
    <p>Closed <a class="timeline" href="/trac/timeline?from=2017-03-13T10%3A36%3A59-07%3A00&amp;precision=second" title="See timeline at 03/13/17 10:36:59">4 years ago</a></p>
  </div>
  <h2>
    <a href="./75.html" class="trac-id">#75</a>
    <span class="trac-status">
      <a href="/trac/query?status=closed">closed</a>
    </span>
    <span class="trac-type">
      <a href="/trac/query?status=!closed&amp;type=defect">defect</a>
    </span>
    <span class="trac-resolution">
      (<a href="/trac/query?status=closed&amp;resolution=fixed">fixed</a>)
    </span>
  </h2>
  <h1 id="trac-ticket-title" class="searchable">
    <span class="summary">fix documentation and definitions of 3 grid mapping definitions</span>
  </h1>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable"><a href="/trac/query?status=!closed&amp;reporter=etourigny">etourigny</a></td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner"><a href="/trac/query?status=!closed&amp;owner=davidhassell">davidhassell</a></td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="/trac/query?status=!closed&amp;priority=medium">medium</a>
        </td>
        <th id="h_milestone" class="missing">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="missing milestone"></a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="/trac/query?status=!closed&amp;component=cf-conventions">cf-conventions</a>
        </td>
        <th id="h_version" class="missing">
          Version:
        </th>
        <td headers="h_version">
              <a href="/trac/query?status=!closed&amp;version="></a>
        </td>
    </tr><tr>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="/trac/query?status=!closed&amp;keywords=~grid">grid</a> <a href="/trac/query?status=!closed&amp;keywords=~mapping">mapping</a>, <a href="/trac/query?status=!closed&amp;keywords=~wkt">wkt</a>, <a href="/trac/query?status=!closed&amp;keywords=~projection">projection</a>
        </td>
        <th id="h_cc">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
              <a href="/trac/query?status=!closed&amp;cc=~caron">caron</a>, <a href="/trac/query?status=!closed&amp;cc=~markh">markh</a>
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <p>
The definitions and/or documentation for 3 grid mappings cause confusion and inconsistency when translating to/from WKT.
</p>
<p>
This ticket is the result of a discussion in the mailing list: <a class="ext-link" href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2011/027605.html"><span class="icon">​</span>http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2011/027605.html</a> .
</p>
<p>
Here is a summary of suggested changes:
</p>
<p>
1) lambert_conformal_conic
</p>
<p>
The 1SP (1 standard_parallel) case is not properly documented. There should be a link to <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html</a> and mention that latitude_of_projection_origin==standard_parallel (and the WKT "Scale factor at natural origin" = 1). 
</p>
<p>
In the case that scale_factor is not 1, then the 2SP version should be used (as scale_factor is not part of this projection's parameters in CF).
</p>
<p>
Also, the EPSG codes should included in "Notes" (9801 for 1SP and 9802 for 2SP).
</p>
<p>
2) lambert_cylindrical_equal_area
</p>
<p>
The scale_factor_at_projection_origin variant has no WKT nor PROJ.4 equivalent (they both require standard_parallel) and there are no known examples using this variant. It should be dropped from the CF spec, or at least deprecated.
</p>
<p>
3) polar_stereographic
</p>
<p>
The 2 variants (standard_parallel or scale_factor_at_projection_origin) are not well documented. 
</p>
<p>
The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810).  
</p>
<p>
This information should be included in the "Map parameters" and "Notes" sections, to be consistent with other definitions such as mercator.
</p>

    </div>
  </div>
</div>
          

        <div>
          <div class="trac-noscript" style="position: relative">
            <form id="prefs" method="get" action="/trac/prefs" style="position: absolute; right: 0">
              <div id="trac-comments-order">
                <input type="radio" id="trac-comments-oldest" name="trac-comments-order" value="oldest" checked="checked" />
                <label for="trac-comments-oldest">Oldest first</label>
                <input type="radio" id="trac-comments-newest" name="trac-comments-order" value="newest" />
                <label for="trac-comments-newest">Newest first</label>
                <span id="trac-threaded-toggle" style="display: none">
                  <input type="radio" id="trac-comments-threaded" name="trac-comments-order" value="threaded" />
                  <label for="trac-comments-threaded">Threaded</label>
                </span>
              </div>
              <div>
                <input id="trac-comments-only-toggle" type="checkbox" />
                <label for="trac-comments-only-toggle">Comments only</label>
              </div>
            </form>
          </div>
          <h3 class="foldable">Change History <span class="trac-count">(11)</span></h3>
          <div id="changelog">
              <div class="change" id="trac-change-1-1327608602000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:1" class="cnum">
    <a href="#comment:1">comment:1</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-01-26T12%3A10%3A02-08%3A00&amp;precision=second" title="See timeline at 01/26/12 12:10:02">9 years ago</a> by etourigny
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
I would like to prepare addditional documentation on how to relate the CF parameters to PROJ.4 an WKT parameters, should this be in a wiki entry?
</p>
<p>
Here are proposed changes to the conventions document (Appendix F. Grid Mappings):
</p>
<p>
1) lambert_conformal_conic
</p>
<p>
Notes:
</p>
<p>
Notes on using the PROJ.4 software package for computing the mapping may be found at <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html</a> ("Lambert Conic Conformal (1SP)" or EPSG 9801) or 
<a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_2sp.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_2sp.html</a> ("Lambert Conic Conformal (2SP)" or EPSG 9802). For the 1SP variant, latitude_of_projection_origin=standard_parallel and the PROJ.4 scale factor is 1.
</p>
<p>
2) lambert_cylindrical_equal_area
</p>
<pre class="wiki">Map parameters:

- longitude_of_central_meridian
- standard_parallel
...
</pre><p>
OR:
</p>
<pre class="wiki">Map parameters:

- longitude_of_central_meridian
- standard_parallel or scale_factor_at_projection_origin (deprecated)
...
</pre><p>
3) polar_stereographic
</p>
<pre class="wiki">Map parameters:

...
- Either standard_parallel (EPSG 9829) or scale_factor_at_projection_origin (EPSG 9810)
...
</pre><p>
Notes:
</p>
<p>
Notes on using the PROJ.4 software package for computing the mapping may be found at <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html</a>.
</p>
<p>
The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810). As PROJ.4 requires the standard parallel, [Snyder] formula 21-7 can be used to compute it from the scale factor if needed.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2-1332425684000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:2" class="cnum">
    <a href="#comment:2">comment:2</a>
  </span>
        in reply to:
    <a href="#comment:description">↑ description</a>
        ;
          <span>follow-up:</span>
    <a href="#comment:3" class="follow-up">↓ 3</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-03-22T07%3A14%3A44-07%3A00&amp;precision=second" title="See timeline at 03/22/12 07:14:44">9 years ago</a> by markh
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Replying to <a class="closed ticket" href="./75.html" title="defect: fix documentation and definitions of 3 grid mapping definitions (closed: fixed)">etourigny</a>:
</p>
<blockquote class="citation">
<p>
The definitions and/or documentation for 3 grid mappings cause confusion and inconsistency when translating to/from WKT.
</p>
</blockquote>
<p>
I agree that this needs addressing
</p>
<blockquote class="citation">
<p>
1) lambert_conformal_conic
The 1SP (1 standard_parallel) case is not properly documented. There should be a link to <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html</a> and mention that latitude_of_projection_origin==standard_parallel (and the WKT "Scale factor at natural origin" = 1). 
In the case that scale_factor is not 1, then the 2SP version should be used (as scale_factor is not part of this projection's parameters in CF).
</p>
</blockquote>
<p>
The notes are useful clarification.  I do wonder whether the two separate approaches lend themselves to two different grid_mappings, rather than one, with two options about how to define SP and conditional behaviour for scale_factor 
</p>
<p>
 
</p>
<blockquote class="citation">
<p>
Also, the EPSG codes should included in "Notes" (9801 for 1SP and 9802 for 2SP).
</p>
</blockquote>
<p>
I thought that EPSG codes referred to specific instances of projections, not projection definitions.  Is the intention of this inclusion that a specific projection instance is referenced?
 
</p>
<blockquote class="citation">
<p>
2) lambert_cylindrical_equal_area
The scale_factor_at_projection_origin variant has no WKT nor PROJ.4 equivalent (they both require standard_parallel) and there are no known examples using this variant. It should be dropped from the CF spec, or at least deprecated.
</p>
</blockquote>
<p>
 
I agree, this attribute should be deprecated or preferably dropped.  I have not found a way of interpreting this attribute in the context of a Lambert Cylindrical Projection.
</p>
<p>
The definition implies one or other is required.  Is this change suggesting that standard_parallel is essential for such a grid_mapping?
</p>
<p>
If so, is there a usable default value that could be included?
</p>
<blockquote class="citation">
<p>
3) polar_stereographic
The 2 variants (standard_parallel or scale_factor_at_projection_origin) are not well documented. 
The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810).  
This information should be included in the "Map parameters" and "Notes" sections, to be consistent with other definitions such as mercator.
</p>
</blockquote>
<p>
I am not clear what information you propose to add here.  Neither of these options is referenced in the <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html"><span class="icon">​</span>link</a> within the specification, that I can see. 
</p>
<p>
The wording suggests that I must supply one or other with my grid_mapping definition
</p>
<p>
I think a statement of how this grid_mapping may be defined would be helpful to review. I am not convinced that adding the note you provided gives us enough for this definition.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3-1332434653000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:3" class="cnum">
    <a href="#comment:3">comment:3</a>
  </span>
        in reply to:
    <a href="#comment:2">↑ 2</a>
        ;
          <span>follow-up:</span>
    <a href="#comment:4" class="follow-up">↓ 4</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-03-22T09%3A44%3A13-07%3A00&amp;precision=second" title="See timeline at 03/22/12 09:44:13">9 years ago</a> by etourigny
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Replying to <a class="ticket" href="./75#comment:2" title="Comment 2">markh</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="closed ticket" href="./75.html" title="defect: fix documentation and definitions of 3 grid mapping definitions (closed: fixed)">etourigny</a>:
</p>
<blockquote class="citation">
<p>
The definitions and/or documentation for 3 grid mappings cause confusion and inconsistency when translating to/from WKT.
</p>
</blockquote>
<p>
I agree that this needs addressing
</p>
<blockquote class="citation">
<p>
1) lambert_conformal_conic
The 1SP (1 standard_parallel) case is not properly documented. There should be a link to <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html</a> and mention that latitude_of_projection_origin==standard_parallel (and the WKT "Scale factor at natural origin" = 1). 
In the case that scale_factor is not 1, then the 2SP version should be used (as scale_factor is not part of this projection's parameters in CF).
</p>
</blockquote>
<p>
The notes are useful clarification.  I do wonder whether the two separate approaches lend themselves to two different grid_mappings, rather than one, with two options about how to define SP and conditional behaviour for scale_factor 
</p>
</blockquote>
<p>
It might be clearer but more disruptive.
</p>
<blockquote class="citation">
<p>
 
</p>
<blockquote class="citation">
<p>
Also, the EPSG codes should included in "Notes" (9801 for 1SP and 9802 for 2SP).
</p>
</blockquote>
<p>
I thought that EPSG codes referred to specific instances of projections, not projection definitions.  Is the intention of this inclusion that a specific projection instance is referenced?
</p>
</blockquote>
<p>
There are other grid_mapping definitions that refer to EPSG coordinate operation method codes (e.g. lambert_cylindrical_equal_area, mercator).
</p>
<p>
The EPSG codes you are referring to are projected coordinate system definitions (such as 32722 which is a specific Transverse_Mercator projection with central_meridian=51) 
</p>
<p>
The  EPSG coordinate operation method codes are defined in the EPSG Guidance Note 7-1
</p>
<blockquote class="citation">
<p>
 
</p>
<blockquote class="citation">
<p>
2) lambert_cylindrical_equal_area
The scale_factor_at_projection_origin variant has no WKT nor PROJ.4 equivalent (they both require standard_parallel) and there are no known examples using this variant. It should be dropped from the CF spec, or at least deprecated.
</p>
</blockquote>
<p>
 
I agree, this attribute should be deprecated or preferably dropped.  I have not found a way of interpreting this attribute in the context of a Lambert Cylindrical Projection.
</p>
<p>
The definition implies one or other is required.  Is this change suggesting that standard_parallel is essential for such a grid_mapping?
</p>
</blockquote>
<p>
Looking more closely, in Snyder pp. 79-80 for the transverse and oblique aspects 
</p>
<blockquote>
<p>
the scale factor (normally 1) is used instead of standard parallel.  But it seems that proj4 and OGR do not support that. I don't know if one could or if it makes sense to calculate one from the other.
</p>
</blockquote>
<p>
So perhaps it should remain but with a note (in the "Notes") section : 
</p>
<p>
"The scale_factor_at_projection_origin variant is used for the transverse and oblique aspects"
</p>
<blockquote class="citation">
<p>
If so, is there a usable default value that could be included?
</p>
</blockquote>
<p>
scale factor default to 1, 
</p>
<blockquote class="citation">
<blockquote class="citation">
<p>
3) polar_stereographic
The 2 variants (standard_parallel or scale_factor_at_projection_origin) are not well documented. 
The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810).  
This information should be included in the "Map parameters" and "Notes" sections, to be consistent with other definitions such as mercator.
</p>
</blockquote>
<p>
I am not clear what information you propose to add here.  Neither of these options is referenced in the <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html"><span class="icon">​</span>link</a> within the specification, that I can see. 
</p>
<p>
The wording suggests that I must supply one or other with my grid_mapping definition
</p>
<p>
I think a statement of how this grid_mapping may be defined would be helpful to review. I am not convinced that adding the note you provided gives us enough for this definition.
</p>
</blockquote>
<p>
The link uses only EPSG 9810 (the scale_factor_at_projection_origin variant). I got the other from the EPSG Guidance Note 7-1
</p>
<p>
Have you read my first comment with proposed changes to the document?
The full proposed modification are below (the formatting was wrong).  I think they address your concerns as the 2 alternatives are related to EPSG  coordinate operation method codes and I give the reference to pass from one to the other.
</p>
<p>
The choice of using one or the other depends on which one is readily available, I just added this to clarify why you can use one or the other. 
</p>
<p>
What do you mean exactly by "a statement of how this grid_mapping may be defined" ?
</p>
<pre class="wiki">Map parameters:

...
- Either standard_parallel (EPSG 9829) or scale_factor_at_projection_origin (EPSG 9810)
...

Notes:

Notes on using the PROJ.4 software package for computing the mapping may be found at http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html.

The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810). As PROJ.4 requires the standard parallel, [Snyder] formula 21-7 can be used to compute it from the scale factor if needed.

</pre>
    </div>

              </div>
              <div class="change" id="trac-change-4-1340188380000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:4" class="cnum">
    <a href="#comment:4">comment:4</a>
  </span>
        in reply to:
    <a href="#comment:3">↑ 3</a>
        ;
          <span>follow-up:</span>
    <a href="#comment:5" class="follow-up">↓ 5</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-06-20T03%3A33%3A00-07%3A00&amp;precision=second" title="See timeline at 06/20/12 03:33:00">9 years ago</a> by markh
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-cc">
      <strong class="trac-field-cc">Cc</strong>
        <em>markh</em> added
    </li>
  </ul>
    <div class="comment searchable">
      <p>
Replying to <a class="ticket" href="./75#comment:3" title="Comment 3">etourigny</a>:
</p>
<p>
Apologies for the lag in response to this, I should have responded to this months ago to indicate that I am happy with the responses provided and that I support this ticket moving to be concluded, but there are a couple of minor clarifications required:  Further comments are in line.
</p>
<blockquote class="citation">
<p>
Replying to <a class="ticket" href="./75#comment:2" title="Comment 2">markh</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="closed ticket" href="./75.html" title="defect: fix documentation and definitions of 3 grid mapping definitions (closed: fixed)">etourigny</a>:
</p>
<blockquote class="citation">
<p>
The definitions and/or documentation for 3 grid mappings cause confusion and inconsistency when translating to/from WKT.
</p>
</blockquote>
<p>
I agree that this needs addressing
</p>
<blockquote class="citation">
<p>
1) lambert_conformal_conic
The 1SP (1 standard_parallel) case is not properly documented. There should be a link to <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html</a> and mention that latitude_of_projection_origin==standard_parallel (and the WKT "Scale factor at natural origin" = 1). 
In the case that scale_factor is not 1, then the 2SP version should be used (as scale_factor is not part of this projection's parameters in CF).
</p>
</blockquote>
<p>
The notes are useful clarification.  I do wonder whether the two separate approaches lend themselves to two different grid_mappings, rather than one, with two options about how to define SP and conditional behaviour for scale_factor 
</p>
</blockquote>
<p>
It might be clearer but more disruptive.
</p>
</blockquote>
<p>
I think avoiding disruption at the price of clarity is a shame, but in this case, a price that we should just choose to pay.
</p>
<blockquote class="citation">
<blockquote class="citation">
<p>
 
</p>
<blockquote class="citation">
<p>
Also, the EPSG codes should included in "Notes" (9801 for 1SP and 9802 for 2SP).
</p>
</blockquote>
<p>
I thought that EPSG codes referred to specific instances of projections, not projection definitions.  Is the intention of this inclusion that a specific projection instance is referenced?
</p>
</blockquote>
<p>
There are other grid_mapping definitions that refer to EPSG coordinate operation method codes (e.g. lambert_cylindrical_equal_area, mercator).
</p>
<p>
The EPSG codes you are referring to are projected coordinate system definitions (such as 32722 which is a specific Transverse_Mercator projection with central_meridian=51) 
</p>
<p>
The  EPSG coordinate operation method codes are defined in the EPSG Guidance Note 7-1
</p>
</blockquote>
<p>
ok, this makes sense.
</p>
<blockquote class="citation">
<blockquote class="citation">
<p>
 
</p>
<blockquote class="citation">
<p>
2) lambert_cylindrical_equal_area
The scale_factor_at_projection_origin variant has no WKT nor PROJ.4 equivalent (they both require standard_parallel) and there are no known examples using this variant. It should be dropped from the CF spec, or at least deprecated.
</p>
</blockquote>
<p>
 
I agree, this attribute should be deprecated or preferably dropped.  I have not found a way of interpreting this attribute in the context of a Lambert Cylindrical Projection.
</p>
<p>
The definition implies one or other is required.  Is this change suggesting that standard_parallel is essential for such a grid_mapping?
</p>
</blockquote>
<p>
Looking more closely, in Snyder pp. 79-80 for the transverse and oblique aspects 
</p>
<blockquote>
<p>
the scale factor (normally 1) is used instead of standard parallel.  But it seems that proj4 and OGR do not support that. I don't know if one could or if it makes sense to calculate one from the other.
</p>
</blockquote>
<p>
So perhaps it should remain but with a note (in the "Notes") section : 
</p>
<p>
"The scale_factor_at_projection_origin variant is used for the transverse and oblique aspects"
</p>
</blockquote>
<p>
if the software we use cannot interpret it, I question its usefulness.  I don't think this should be included unless we have good reason to and we understand how to interpret it.
</p>
<blockquote class="citation">
<blockquote class="citation">
<p>
If so, is there a usable default value that could be included?
</p>
</blockquote>
<p>
scale factor default to 1, 
</p>
</blockquote>
<p>
ok
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
3) polar_stereographic
The 2 variants (standard_parallel or scale_factor_at_projection_origin) are not well documented. 
The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810).  
This information should be included in the "Map parameters" and "Notes" sections, to be consistent with other definitions such as mercator.
</p>
</blockquote>
<p>
I am not clear what information you propose to add here.  Neither of these options is referenced in the <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html"><span class="icon">​</span>link</a> within the specification, that I can see. 
</p>
<p>
The wording suggests that I must supply one or other with my grid_mapping definition
</p>
<p>
I think a statement of how this grid_mapping may be defined would be helpful to review. I am not convinced that adding the note you provided gives us enough for this definition.
</p>
</blockquote>
<p>
The link uses only EPSG 9810 (the scale_factor_at_projection_origin variant). I got the other from the EPSG Guidance Note 7-1
</p>
<p>
Have you read my first comment with proposed changes to the document?
The full proposed modification are below (the formatting was wrong).  I think they address your concerns as the 2 alternatives are related to EPSG  coordinate operation method codes and I give the reference to pass from one to the other.
</p>
<p>
The choice of using one or the other depends on which one is readily available, I just added this to clarify why you can use one or the other. 
</p>
</blockquote>
<p>
this looks good
</p>
<blockquote class="citation">
<p>
What do you mean exactly by "a statement of how this grid_mapping may be defined" ?
</p>
</blockquote>
<p>
I think the revised note provides enough information for the data producer to properly define their grid_mapping variable.
</p>
<blockquote class="citation">
<pre class="wiki">Map parameters:

...
- Either standard_parallel (EPSG 9829) or scale_factor_at_projection_origin (EPSG 9810)
...

Notes:

Notes on using the PROJ.4 software package for computing the mapping may be found at http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html.

The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810). As PROJ.4 requires the standard parallel, [Snyder] formula 21-7 can be used to compute it from the scale factor if needed.

</pre></blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-5-1340978747000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:5" class="cnum">
    <a href="#comment:5">comment:5</a>
  </span>
        in reply to:
    <a href="#comment:4">↑ 4</a>
        ;
          <span>follow-up:</span>
    <a href="#comment:6" class="follow-up">↓ 6</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-06-29T07%3A05%3A47-07%3A00&amp;precision=second" title="See timeline at 06/29/12 07:05:47">9 years ago</a> by etourigny
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Replying to <a class="ticket" href="./75#comment:4" title="Comment 4">markh</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="ticket" href="./75#comment:3" title="Comment 3">etourigny</a>:
</p>
<p>
Apologies for the lag in response to this, I should have responded to this months ago to indicate that I am happy with the responses provided and that I support this ticket moving to be concluded, but there are a couple of minor clarifications required:  Further comments are in line.
</p>
</blockquote>
<p>
Sorry I didn't respond sooner also, I thought I had!
</p>
<blockquote class="citation">
<blockquote class="citation">
<p>
Replying to <a class="ticket" href="./75#comment:2" title="Comment 2">markh</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="closed ticket" href="./75.html" title="defect: fix documentation and definitions of 3 grid mapping definitions (closed: fixed)">etourigny</a>:
</p>
<blockquote class="citation">
<p>
The definitions and/or documentation for 3 grid mappings cause confusion and inconsistency when translating to/from WKT.
</p>
</blockquote>
<p>
I agree that this needs addressing
</p>
<blockquote class="citation">
<p>
1) lambert_conformal_conic
The 1SP (1 standard_parallel) case is not properly documented. There should be a link to <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html"><span class="icon">​</span>http://www.remotesensing.org/geotiff/proj_list/lambert_conic_conformal_1sp.html</a> and mention that latitude_of_projection_origin==standard_parallel (and the WKT "Scale factor at natural origin" = 1). 
In the case that scale_factor is not 1, then the 2SP version should be used (as scale_factor is not part of this projection's parameters in CF).
</p>
</blockquote>
<p>
The notes are useful clarification.  I do wonder whether the two separate approaches lend themselves to two different grid_mappings, rather than one, with two options about how to define SP and conditional behaviour for scale_factor 
</p>
</blockquote>
<p>
It might be clearer but more disruptive.
</p>
</blockquote>
<p>
I think avoiding disruption at the price of clarity is a shame, but in this case, a price that we should just choose to pay.
</p>
</blockquote>
<p>
On one side, this is in line with other conventions/software which separate the 1SP and 2SP in different definitions.  In the case of Mercator, EPSG and OGC also have 2 definitions, but they are functionally equivalent.
</p>
<p>
However, how to deal with backwards-compatibility and which names should be used for the two variants in CF? I see a high potential for disruption here. I still think it would be simpler to just amend the docs as I proposed, which would remove these two problem. 
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
 
</p>
<blockquote class="citation">
<p>
Also, the EPSG codes should included in "Notes" (9801 for 1SP and 9802 for 2SP).
</p>
</blockquote>
<p>
I thought that EPSG codes referred to specific instances of projections, not projection definitions.  Is the intention of this inclusion that a specific projection instance is referenced?
</p>
</blockquote>
<p>
There are other grid_mapping definitions that refer to EPSG coordinate operation method codes (e.g. lambert_cylindrical_equal_area, mercator).
</p>
<p>
The EPSG codes you are referring to are projected coordinate system definitions (such as 32722 which is a specific Transverse_Mercator projection with central_meridian=51) 
</p>
<p>
The  EPSG coordinate operation method codes are defined in the EPSG Guidance Note 7-1
</p>
</blockquote>
<p>
ok, this makes sense.
</p>
<blockquote class="citation">
<blockquote class="citation">
<p>
 
</p>
<blockquote class="citation">
<p>
2) lambert_cylindrical_equal_area
The scale_factor_at_projection_origin variant has no WKT nor PROJ.4 equivalent (they both require standard_parallel) and there are no known examples using this variant. It should be dropped from the CF spec, or at least deprecated.
</p>
</blockquote>
<p>
 
I agree, this attribute should be deprecated or preferably dropped.  I have not found a way of interpreting this attribute in the context of a Lambert Cylindrical Projection.
</p>
<p>
The definition implies one or other is required.  Is this change suggesting that standard_parallel is essential for such a grid_mapping?
</p>
</blockquote>
<p>
Looking more closely, in Snyder pp. 79-80 for the transverse and oblique aspects 
</p>
<blockquote>
<p>
the scale factor (normally 1) is used instead of standard parallel.  But it seems that proj4 and OGR do not support that. I don't know if one could or if it makes sense to calculate one from the other.
</p>
</blockquote>
<p>
So perhaps it should remain but with a note (in the "Notes") section : 
</p>
<p>
"The scale_factor_at_projection_origin variant is used for the transverse and oblique aspects"
</p>
</blockquote>
<p>
if the software we use cannot interpret it, I question its usefulness.  I don't think this should be included unless we have good reason to and we understand how to interpret it.
</p>
</blockquote>
<p>
I'm not sure I understand - your opinion is that this change should not be included, or that the scale_factor_at_projection_origin variant should not be included?
</p>
<p>
If your answer is the former here is my answer: 
</p>
<p>
Proj.4 is quite a good software, and it's referenced pretty much in all the projections...
</p>
<p>
I merely included this for clarity. The current CF spec is vague about why you would use standard_parallel or scale_factor_at_projection_origin and this should be clarified. 
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
If so, is there a usable default value that could be included?
</p>
</blockquote>
<p>
scale factor default to 1, 
</p>
</blockquote>
<p>
ok
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
3) polar_stereographic
The 2 variants (standard_parallel or scale_factor_at_projection_origin) are not well documented. 
The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810).  
This information should be included in the "Map parameters" and "Notes" sections, to be consistent with other definitions such as mercator.
</p>
</blockquote>
<p>
I am not clear what information you propose to add here.  Neither of these options is referenced in the <a class="ext-link" href="http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html"><span class="icon">​</span>link</a> within the specification, that I can see. 
</p>
<p>
The wording suggests that I must supply one or other with my grid_mapping definition
</p>
<p>
I think a statement of how this grid_mapping may be defined would be helpful to review. I am not convinced that adding the note you provided gives us enough for this definition.
</p>
</blockquote>
<p>
The link uses only EPSG 9810 (the scale_factor_at_projection_origin variant). I got the other from the EPSG Guidance Note 7-1
</p>
<p>
Have you read my first comment with proposed changes to the document?
The full proposed modification are below (the formatting was wrong).  I think they address your concerns as the 2 alternatives are related to EPSG  coordinate operation method codes and I give the reference to pass from one to the other.
</p>
<p>
The choice of using one or the other depends on which one is readily available, I just added this to clarify why you can use one or the other. 
</p>
</blockquote>
<p>
this looks good
</p>
<blockquote class="citation">
<p>
What do you mean exactly by "a statement of how this grid_mapping may be defined" ?
</p>
</blockquote>
<p>
I think the revised note provides enough information for the data producer to properly define their grid_mapping variable.
</p>
<blockquote class="citation">
<pre class="wiki">Map parameters:

...
- Either standard_parallel (EPSG 9829) or scale_factor_at_projection_origin (EPSG 9810)
...

Notes:

Notes on using the PROJ.4 software package for computing the mapping may be found at http://www.remotesensing.org/geotiff/proj_list/polar_stereographic.html.

The standard_parallel variant corresponds to EPSG Polar Stereographic (Variant B) (EPSG dataset coordinate operation method code 9829), while the scale_factor_at_projection_origin variant corresponds to EPSG Polar Stereographic (Variant A) (EPSG dataset coordinate operation method code 9810). As PROJ.4 requires the standard parallel, [Snyder] formula 21-7 can be used to compute it from the scale factor if needed.

</pre></blockquote>
</blockquote>

    </div>

              </div>
              <div class="change" id="trac-change-6-1342707252000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:6" class="cnum">
    <a href="#comment:6">comment:6</a>
  </span>
        in reply to:
    <a href="#comment:5">↑ 5</a>
        ;
          <span>follow-up:</span>
    <a href="#comment:7" class="follow-up">↓ 7</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-07-19T07%3A14%3A12-07%3A00&amp;precision=second" title="See timeline at 07/19/12 07:14:12">9 years ago</a> by markh
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
tl;dr
</p>
<blockquote>
<p>
I support this proposal
</p>
</blockquote>
<p>
Replying to <a class="ticket" href="./75#comment:5" title="Comment 5">etourigny</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="ticket" href="./75#comment:4" title="Comment 4">markh</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="ticket" href="./75#comment:3" title="Comment 3">etourigny</a>:
</p>
</blockquote>
<p>
On one side, this is in line with other conventions/software which separate the 1SP and 2SP in different definitions.  In the case of Mercator, EPSG and OGC also have 2 definitions, but they are functionally equivalent.
</p>
<p>
However, how to deal with backwards-compatibility and which names should be used for the two variants in CF? I see a high potential for disruption here. I still think it would be simpler to just amend the docs as I proposed, which would remove these two problem. 
</p>
</blockquote>
<p>
agreed
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
2) lambert_cylindrical_equal_area
The scale_factor_at_projection_origin variant has no WKT nor PROJ.4 equivalent (they both require standard_parallel) and there are no known examples using this variant. It should be dropped from the CF spec, or at least deprecated.
</p>
</blockquote>
<p>
 
I agree, this attribute should be deprecated or preferably dropped.  I have not found a way of interpreting this attribute in the context of a Lambert Cylindrical Projection.
</p>
<p>
The definition implies one or other is required.  Is this change suggesting that standard_parallel is essential for such a grid_mapping?
</p>
</blockquote>
<p>
Looking more closely, in Snyder pp. 79-80 for the transverse and oblique aspects 
</p>
<blockquote>
<p>
the scale factor (normally 1) is used instead of standard parallel.  But it seems that proj4 and OGR do not support that. I don't know if one could or if it makes sense to calculate one from the other.
</p>
</blockquote>
<p>
So perhaps it should remain but with a note (in the "Notes") section : 
</p>
<p>
"The scale_factor_at_projection_origin variant is used for the transverse and oblique aspects"
</p>
</blockquote>
<p>
if the software we use cannot interpret it, I question its usefulness.  I don't think this should be included unless we have good reason to and we understand how to interpret it.
</p>
</blockquote>
<p>
I'm not sure I understand - your opinion is that this change should not be included, or that the scale_factor_at_projection_origin variant should not be included?
</p>
<p>
If your answer is the former here is my answer: 
</p>
<p>
Proj.4 is quite a good software, and it's referenced pretty much in all the projections...
</p>
<p>
I merely included this for clarity. The current CF spec is vague about why you would use standard_parallel or scale_factor_at_projection_origin and this should be clarified. 
</p>
</blockquote>
<p>
apologies for my lack of clarity.  I agree with your assessment of Proj4, my concern is allowing a parameterisation which is not supported by our primary software tools such as proj4 and OGR.
</p>
<p>
My preference would be that:
</p>
<blockquote>
<p>
the scale_factor_at_projection_origin variant should not be included
</p>
</blockquote>
<p>
but that the rest of the change should be included as described here.
</p>
<p>
However I am not so strongly of this view that I want to hold up this ticket any further.  If including the scale_factor_at_projection_origin variant is helpful in your view, then I think it can be managed, but I am struggling to see it's usefulness if the libraries I know of do not interpret it.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7-1342714269000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:7" class="cnum">
    <a href="#comment:7">comment:7</a>
  </span>
        in reply to:
    <a href="#comment:6">↑ 6</a>
        ;
          <span>follow-up:</span>
    <a href="#comment:8" class="follow-up">↓ 8</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-07-19T09%3A11%3A09-07%3A00&amp;precision=second" title="See timeline at 07/19/12 09:11:09">9 years ago</a> by etourigny
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Replying to <a class="ticket" href="./75#comment:6" title="Comment 6">markh</a>:
</p>
<blockquote class="citation">
<p>
tl;dr
</p>
<blockquote>
<p>
I support this proposal
</p>
</blockquote>
<p>
Replying to <a class="ticket" href="./75#comment:5" title="Comment 5">etourigny</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="ticket" href="./75#comment:4" title="Comment 4">markh</a>:
</p>
<blockquote class="citation">
<p>
Replying to <a class="ticket" href="./75#comment:3" title="Comment 3">etourigny</a>:
</p>
</blockquote>
<p>
On one side, this is in line with other conventions/software which separate the 1SP and 2SP in different definitions.  In the case of Mercator, EPSG and OGC also have 2 definitions, but they are functionally equivalent.
</p>
<p>
However, how to deal with backwards-compatibility and which names should be used for the two variants in CF? I see a high potential for disruption here. I still think it would be simpler to just amend the docs as I proposed, which would remove these two problem. 
</p>
</blockquote>
<p>
agreed
</p>
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<blockquote class="citation">
<p>
2) lambert_cylindrical_equal_area
The scale_factor_at_projection_origin variant has no WKT nor PROJ.4 equivalent (they both require standard_parallel) and there are no known examples using this variant. It should be dropped from the CF spec, or at least deprecated.
</p>
</blockquote>
<p>
 
I agree, this attribute should be deprecated or preferably dropped.  I have not found a way of interpreting this attribute in the context of a Lambert Cylindrical Projection.
</p>
<p>
The definition implies one or other is required.  Is this change suggesting that standard_parallel is essential for such a grid_mapping?
</p>
</blockquote>
<p>
Looking more closely, in Snyder pp. 79-80 for the transverse and oblique aspects 
</p>
<blockquote>
<p>
the scale factor (normally 1) is used instead of standard parallel.  But it seems that proj4 and OGR do not support that. I don't know if one could or if it makes sense to calculate one from the other.
</p>
</blockquote>
<p>
So perhaps it should remain but with a note (in the "Notes") section : 
</p>
<p>
"The scale_factor_at_projection_origin variant is used for the transverse and oblique aspects"
</p>
</blockquote>
<p>
if the software we use cannot interpret it, I question its usefulness.  I don't think this should be included unless we have good reason to and we understand how to interpret it.
</p>
</blockquote>
<p>
I'm not sure I understand - your opinion is that this change should not be included, or that the scale_factor_at_projection_origin variant should not be included?
</p>
<p>
If your answer is the former here is my answer: 
</p>
<p>
Proj.4 is quite a good software, and it's referenced pretty much in all the projections...
</p>
<p>
I merely included this for clarity. The current CF spec is vague about why you would use standard_parallel or scale_factor_at_projection_origin and this should be clarified. 
</p>
</blockquote>
<p>
apologies for my lack of clarity.  I agree with your assessment of Proj4, my concern is allowing a parameterisation which is not supported by our primary software tools such as proj4 and OGR.
</p>
<p>
My preference would be that:
</p>
<blockquote>
<p>
the scale_factor_at_projection_origin variant should not be included
</p>
</blockquote>
<p>
but that the rest of the change should be included as described here.
</p>
<p>
However I am not so strongly of this view that I want to hold up this ticket any further.  If including the scale_factor_at_projection_origin variant is helpful in your view, then I think it can be managed, but I am struggling to see it's usefulness if the libraries I know of do not interpret it.
</p>
</blockquote>
<p>
It would be nice to have John Caron's opinion about this. From his response in <a class="ext-link" href="http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2011/049568.html"><span class="icon">​</span>http://mailman.cgd.ucar.edu/pipermail/cf-metadata/2011/049568.html</a> he seems to find it important to keep it.
</p>
<pre class="wiki">snyder 21-7 gives the formula for the scale factor, which can easily be 
inverted to derive the "standard_parallel" which i think just means the 
latitude at which the scale factor = 1. Thats why in CF you give one or 
the other.  so my guess is that the OGC is specifying redundant info.

GRIB-1 has "Grid lengths are in units of metres, at the 60-degree 
parallel nearest to the pole on the projection plane." If one uses 21-7 
to compute the scale factor at the pole that makes scale factor = 1 at 
60 degress, one gets 0.9330127018922193. use this for GRIB-1 GDS=5, and 
lo! the pictures look correct. GRIB-2 allows the user to specify and 
wowwa! they often have 0.933.
</pre><p>
In any case, even though Proj.4 does not support that variant, [Snyder] formula 21-7  allows to calculate it. I have included that in my provisional gdal netcdf driver code.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8-1342716043000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:8" class="cnum">
    <a href="#comment:8">comment:8</a>
  </span>
        in reply to:
    <a href="#comment:7">↑ 7</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-07-19T09%3A40%3A43-07%3A00&amp;precision=second" title="See timeline at 07/19/12 09:40:43">9 years ago</a> by markh
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Replying to <a class="ticket" href="./75#comment:7" title="Comment 7">etourigny</a>:
</p>
<blockquote class="citation">
<p>
In any case, even though Proj.4 does not support that variant, [Snyder] formula 21-7  allows to calculate it. I have included that in my provisional gdal netcdf driver code.
</p>
</blockquote>
<p>
OK, let us accept it's potential use and work with it.
</p>
<p>
You have my support for this propsal and all it's details
</p>
<p>
mark
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9-1343811677000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:9" class="cnum">
    <a href="#comment:9">comment:9</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2012-08-01T02%3A01%3A17-07%3A00&amp;precision=second" title="See timeline at 08/01/12 02:01:17">9 years ago</a> by jonathan
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Thanks for indicating you are content with this defect ticket, Mark. The ticket will be accepted by default on 9 August if no-one objects before then. Jonathan
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10-1483542195918634">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:10" class="cnum">
    <a href="#comment:10">comment:10</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2017-01-04T07%3A03%3A15-08%3A00&amp;precision=second" title="See timeline at 01/04/17 07:03:15">4 years ago</a> by davidhassell
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-owner">
      <strong class="trac-field-owner">Owner</strong>
        changed from <em>cf-conventions@…</em> to <em>davidhassell</em>
    </li><li class="trac-field-status">
      <strong class="trac-field-status">Status</strong>
        changed from <em>new</em> to <em>accepted</em>
    </li>
  </ul>

              </div>
              <div class="change" id="trac-change-11-1489426619960168">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:11" class="cnum">
    <a href="#comment:11">comment:11</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2017-03-13T10%3A36%3A59-07%3A00&amp;precision=second" title="See timeline at 03/13/17 10:36:59">4 years ago</a> by painter1
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-resolution">
      <strong class="trac-field-resolution">Resolution</strong>
        set to <em>fixed</em>
    </li><li class="trac-field-status">
      <strong class="trac-field-status">Status</strong>
        changed from <em>accepted</em> to <em>closed</em>
    </li>
  </ul>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="/trac/wiki/TracTickets">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="./75?format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="./75?format=csv" class="csv">Comma-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="./75?format=tab" class="tab">Tab-delimited Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="https://trac.edgewall.org/"><img src="/trac/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/trac/about"><strong>Trac 1.0.20</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the CF Metadata home page at<br /><a href="http://cf-convention.github.io">http://cf-convention.github.io</a><br><font color="#0000ff" size="3"><b>The CF Metadata Trac issue tracker is read-only and will soon be shut down permanently</b></font></p>
    </div>
  </body>
</html>

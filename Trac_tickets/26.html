<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  


  <head>
    <title>
      #26 (Enhance CF flag definitions to support bit fields)
     – CF Metadata
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="/trac/search" />
        <link rel="prev" href="./25.html" title="ticket #25" />
        <link rel="last" href="./176.html" title="ticket #176" />
        <link rel="help" href="/trac/wiki/TracGuide" />
        <link rel="alternate" href="./26?format=rss" type="application/rss+xml" class="rss" title="RSS Feed" /><link rel="alternate" href="./26?format=csv" type="text/csv" class="csv" title="Comma-delimited Text" /><link rel="alternate" href="./26?format=tab" type="text/tab-separated-values" class="tab" title="Tab-delimited Text" />
        <link rel="next" href="./27.html" title="ticket #27" />
        <link rel="start" href="/trac/wiki" />
        <link rel="stylesheet" href="/trac/chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="/trac/chrome/common/css/ticket.css" type="text/css" />
        <link rel="first" href="./1.html" title="ticket #1" />
        <link rel="shortcut icon" href="/trac/chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="/trac/chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="/trac/search/opensearch" title="Search CF Metadata" />
    <script type="text/javascript">
      var auto_preview_timeout=2.0;
      var form_token="b8aeac20bf7fd49b63339caa";
      var comments_prefs={"comments_only":"false","comments_order":"oldest"};
    </script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/folding.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/wikitoolbar.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/resizer.js"></script>
      <script type="text/javascript" charset="utf-8" src="/trac/chrome/common/js/auto_preview.js"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <script type="text/javascript" src="/trac/chrome/common/js/threaded_comments.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("div.description").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $(".foldable").enableFolding(false, true);
      /*<![CDATA[*/
        $("#attachments").toggleClass("collapsed");
        $("#trac-up-attachments").click(function () {
          $("#attachments").removeClass("collapsed");
          return true;
        });
        $("#modify").parent().toggleClass("collapsed");
        $(".trac-topnav a").click(function() { $("#modify").parent().removeClass("collapsed"); });
        /* only enable control elements for the currently selected action */
        var actions = $("#action input[name='action']");
        function updateActionFields() {
          actions.each(function () {
            $(this).siblings().find("*[id]").enable($(this).checked());
            $(this).siblings().filter("*[id]").enable($(this).checked());
          });
        }
        actions.click(updateActionFields);
        updateActionFields();
        function setRevertHandler() {
          $("button.trac-revert").click(function() {
            var div = $("div", this);
            var field_name = div[0].id.substr(7);
            var field_value = div.text();
            var input = $("#propertyform *[name=field_" + field_name + "]");
            if (input.length > 0) {
              if (input.filter("input[type=radio]").length > 0) {
                input.val([field_value]);
              } else if (input.filter("input[type=checkbox]").length > 0) {
                input.val(field_value == "1" ? [field_value] : []);
              } else {
                input.val(field_value);
              }
            } else { // Special case for CC checkbox
              input = $("#propertyform input[name=cc_update]").val([]);
            }
            input.change();
            $(this).closest("li").remove();
            return false;
          });
        }
        setRevertHandler();
        var comment_focused = false;
        $("#comment").focus(function() { comment_focused = true; })
                     .blur(function() { comment_focused = false; });
        $("#propertyform").autoSubmit({preview: '1'}, function(data, reply) {
          var items = $(reply);
          // Update ticket box
          $("#ticket").replaceWith(items.filter('#ticket'));
          // Update changelog with original order
          $("#changelog").replaceWith(items.filter("#changelog"));
          // Reorder comments
          applyCommentsOrder(
            $('#prefs input[name="trac-comments-order"]:checked').val());
          // Show warning
          var new_changes = $("#changelog .trac-new");
          $("#trac-edit-warning").toggle(new_changes.length != 0);
          if (new_changes.length != 0)
            $("#changelog").parent().show().removeClass("collapsed");
          // Update view time
          $("#propertyform input[name='view_time']").replaceWith(items.filter("input[name='view_time']"));
          // Update preview
          var preview = $("#ticketchange").html(items.filter('#preview').children());
          var show_preview = preview.children().length != 0;
          $("#ticketchange").toggle(show_preview);
          setRevertHandler();
          // Collapse property form if comment editor has focus
          if (show_preview && comment_focused)
            $("#modify").parent().addClass("collapsed");
          // Execute scripts to load stylesheets
          items.filter("script").appendTo("head");
        }, "#ticketchange .trac-loading");
        $("#trac-comment-editor").autoSubmit({preview_comment: '1'}, function(data, reply) {
          var comment = $("#trac-comment-editor").next("div.comment").html(reply);
          comment.toggle(comment.children().length != 0);
        }, "#changelog .trac-loading");
        /*]]>*/
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://cf-trac.llnl.gov/trac"><img src="/trac/chrome/site/cf_logo.png" alt="CF Metadata Trac" height="80" width="400" /></a>
      </div>
      <form id="search" action="/trac/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="/trac/login">Login</a></li><li><a href="/trac/about">About Trac</a></li><li><a href="/trac/prefs">Preferences</a></li><li class="last"><a href="/trac/wiki/TracGuide">Help/Guide</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="/trac/query">View Tickets</a></li><li><a href="/trac/roadmap">Roadmap</a></li><li><a href="/trac/timeline">Timeline</a></li><li><a href="/trac/search">Search</a></li><li class="last"><a href="/trac/wiki">Wiki</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><span>&larr; <a class="prev" href="./25.html" title="ticket #25">Previous Ticket</a></span></li><li class="last"><span><a class="next" href="./27.html" title="ticket #27">Next Ticket</a> &rarr;</span></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="ticket">
        <div id="ticket" class="trac-content ">
  <div class="date">
    <p>Opened <a class="timeline" href="/trac/timeline?from=2008-03-24T11%3A22%3A45-07%3A00&amp;precision=second" title="See timeline at 03/24/08 11:22:45">13 years ago</a></p>
    <p>Closed <a class="timeline" href="/trac/timeline?from=2008-07-14T18%3A43%3A01-07%3A00&amp;precision=second" title="See timeline at 07/14/08 18:43:01">13 years ago</a></p>
  </div>
  <h2>
    <a href="./26.html" class="trac-id">#26</a>
    <span class="trac-status">
      <a href="/trac/query?status=closed">closed</a>
    </span>
    <span class="trac-type">
      <a href="/trac/query?status=!closed&amp;type=enhancement">enhancement</a>
    </span>
    <span class="trac-resolution">
      (<a href="/trac/query?status=closed&amp;resolution=fixed">fixed</a>)
    </span>
  </h2>
  <h1 id="trac-ticket-title" class="searchable">
    <span class="summary">Enhance CF flag definitions to support bit fields</span>
  </h1>
  <table class="properties">
    <tr>
      <th id="h_reporter">Reported by:</th>
      <td headers="h_reporter" class="searchable"><a href="/trac/query?status=!closed&amp;reporter=gregr">gregr</a></td>
      <th id="h_owner">Owned by:</th>
      <td headers="h_owner"><a href="/trac/query?status=!closed&amp;owner=russ">russ</a></td>
    </tr>
    <tr>
        <th id="h_priority">
          Priority:
        </th>
        <td headers="h_priority">
              <a href="/trac/query?status=!closed&amp;priority=medium">medium</a>
        </td>
        <th id="h_milestone">
          Milestone:
        </th>
        <td headers="h_milestone">
              <a class="milestone" href="/trac/milestone/Website%20Transition" title="No date set">Website Transition</a>
        </td>
    </tr><tr>
        <th id="h_component">
          Component:
        </th>
        <td headers="h_component">
              <a href="/trac/query?status=!closed&amp;component=cf-conventions">cf-conventions</a>
        </td>
        <th id="h_version">
          Version:
        </th>
        <td headers="h_version">
              <a href="/trac/query?status=!closed&amp;version=1.0">1.0</a>
        </td>
    </tr><tr>
        <th id="h_keywords">
          Keywords:
        </th>
        <td headers="h_keywords" class="searchable">
              <a href="/trac/query?status=!closed&amp;keywords=~flags">flags</a>
        </td>
        <th id="h_cc" class="missing">
          Cc:
        </th>
        <td headers="h_cc" class="searchable">
        </td>
    </tr>
  </table>
  <div class="description">
    <h3 id="comment:description">
      Description
    </h3>
    <div class="searchable">
      <h2 id="a1.Title">1. Title</h2>
<blockquote>
<p>
Bit field enhancement to CF Flags definition
</p>
</blockquote>
<h2 id="a2.Moderator">2. Moderator</h2>
<blockquote>
<p>
???
</p>
</blockquote>
<h2 id="a3.Requirement">3. Requirement</h2>
<blockquote>
<p>
CF ought to provide a flag expression for multiple conditions, typically Boolean (binary), that describes one or more status conditions associated with a data variable.
</p>
</blockquote>
<h2 id="a4.InitialStatementofTechnicalProposal">4. Initial Statement of Technical Proposal</h2>
<p>
 
</p>
<blockquote>
<p>
A new CF flag attribute, named "flag_masks", would enhance the current CF flags capabilities to describe multiple, independent status conditions using bit fields to define unique conditions or status codes.
</p>
</blockquote>
<h2 id="a5.Benefits">5. Benefits</h2>
<blockquote>
<p>
Bit field flag attributes are best suited for describing data variables possessing a number of status conditions that typically occur independently of each other.
</p>
</blockquote>
<blockquote>
<p>
Bit field attributes would simplify the description of status flags that don't conveniently map to a unique set of mutually exclusive status codes, currently defined with flag_values attributes.
</p>
</blockquote>
<blockquote>
<p>
For example, when describing a precipitation measurement within a particular geo-spatial grid, a bit field flag value may be defined to contain four possible binary status conditions, occupying the four least significant bits, whose values would be defined as follows:
1 to indicate no sensor coverage at the grid location,
2 to indicate observation impairment at that grid location,
4 to indicate mixed-phase precipitation at the grid location,
8 to indicate snow precipitation at the grid location.
</p>
</blockquote>
<h2 id="a6.StatusQuo">6. Status Quo</h2>
<blockquote>
<p>
Current flag values could be defined for every OR'ed combination of bit settings that define all possible status conditions, but the result would be inefficient compared to simple bit field definitions.
</p>
</blockquote>

    </div>
  </div>
</div>
          
    <div id="attachments">
        <h3 class="foldable">Attachments <span class="trac-count">(2)</span></h3>
        <div class="attachments">
          <dl class="attachments">
              <dt>
    <a href="/trac/attachment/ticket/26/reTrac" title="View attachment">reTrac</a><a href="/trac/raw-attachment/ticket/26/reTrac" class="trac-rawlink" title="Download">​</a>
       (<span title="6676 bytes">6.5 KB</span>) -
      added by <em>gregr</em> <a class="timeline" href="/trac/timeline?from=2008-03-24T11%3A23%3A25-07%3A00&amp;precision=second" title="See timeline at 03/24/08 11:23:25">13 years ago</a>.
  </dt>
              <dd>
                Four suggested changes to the existing CF Conventions document regarding the proposed bit field flags attribute.
              </dd>
              <dt>
    <a href="/trac/attachment/ticket/26/flag_masks" title="View attachment">flag_masks</a><a href="/trac/raw-attachment/ticket/26/flag_masks" class="trac-rawlink" title="Download">​</a>
       (<span title="10180 bytes">9.9 KB</span>) -
      added by <em>russ</em> <a class="timeline" href="/trac/timeline?from=2008-06-20T12%3A11%3A17-07%3A00&amp;precision=second" title="See timeline at 06/20/08 12:11:17">13 years ago</a>.
  </dt>
              <dd>
                Enhancement to Flags with addition of flag_masks attribute
              </dd>
          </dl>
          <p>
            Download all attachments as: <a rel="nofollow" href="/trac/zip-attachment/ticket/26/">.zip</a>
          </p>
          
        </div>
    </div>

        <div>
          <div class="trac-noscript" style="position: relative">
            <form id="prefs" method="get" action="/trac/prefs" style="position: absolute; right: 0">
              <div id="trac-comments-order">
                <input type="radio" id="trac-comments-oldest" name="trac-comments-order" value="oldest" checked="checked" />
                <label for="trac-comments-oldest">Oldest first</label>
                <input type="radio" id="trac-comments-newest" name="trac-comments-order" value="newest" />
                <label for="trac-comments-newest">Newest first</label>
                <span id="trac-threaded-toggle" style="display: none">
                  <input type="radio" id="trac-comments-threaded" name="trac-comments-order" value="threaded" />
                  <label for="trac-comments-threaded">Threaded</label>
                </span>
              </div>
              <div>
                <input id="trac-comments-only-toggle" type="checkbox" />
                <label for="trac-comments-only-toggle">Comments only</label>
              </div>
            </form>
          </div>
          <h3 class="foldable">Change History <span class="trac-count">(18)</span></h3>
          <div id="changelog">
              <div class="change">
                
  <h3 class="change">
    <span class="threading">
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-03-24T11%3A23%3A25-07%3A00&amp;precision=second" title="See timeline at 03/24/08 11:23:25">13 years ago</a> by gregr
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-attachment">
      <strong class="trac-field-attachment">Attachment</strong>
        <a href="/trac/attachment/ticket/26/reTrac"><em>reTrac</em></a><a href="/trac/raw-attachment/ticket/26/reTrac" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      <p>
Four suggested changes to the existing CF Conventions document regarding the proposed bit field flags attribute.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-1-1207152619000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:1" class="cnum">
    <a href="#comment:1">comment:1</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-04-02T09%3A10%3A19-07%3A00&amp;precision=second" title="See timeline at 04/02/08 09:10:19">13 years ago</a> by jonathan
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Dear Greg
</p>
<p>
Thanks for this useful addition, which I support. I hope someone will volunteer to moderate this ticket.
</p>
<p>
The changes you propose to the conventions text (in your attachment) look clear to me. Could you also propose the required changes to the conformance document (which is implemented by the CF checker)?
</p>
<p>
Best wishes
</p>
<p>
Jonathan
</p>

    </div>

              </div>
              <div class="change" id="trac-change-2-1207167865000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:2" class="cnum">
    <a href="#comment:2">comment:2</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-04-02T13%3A24%3A25-07%3A00&amp;precision=second" title="See timeline at 04/02/08 13:24:25">13 years ago</a> by russ
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-owner">
      <strong class="trac-field-owner">Owner</strong>
        changed from <em>cf-conventions@…</em> to <em>russ</em>
    </li>
  </ul>
    <div class="comment searchable">
      <p>
Greg,
</p>
<p>
I'm volunteering to moderate this ticket.
</p>
<p>
--Russ
</p>

    </div>

              </div>
              <div class="change" id="trac-change-3-1207245025000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:3" class="cnum">
    <a href="#comment:3">comment:3</a>
  </span>
          <span>follow-up:</span>
    <a href="#comment:4" class="follow-up">↓ 4</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-04-03T10%3A50%3A25-07%3A00&amp;precision=second" title="See timeline at 04/03/08 10:50:25">13 years ago</a> by gregr
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
The following is an update of Section 3.5 (Flags) of the CF Conformance Requirements and Recommendations with my proposed additions:
</p>
<p>
3.5 Flags
</p>
<p>
Requirements:
</p>
<ul><li>The <strong>flag_values</strong> attribute must have the same type as the variable to which it is attached.
</li></ul><p>
+ The <strong>flag_masks</strong> attribute must have the same type as the variable to which it is attached.
</p>
<p>
+ The <strong>flag_masks</strong> attribute must have a type that is compatible with bit field expression, for example, char, byte, short and int.
</p>
<p>
+ Floating point decimal <strong>flag_masks</strong> values are prohibited, specifically, float, real and double.
</p>
<p>
+ The <strong>flag_masks</strong> attribute values must be non-zero.
</p>
<p>
+ The <strong>flag_values</strong> attribute values must be mutually exclusive among the set of <strong>flag_values</strong> attribute values defined for that variable.
</p>
<p>
+ When only the <strong>flags_masks</strong> and <strong>flag_meanings</strong> attributes are defined (no <strong>flag_values</strong>), the bit fields of each <strong>flag_masks</strong> value must not be shared with any other <strong>flag_masks</strong> value defined for that variable.  For example, a boolean exclusive OR of each <strong>flag_masks</strong> value with any other <strong>flag_masks</strong> value, must be false (zero).
</p>
<p>
Recommendations:
</p>
<p>
+ The number of <strong>flag_values</strong> attribute values should equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string.
</p>
<p>
+ The number of <strong>flag_masks</strong> attribute values should equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-4-1207292333000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:4" class="cnum">
    <a href="#comment:4">comment:4</a>
  </span>
        in reply to:
    <a href="#comment:3">↑ 3</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-04-03T23%3A58%3A53-07%3A00&amp;precision=second" title="See timeline at 04/03/08 23:58:53">13 years ago</a> by jonathan
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Dear Greg
</p>
<p>
Your requirements 2-4 are related. Maybe they could be combined and simplified thus:
</p>
<p>
If there is a <tt>flag_masks</tt> attribute, the data variable must have a type that is compatible with bit field expression (char, byte, short and int), not floating-point (float, real, double), and the <tt>flag_masks</tt> attribute must have the same type.
</p>
<blockquote class="citation">
<p>
When only the <strong>flags_masks</strong> and <strong>flag_meanings</strong> attributes are defined (no <strong>flag_values</strong>), the bit fields of each <strong>flag_masks</strong> value must not be shared with any other <strong>flag_masks</strong> value defined for that variable.  For example, a boolean exclusive OR of each <strong>flag_masks</strong> value with any other <strong>flag_masks</strong> value, must be false (zero).
</p>
</blockquote>
<p>
Should that be "boolean AND"? If XOR gives zero, the masks are the same, I think.
</p>
<p>
These two:
</p>
<blockquote class="citation">
<p>
The number of <strong>flag_values</strong> attribute values should equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string.
</p>
</blockquote>
<blockquote class="citation">
<p>
The number of <strong>flag_masks</strong> attribute values should equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string.
</p>
</blockquote>
<p>
should be requirements, I think i.e. if they are not met it is an error. I don't really know why the first of these isn't already a requirement.
</p>
<p>
You could have a recommendation that if <tt>flag_values</tt> and <tt>flag_masks</tt> are both defined, the Boolean AND of each entry in <tt>flag_values</tt> with its corresponding entry in <tt>flag_masks</tt> should leave the value unaffected i.e. the mask selects all the bits required to express the value.
</p>
<p>
Cheers
</p>
<p>
Jonathan
 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-5-1207317878000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:5" class="cnum">
    <a href="#comment:5">comment:5</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-04-04T07%3A04%3A38-07%3A00&amp;precision=second" title="See timeline at 04/04/08 07:04:38">13 years ago</a> by gregr
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Jonathon,
</p>
<p>
Good comments.  The more consolidation for fewer rules, the better.  I bumped both 'number of words or phrases' items into the Requirements list.  After confirming that the CF compliance checker currently permits an unequal number of values and meanings, I wasn't sure of the current status so I opted to submit them as Recommendations.  I agree, they ought to be required.  I debated merging these two requirements into one but decided that the result may be ambiguous, perhaps you can suggest a more suitable wording.
</p>
<p>
I reworded the flag_meanings exclusivity requirement to use a Boolean AND, rather than an XOR, as you suggested.  They both establish the same restriction, but the AND will probably be clearer to readers.
</p>
<p>
I also added a recommendation, as you also suggested, regarding the relation of flag_masks and flag_values.
</p>
<p>
So, the new-and-improved list of Flags requirements and recommendations is as follows.
</p>
<p>
Thanks,
Greg.
</p>
<h2 id="a3.5Flags">3.5 Flags</h2>
<p>
Requirements:
</p>
<p>
+ The number of <strong>flag_values</strong> attribute values should equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string.
</p>
<p>
+ The number of <strong>flag_masks</strong> attribute values should equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string.
</p>
<ul><li>The <strong>flag_values</strong> attribute must have the same type as the variable to which it is attached.
</li></ul><p>
+ Variables with a <strong>flag_masks</strong> attribute must have a type that is compatible with bit field expression (char, byte, short and int), not floating-point (float, real, double), and the <strong>flag_masks</strong> attribute must have the same type.
</p>
<p>
+ The <strong>flag_masks</strong> attribute values must be non-zero.
</p>
<p>
+ The <strong>flag_values</strong> attribute values must be mutually exclusive among the set of <strong>flag_values</strong> attribute values defined for that variable.
</p>
<p>
+ When only <strong>flags_masks</strong> and <strong>flag_meanings</strong> attributes are defined (no <strong>flag_values</strong>), the bit fields of each <strong>flag_masks</strong> value must not be shared with any other <strong>flag_masks</strong> value defined for that variable.  For example, a boolean AND of each <strong>flag_masks</strong> value with any other <strong>flag_masks</strong> value, must be false (zero).
</p>
<p>
Recommendations:
</p>
<p>
+ When <strong>flag_masks</strong> and <strong>flag_values</strong> are both defined, the Boolean AND of each entry in <strong>flag_values</strong> with its corresponding entry in <strong>flag_masks</strong> should equal the <strong>flag_values</strong> entry, ie, the mask selects all the bits required to express the value.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-6-1207386944000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:6" class="cnum">
    <a href="#comment:6">comment:6</a>
  </span>
          <span>follow-up:</span>
    <a href="#comment:8" class="follow-up">↓ 8</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-04-05T02%3A15%3A44-07%3A00&amp;precision=second" title="See timeline at 04/05/08 02:15:44">13 years ago</a> by gregr
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
I forgot to replace 'should' with 'must' while changing the first two items from recommendations to requirements:
</p>
<p>
+ The number of <strong>flag_values</strong> attribute values must equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string.
</p>
<p>
+ The number of <strong>flag_masks</strong> attribute values must equal the number of words or phrases appearing in the <strong>flag_meanings</strong> string. 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-7-1209073683000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:7" class="cnum">
    <a href="#comment:7">comment:7</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-04-24T14%3A48%3A03-07%3A00&amp;precision=second" title="See timeline at 04/24/08 14:48:03">13 years ago</a> by dettling
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
I would like to voice my support for these modifications to the CF conventions document. We could 
and will definitely make use of these enhancements to the flags definition for CoSPA (Consolidated Storm Prediction for Aviation) which includes data products from multiple organizations (GSD/NOAA, MIT/LL, and NCAR/RAL).
</p>
<p>
Sue Dettling 
Research Applications Lab
NCAR
</p>

    </div>

              </div>
              <div class="change" id="trac-change-8-1209651604000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:8" class="cnum">
    <a href="#comment:8">comment:8</a>
  </span>
        in reply to:
    <a href="#comment:6">↑ 6</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-05-01T07%3A20%3A04-07%3A00&amp;precision=second" title="See timeline at 05/01/08 07:20:04">13 years ago</a> by russ
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Replying to <a class="ticket" href="./26#comment:6" title="Comment 6">gregr</a>:
</p>
<p>
Greg,
</p>
<p>
I was about to suggest we wrap up discussion on this proposal, but in
looking at the Examples 3.3, 3.4, and 3.5 in the attachment, I was
left with some questions about use of the "valid_range" attribute and
the meaning of the combined use of flag_masks and flag_values in
Example 3.5.
</p>
<p>
Example 3.3 has
</p>
<blockquote>
<p>
current_speed_qc:valid_range = -127b, 127b ;
</p>
</blockquote>
<p>
and
</p>
<blockquote>
<p>
current_speed_qc:flag_values = 0b, 1b, 2b ;
</p>
</blockquote>
<p>
If the only allowable values for current_speed_qc are the enumerated
flag_values, why does the valid_range permit other values?  What would
be the meaning of a current_speed_qc value of -1 in this case, which
is within the valid range but not one of the listed flag_values?  I
suggest changing the valid_range in this example to
</p>
<blockquote>
<p>
current_speed_qc:valid_range = 0b, 2b ;
</p>
</blockquote>
<p>
Similarly, Example 3.4 has
</p>
<blockquote>
<p>
sensor_status_qc:valid_range = 1b, 127b ;
</p>
</blockquote>
<p>
and
</p>
<blockquote>
<p>
sensor_status_qc:flag_masks = 1b, 2b, 4b, 8b, 16b, 32b ;
</p>
</blockquote>
<p>
where  the valid_range is wider than the possible combinations of
flag_masks, so in this example, I would suggest changing valid_range
to
</p>
<blockquote>
<p>
sensor_status_qc:valid_range = 1b, 63b ;
</p>
</blockquote>
<p>
and I think Example 3.5 should have
</p>
<blockquote>
<p>
sensor_status_qc:valid_range = 1b, 15b ;
</p>
</blockquote>
<p>
although I'm unclear about whether that upper limit is intended,
because I'm having trouble understanding the use of both flag_masks
and flag_values attributes for a variable in Example 3.5:
</p>
<blockquote>
<p>
sensor_status_qc:valid_range = 1b, 127b ;<br />
sensor_status_qc:flag_masks = 1b, 2b, 12b, 12b, 12b ;<br />
sensor_status_qc:flag_values = 1b, 2b, 4b, 8b, 12b ;<br />
sensor_status_qc:flag_meanings = "low_battery<br />
</p>
<blockquote>
<p>
hardware_fault<br />
offline_mode<br />
calibration_mode<br />
maintenance_mode";
</p>
</blockquote>
</blockquote>
<p>
The sentence in the Example explanation that seems unclear to me is 
</p>
<blockquote>
<p>
Repeated flag_masks define a bit field mask that identifies a number
of status conditions with different flag_values.
</p>
</blockquote>
<p>
Why doesn't the example just use
</p>
<blockquote>
<p>
sensor_status_qc:flag_masks = 1b, 2b, 12b ;
</p>
</blockquote>
<p>
without repeated flag_masks values to convey the same meaning?  Or how
would the meaning differ if it just used
</p>
<blockquote>
<p>
sensor_status_qc:flag_masks = 1b, 2b ;
</p>
</blockquote>
<p>
Is it intended that a sensor_status_qc value of 12b indicate
"maintenance_mode" (the flag_meaning corresponding to the flag_value
12b) or a combination of "offline_mode" and "calibration_mode" (since
12b corresponds to a boolean OR of the corresponding flag_values).  Or
maybe the intended meaning is that these are synonymous, providing an
implicit definition of "maintenance_mode".
</p>
<p>
In this example, would a sensor_status_qc value of 9b be permitted?  I
assume not, because it's not a listed flag_value or boolean OR of a
listed flag_mask.  But how about 13b, 14b, or 15b?  Those are all
valid boolean OR combinations of flag_masks, even though they aren't
in the list of valid flag_values.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-9-1209684921000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:9" class="cnum">
    <a href="#comment:9">comment:9</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-05-01T16%3A35%3A21-07%3A00&amp;precision=second" title="See timeline at 05/01/08 16:35:21">13 years ago</a> by gregr
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Replying to russ:
</p>
<p>
Russ,
</p>
<p>
Thanks for the comments on my CF ticket.  Most of your suggested changes in the provided examples made sense and I think the issues you discuss, regarding the combined use of flag_masks and flag_values, probably indicates that some rewording is necessary to make things clearer for readers.
</p>
<p>
In Example 3.3, I simply "lifted" from the current CF document.  However, the valid range and flag values ought to be, as you suggested:
</p>
<blockquote>
<p>
current_speed_qc:valid_range = 0b, 2b ;
current_speed_qc:flag_values = 0b, 1b, 2b ;
</p>
</blockquote>
<p>
In Example 3.4, I max'ed out the valid range, as in Example 3.3.  However, the valid range and flag masks ought to be, as you suggested:
</p>
<blockquote>
<p>
sensor_status_qc:valid_range = 1b, 63b ;
sensor_status_qc:flag_masks = 1b, 2b, 4b, 8b, 16b, 32b ;
</p>
</blockquote>
<p>
In Example 3.5, the valid range, flag values and flag masks ought to be:
</p>
<blockquote>
<p>
sensor_status_qc:valid_range = 1b, 15b ;
sensor_status_qc:flag_masks = 1b, 2b, 12b, 12b, 12b ;
sensor_status_qc:flag_values = 1b, 2b, 4b, 8b, 12b ;
sensor_status_qc:flag_meanings =
</p>
<blockquote>
<p>
"low_battery
</p>
<blockquote>
<p>
hardware_fault
offline_mode calibration_mode maintenance_mode" ;
</p>
</blockquote>
</blockquote>
</blockquote>
<p>
In this case, mutually exclusive values are blended with Boolean values to maximize use of the available bits in a flag value.  Perhaps a diagram would better illustrate what is being expressed:
</p>
<blockquote>
<p>
The table below represents the four binary digits (bits) expressed by
the sensor_status_qc variable in Example 3.5.
</p>
</blockquote>
<blockquote>
<p>
Bit 0 and Bit 1 are Boolean values indicating a low battery condition
and a hardware fault, respectively.
The next two bits (Bit 2 &amp; Bit 3) express an enumeration indicating
abnormal sensor operating modes.
</p>
</blockquote>
<blockquote>
<p>
Thus, if Bit 0 is set, the battery is low and if Bit 1 is set,
there is a hardware fault - independent of the current sensor
operating mode.
</p>
</blockquote>
<blockquote>
<p>
+-------------------------------+
| Bit 3 . Bit 2 | Bit 1 | Bit 0 |
| (MSB) .       |       | (LSB) |
|       .       |       |       |
|       .       | H/W   | Low   |
|       .       | Fault | Batt  |
|       .       |       |       |
+-------------------------------+
</p>
</blockquote>
<blockquote>
<p>
The remaining bits (Bit 2 &amp; Bit 3) are decoded as follows:
Bit3:0   Bit2:1  = offline_mode
</p>
<blockquote>
<p>
1        0  = calibration_mode
1        1  = maintenance_mode
</p>
</blockquote>
</blockquote>
<p>
The "12b" flag mask is repeated in the sensor_status_qc flag_masks definition to explicitly declare the recommended bit field masks for repeatedly AND'ing with the variable value while searching for matching enumerated values.  An application determines if any of the conditions declared in the flag_meanings list are true by simply iterating through each of the flag_masks and AND'ing them with the variable.  When a result is non-zero, that condition is true.  The repeated flag_masks seemed to enable a simple mechanism for clients to detect all possible conditions.
</p>
<p>
Finally, to answer your questions regarding value meanings:
</p>
<ul><li>A sensor_status_qc value of "12b" would indicate that the sensor
was in maintenance mode and that no faults existed.
</li></ul><ul><li>A sensor_status_qc value of '9b' would indicate that the sensor
was in calibration mode and that the battery was low.
</li></ul><p>
Greg.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-10-1209685744000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:10" class="cnum">
    <a href="#comment:10">comment:10</a>
  </span>
          <span>follow-up:</span>
    <a href="#comment:11" class="follow-up">↓ 11</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-05-01T16%3A49%3A04-07%3A00&amp;precision=second" title="See timeline at 05/01/08 16:49:04">13 years ago</a> by gregr
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
<strong>Corrections to my previous submission:
</strong></p>
<p>
Yow!  My item lines and bit field table were *seriously* mangled by the Wiki without the necessary blocking.  Here's another go at a more readable entry ... feel free to ignore my last submission.
<strong>
</strong></p>
<p>
In Example 3.3, I simply "lifted" from the current CF document.  However, the valid range and flag values ought to be, as you suggested:
</p>
<pre class="wiki">  current_speed_qc:valid_range = 0b, 2b ;
  current_speed_qc:flag_values = 0b, 1b, 2b ;
</pre><p>
In Example 3.4, I max'ed out the valid range, as in Example 3.3.  However, the valid range and flag masks ought to be, as you suggested:
</p>
<pre class="wiki">  sensor_status_qc:valid_range = 1b, 63b ;
  sensor_status_qc:flag_masks = 1b, 2b, 4b, 8b, 16b, 32b ;
</pre><p>
In Example 3.5, the valid range, glag masks, flag values and flag meanings ought to be:
</p>
<pre class="wiki">  sensor_status_qc:valid_range = 1b, 15b ;
  sensor_status_qc:flag_masks = 1b, 2b, 12b, 12b, 12b ;
  sensor_status_qc:flag_values = 1b, 2b, 4b, 8b, 12b ;
  sensor_status_qc:flag_meanings =
    "low_battery
     hardware_fault
     offline_mode calibration_mode maintenance_mode" ;
</pre><p>
In this case, mutually exclusive values are blended with Boolean values to maximize use of the available bits in a flag value.  Perhaps a diagram would better illustrate what is being expressed:
</p>
<blockquote>
<p>
The table below represents the four binary digits (bits) expressed by the sensor_status_qc variable in Example 3.5.
</p>
</blockquote>
<blockquote>
<p>
Bit 0 and Bit 1 are Boolean values indicating a low battery condition and a hardware fault, respectively.
The next two bits (Bit 2 &amp; Bit 3) express an enumeration indicating abnormal sensor operating modes.
</p>
</blockquote>
<blockquote>
<p>
Thus, if Bit 0 is set, the battery is low and if Bit 1 is set, there is a hardware fault - independent of the current sensor operating mode.
</p>
</blockquote>
<pre class="wiki">    +-------------------------------+
    | Bit 3 . Bit 2 | Bit 1 | Bit 0 |
    | (MSB) .       |       | (LSB) |
    |       .       |       |       |
    |       .       | H/W   | Low   |
    |       .       | Fault | Batt  |
    |       .       |       |       |
    +-------------------------------+
</pre><blockquote>
<p>
The remaining bits (Bit 2 &amp; Bit 3) are decoded as follows:
</p>
<pre class="wiki">    Bit3:0   Bit2:1  = offline_mode
         1        0  = calibration_mode
         1        1  = maintenance_mode
</pre></blockquote>
<p>
The "12b" flag mask is repeated in the sensor_status_qc flag_masks definition to explicitly declare the recommended bit field masks to repeatedly AND with the variable value while searching for matching enumerated values.  An application determines if any of the conditions declared in the flag_meanings list are true by simply iterating through each of the flag_masks and AND'ing them with the variable.  When a result is non-zero, that condition is true.  The repeated flag_masks seemed to enable a simple mechanism for clients to detect all possible conditions.
</p>
<p>
Finally, to answer your questions regarding value meanings:
</p>
<ul><li>A sensor_status_qc value of "12b" would indicate that the sensor was in maintenance mode and that no faults existed.
</li></ul><ul><li>A sensor_status_qc value of '9b' would indicate that the sensor was in calibration mode and that the battery was low.
</li></ul><p>
Greg.
</p>

    </div>

              </div>
              <div class="change" id="trac-change-11-1209745316000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:11" class="cnum">
    <a href="#comment:11">comment:11</a>
  </span>
        in reply to:
    <a href="#comment:10">↑ 10</a>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-05-02T09%3A21%3A56-07%3A00&amp;precision=second" title="See timeline at 05/02/08 09:21:56">13 years ago</a> by russ
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Greg,
</p>
<p>
Thanks for the very clear explanation of the encoding of mixed flag
values and Boolean masks in Example 3.5.  Maybe a little more
explanation of this example is needed than in the original text, but
perhaps not as much as was required to make me realize what was going
on with encoding one of several mutually exclusive flag meanings in
contiguous bits of a flag value.
</p>
<p>
Your explanation for the desirability of repeated flag_masks values
also seems clear if I change "non-zero" to "equal to the corresponding
flag_values element" in
</p>
<blockquote>
<p>
... An application determines if any of the conditions declared in
the flag_meanings list are true by simply iterating through each of
the flag_masks and AND'ing them with the variable. When a result is
<em>non-zero</em>, that condition is true.
</p>
</blockquote>
<p>
so it reads
</p>
<blockquote>
<p>
... An application determines if any of the conditions declared in
the flag_meanings list are true by simply iterating through each of
the flag_masks and AND'ing them with the variable. When a result is
<em>equal to the corresponding flag_values element</em>, that condition is
true.
</p>
</blockquote>
<p>
This is also in accord with the recommendation in the proposal.
</p>
<p>
Regards,
</p>
<p>
Russ
</p>

    </div>

              </div>
              <div class="change" id="trac-change-12-1211475190000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:12" class="cnum">
    <a href="#comment:12">comment:12</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-05-22T09%3A53%3A10-07%3A00&amp;precision=second" title="See timeline at 05/22/08 09:53:10">13 years ago</a> by stevehankin
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
This comment is in some sense orthogonal to the specific discussion of bit map flags.  It applies to all flag definitions in CF.  Namely -- consideration of namespaces for the flag definitions 
</p>
<p>
What our flags encodings provide is a human-readable way for a sub-group of CF-users to define their own flag conventions.  What we do not provide (or have I overlooked it?) is a way for an application to identify who the sub-group was that created this file.  This is needed for future interoperability -- so that (some day) a generic application can locate the correct mapping between flags that may be available elsewhere.
</p>
<p>
It seems that CF lacks a global attribute in the spirit of
</p>
<pre class="wiki">    :local_conventions = "my_foo_community";
</pre><p>
I'd note that the requirement described here is echoed in a slightly different key in the discussions of Common Concept (<a class="new ticket" href="./24.html" title="enhancement: Common Concept: vocabulary with mapping to CF attributes (new)">#24</a>).  Maybe we should split out from both of these tickets a more general discussion of how to identify which local conventions are being utilized in a given CF file.
</p>
<p>
<em>n.b. we need to beware the slippery slope of CF becoming merely a container for "application schema" in the style of the OGC specifications.</em>
</p>

    </div>

              </div>
              <div class="change" id="trac-change-13-1211581437000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:13" class="cnum">
    <a href="#comment:13">comment:13</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-05-23T15%3A23%3A57-07%3A00&amp;precision=second" title="See timeline at 05/23/08 15:23:57">13 years ago</a> by stevehankin
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
I have been discussing flag values offline with some folks in the Argo community.  They have chosen an altogether different encoding of flags in their netCDF files -- using a string variable, in fact.  I've urged them to look at the CF encodings and think about whether we can converge.  I hope that conversation will continue.
</p>
<p>
The Argo needs revealed a fairly major inconsistency in the flag encodings as defined in the current CF standard (section 3.5).  Namely, there are no linkages provided in the file to indicate what variables a particular flag applies to.  In fact, in the example given, the association is implied to be through the variable name, "current_speed_qc", and long_name, "Current Speed Quality" -- highly non-CF approaches to defining connections between variables.
</p>
<p>
I would propose, instead, that any CF variable should be able to contain an attribute, say markup_flags =, that points to flags that are relevant for it.  Here is an example -- an expansion of the example from section 3.5:
</p>
<pre class="wiki">  float temperature(time, depth, lat, lon) ;
    temperature:markup_flags = "my_flags" ;
  byte my_flags(time, depth, lat, lon) ;
    my_flags:long_name = "Quality Flags" ;
    my_flags:_FillValue = -128b ;
    my_flags:valid_range = -127b, 127b ;
    my_flags:flag_values = 0b, 1b, 2b ;
    my_flags:flag_meanings = "quality_good sensor_nonfunctional 
                                                     outside_valid_range" ;
</pre><p>
 
</p>

    </div>

              </div>
              <div class="change" id="trac-change-14-1211697253000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:14" class="cnum">
    <a href="#comment:14">comment:14</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-05-24T23%3A34%3A13-07%3A00&amp;precision=second" title="See timeline at 05/24/08 23:34:13">13 years ago</a> by jonathan
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
Dear Steve
</p>
<p>
I don't think there is a deficiency of the kind you suggest in the current CF standard. There are two well-defined methods to make a link between flag data and the variables it applies to, as described in CF 3.4. They are:
</p>
<ol><li>Via the standard name, which should include the standard name modifier <tt>status_flag</tt>. For instance, in your ARGO example the <tt>temperature</tt> variable would have <tt>standard_name="sea_water_temperature"</tt>, and the <tt>my_flags</tt> variable would have <tt>standard_name="sea_water_temperature status_flag"</tt>.
</li><li>Via the <tt>ancillary_variables</tt> attribute. In your example, the <tt>temperature</tt> variable would have an attribute <tt>ancillary_variables="my_flags"</tt>.
</li></ol><p>
Greg's proposal (in this ticket) doesn't affect these existing conventions.
</p>
<p>
I would say that your other point, about local conventions, isn't specific to this proposal. It relates to the discussion in ticket 27.
</p>
<p>
I think this proposal is fine as it is.
</p>
<p>
Cheers
</p>
<p>
Jonathan
</p>

    </div>

              </div>
              <div class="change">
                
  <h3 class="change">
    <span class="threading">
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-06-20T12%3A11%3A17-07%3A00&amp;precision=second" title="See timeline at 06/20/08 12:11:17">13 years ago</a> by russ
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-attachment">
      <strong class="trac-field-attachment">Attachment</strong>
        <a href="/trac/attachment/ticket/26/flag_masks"><em>flag_masks</em></a><a href="/trac/raw-attachment/ticket/26/flag_masks" title="Download" class="trac-rawlink">​</a>
          added
    </li>
  </ul>
    <div class="comment searchable">
      <p>
Enhancement to Flags with addition of flag_masks attribute
</p>

    </div>

              </div>
              <div class="change" id="trac-change-15-1213989969000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:15" class="cnum">
    <a href="#comment:15">comment:15</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-06-20T12%3A26%3A09-07%3A00&amp;precision=second" title="See timeline at 06/20/08 12:26:09">13 years ago</a> by russ
  </h3>
  <div class="trac-ticket-buttons">
  </div>
    <div class="comment searchable">
      <p>
All,
</p>
<p>
It's been four weeks since the last discussion of this ticket (<a class="closed ticket" href="./26.html" title="enhancement: Enhance CF flag definitions to support bit fields (closed: fixed)">ticket:26</a>) to enhance flags with a <tt>flag_masks</tt> attribute.  As moderator and with the intention of closing the ticket, I've edited Greg Rappa's original proposal to incorporate the changes that have been agreed upon.  The edited proposal is available as a <a class="attachment" href="/trac/attachment/ticket/26/flag_masks" title="Attachment 'flag_masks' in Ticket #26">text attachment</a><a class="trac-rawlink" href="/trac/raw-attachment/ticket/26/flag_masks" title="Download">​</a> that shows the suggested changes to the CF Conventions and to the CF Conformance Requirements and Recommendations documents.
</p>
<p>
Thanks to Greg Rappa for the original proposal and to the discussion participants for improvements to the text.
</p>
<p>
--Russ
</p>

    </div>

              </div>
              <div class="change" id="trac-change-16-1216086181000000">
                
  <h3 class="change">
    <span class="threading">
      <span id="comment:16" class="cnum">
    <a href="#comment:16">comment:16</a>
  </span>
    </span>
        Changed <a class="timeline" href="/trac/timeline?from=2008-07-14T18%3A43%3A01-07%3A00&amp;precision=second" title="See timeline at 07/14/08 18:43:01">13 years ago</a> by mlaker1
  </h3>
  <div class="trac-ticket-buttons">
  </div>
  <ul class="changes">
    <li class="trac-field-resolution">
      <strong class="trac-field-resolution">Resolution</strong>
        set to <em>fixed</em>
    </li><li class="trac-field-status">
      <strong class="trac-field-status">Status</strong>
        changed from <em>new</em> to <em>closed</em>
    </li>
  </ul>

              </div>
          </div>
        </div>
      <div id="help"><strong>Note:</strong> See
        <a href="/trac/wiki/TracTickets">TracTickets</a> for help on using
        tickets.</div>
    </div>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="./26?format=rss" class="rss">RSS Feed</a>
        </li><li>
          <a rel="nofollow" href="./26?format=csv" class="csv">Comma-delimited Text</a>
        </li><li class="last">
          <a rel="nofollow" href="./26?format=tab" class="tab">Tab-delimited Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="https://trac.edgewall.org/"><img src="/trac/chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="/trac/about"><strong>Trac 1.0.20</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the CF Metadata home page at<br /><a href="http://cf-convention.github.io">http://cf-convention.github.io</a><br><font color="#0000ff" size="3"><b>The CF Metadata Trac issue tracker is read-only and will soon be shut down permanently</b></font></p>
    </div>
  </body>
</html>
